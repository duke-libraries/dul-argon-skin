function resizeChosen(){$(".chosen-container").each(function(){$(this).attr("style","width: 100%")})}function rgb2hex(t){function e(t){return("0"+parseInt(t).toString(16)).slice(-2)}return/^#[0-9A-F]{6}$/i.test(t)?t:"#"+e((t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+e(t[2])+e(t[3])}function luminance(t,e,n){var i=[t,e,n].map(function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)});return.2126*i[0]+.7152*i[1]+.0722*i[2]}function contrast(t,e){return(luminance(t[0],t[1],t[2])+.05)/(luminance(e[0],e[1],e[2])+.05)}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(k,t){function a(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"!==n&&!ft.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function e(t,n,i){if(ft.isFunction(n))return ft.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return ft.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(kt.test(n))return ft.filter(n,t,i);n=ft.filter(n,t)}return ft.grep(t,function(t){return-1<ft.inArray(t,n)!==i})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var n={};return ft.each(t.match(Nt)||[],function(t,e){n[e]=!0}),n}function o(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",r),k.removeEventListener("load",r)):(it.detachEvent("onreadystatechange",r),k.detachEvent("onload",r))}function r(){(it.addEventListener||"load"===k.event.type||"complete"===it.readyState)&&(o(),ft.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(Lt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Pt.test(n)?ft.parseJSON(n):n)}catch(o){}ft.data(t,e,n)}else n=undefined}return n}function c(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function i(t,e,n,i){if(Dt(t)){var o,r,s=ft.expando,a=t.nodeType,l=a?ft.cache:t,c=a?t[s]:t[s]&&s;if(c&&l[c]&&(i||l[c].data)||n!==undefined||"string"!=typeof e)return c||(c=a?t[s]=nt.pop()||ft.guid++:s),l[c]||(l[c]=a?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=ft.extend(l[c],e):l[c].data=ft.extend(l[c].data,e)),r=l[c],i||(r.data||(r.data={}),r=r.data),n!==undefined&&(r[ft.camelCase(e)]=n),"string"==typeof e?null==(o=r[e])&&(o=r[ft.camelCase(e)]):o=r,o}}function s(t,e,n){if(Dt(t)){var i,o,r=t.nodeType,s=r?ft.cache:t,a=r?t[ft.expando]:ft.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){o=(e=ft.isArray(e)?e.concat(ft.map(e,ft.camelCase)):e in i?[e]:(e=ft.camelCase(e))in i?[e]:e.split(" ")).length;for(;o--;)delete i[e[o]];if(n?!c(i):!ft.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(r?ft.cleanData([t],!0):ht.deleteExpando||s!=s.window?delete s[a]:s[a]=undefined)}}}function h(t,e,n,i){var o,r=1,s=20,a=i?function(){return i.cur()}:function(){return ft.css(t,e,"")},l=a(),c=n&&n[3]||(ft.cssNumber[e]?"":"px"),u=(ft.cssNumber[e]||"px"!==c&&+l)&&Ht.exec(ft.css(t,e));if(u&&u[3]!==c)for(c=c||u[3],n=n||[],u=+l||1;u/=r=r||".5",ft.style(t,e,u+c),r!==(r=a()/l)&&1!==r&&--s;);return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function g(t){var e=Qt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function v(t,e){var n,i,o=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||ft.nodeName(i,e)?r.push(i):ft.merge(r,v(i,e));return e===undefined||e&&ft.nodeName(t,e)?ft.merge([t],r):r}function y(t,e){for(var n,i=0;null!=(n=t[i]);i++)ft._data(n,"globalEval",!e||ft._data(e[i],"globalEval"))}function b(t){Ft.test(t.type)&&(t.defaultChecked=t.checked)}function m(t,e,n,i,o){for(var r,s,a,l,c,u,h,d=t.length,f=g(e),p=[],m=0;m<d;m++)if((s=t[m])||0===s)if("object"===ft.type(s))ft.merge(p,s.nodeType?[s]:s);else if(Gt.test(s)){for(l=l||f.appendChild(e.createElement("div")),c=(Wt.exec(s)||["",""])[1].toLowerCase(),h=Xt[c]||Xt._default,l.innerHTML=h[1]+ft.htmlPrefilter(s)+h[2],r=h[0];r--;)l=l.lastChild;if(!ht.leadingWhitespace&&Ut.test(s)&&p.push(e.createTextNode(Ut.exec(s)[0])),!ht.tbody)for(r=(s="table"!==c||Kt.test(s)?"<table>"!==h[1]||Kt.test(s)?0:l:l.firstChild)&&s.childNodes.length;r--;)ft.nodeName(u=s.childNodes[r],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(ft.merge(p,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=f.lastChild}else p.push(e.createTextNode(s));for(l&&f.removeChild(l),ht.appendChecked||ft.grep(v(p,"input"),b),m=0;s=p[m++];)if(i&&-1<ft.inArray(s,i))o&&o.push(s);else if(a=ft.contains(s.ownerDocument,s),l=v(f.appendChild(s),"script"),a&&y(l),n)for(r=0;s=l[r++];)Vt.test(s.type||"")&&n.push(s);return l=null,f}function d(){return!0}function f(){return!1}function p(){try{return it.activeElement}catch(t){}}function x(t,e,n,i,o,r){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=undefined),e)x(t,a,n,i,e[a],r);return t}if(null==i&&null==o?(o=n,i=n=undefined):null==o&&("string"==typeof n?(o=i,i=undefined):(o=i,i=n,n=undefined)),!1===o)o=f;else if(!o)return t;return 1===r&&(s=o,(o=function(t){return ft().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,o,i,n)})}function _(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function w(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function $(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function C(t,e){if(1===e.nodeType&&ft.hasData(t)){var n,i,o,r=ft._data(t),s=ft._data(e,r),a=r.events;if(a)for(n in delete s.handle,s.events={},a)for(i=0,o=a[n].length;i<o;i++)ft.event.add(e,n,a[n][i]);s.data&&(s.data=ft.extend({},s.data))}}function S(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ht.noCloneEvent&&e[ft.expando]){for(i in(o=ft._data(e)).events)ft.removeEvent(e,i,o.handle);e.removeAttribute(ft.expando)}"script"===n&&e.text!==t.text?(w(e).text=t.text,$(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ht.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ft.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function T(n,i,o,r){i=rt.apply([],i);var t,e,s,a,l,c,u=0,h=n.length,d=h-1,f=i[0],p=ft.isFunction(f);if(p||1<h&&"string"==typeof f&&!ht.checkClone&&se.test(f))return n.each(function(t){var e=n.eq(t);p&&(i[0]=f.call(this,t,e.html())),T(e,i,o,r)});if(h&&(t=(c=m(i,n[0].ownerDocument,!1,n,r)).firstChild,1===c.childNodes.length&&(c=t),t||r)){for(s=(a=ft.map(v(c,"script"),w)).length;u<h;u++)e=c,u!==d&&(e=ft.clone(e,!0,!0),s&&ft.merge(a,v(e,"script"))),o.call(n[u],e,u);if(s)for(l=a[a.length-1].ownerDocument,ft.map(a,$),u=0;u<s;u++)e=a[u],Vt.test(e.type||"")&&!ft._data(e,"globalEval")&&ft.contains(l,e)&&(e.src?ft._evalUrl&&ft._evalUrl(e.src):ft.globalEval((e.text||e.textContent||e.innerHTML||"").replace(le,"")));c=t=null}return n}function E(t,e,n){for(var i,o=e?ft.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||ft.cleanData(v(i)),i.parentNode&&(n&&ft.contains(i.ownerDocument,i)&&y(v(i,"script")),i.parentNode.removeChild(i));return t}function A(t,e){var n=ft(e.createElement(t)).appendTo(e.body),i=ft.css(n[0],"display");return n.detach(),i}function N(t){var e=it,n=he[t];return n||("none"!==(n=A(t,e))&&n||((e=((ue=(ue||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ue[0].contentDocument).document).write(),e.close(),n=A(t,e),ue.detach()),he[t]=n),n}function j(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function D(t){if(t in Se)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Ce.length;n--;)if((t=Ce[n]+e)in Se)return t}function P(t,e){for(var n,i,o,r=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(r[s]=ft._data(i,"olddisplay"),n=i.style.display,e?(r[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ot(i)&&(r[s]=ft._data(i,"olddisplay",N(i.nodeName)))):(o=Ot(i),(n&&"none"!==n||!o)&&ft._data(i,"olddisplay",o?n:ft.css(i,"display"))));for(s=0;s<a;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[s]||"":"none"));return t}function L(t,e,n){var i=we.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function I(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,s=0;r<4;r+=2)"margin"===n&&(s+=ft.css(t,n+zt[r],!0,o)),i?("content"===n&&(s-=ft.css(t,"padding"+zt[r],!0,o)),"margin"!==n&&(s-=ft.css(t,"border"+zt[r]+"Width",!0,o))):(s+=ft.css(t,"padding"+zt[r],!0,o),"padding"!==n&&(s+=ft.css(t,"border"+zt[r]+"Width",!0,o)));return s}function M(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=ge(t),s=ht.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=ve(t,e,r))<0||null==o)&&(o=t.style[e]),fe.test(o))return o;i=s&&(ht.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+I(t,e,n||(s?"border":"content"),i,r)+"px"}function R(t,e,n,i,o){return new R.prototype.init(t,e,n,i,o)}function B(){return k.setTimeout(function(){Te=undefined}),Te=ft.now()}function H(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i["margin"+(n=zt[o])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function z(t,e,n){for(var i,o=(F.tweeners[e]||[]).concat(F.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,e,t))return i}function O(e,t,n){var i,o,r,s,a,l,c,u=this,h={},d=e.style,f=e.nodeType&&Ot(e),p=ft._data(e,"fxshow");for(i in n.queue||(null==(a=ft._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,ft.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=ft.css(e,"display"))?ft._data(e,"olddisplay")||N(e.nodeName):c)&&"none"===ft.css(e,"float")&&(ht.inlineBlockNeedsLayout&&"inline"!==N(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ht.shrinkWrapBlocks()||u.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(o=t[i],Le.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||p[i]===undefined)continue;f=!0}h[i]=p&&p[i]||ft.style(e,i)}else c=undefined;if(ft.isEmptyObject(h))"inline"===("none"===c?N(e.nodeName):c)&&(d.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=ft._data(e,"fxshow",{}),r&&(p.hidden=!f),f?ft(e).show():u.done(function(){ft(e).hide()}),u.done(function(){var t;for(t in ft._removeData(e,"fxshow"),h)ft.style(e,t,h[t])}),h)s=z(f?p[i]:0,i,u),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}function q(t,e){var n,i,o,r,s;for(n in t)if(o=e[i=ft.camelCase(n)],r=t[n],ft.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(s=ft.cssHooks[i])&&"expand"in s)for(n in r=s.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}function F(r,t,e){var n,s,i=0,o=F.prefilters.length,a=ft.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Te||B(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(n);return a.notifyWith(r,[c,n,e]),n<1&&o?e:(a.resolveWith(r,[c]),!1)},c=a.promise({elem:r,props:ft.extend({},t),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},e),originalProperties:t,originalOptions:e,startTime:Te||B(),duration:e.duration,tweens:[],createTween:function(t,e){var n=ft.Tween(r,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)c.tweens[e].run(1);return t?(a.notifyWith(r,[c,1,0]),a.resolveWith(r,[c,t])):a.rejectWith(r,[c,t]),this}}),u=c.props;for(q(u,c.opts.specialEasing);i<o;i++)if(n=F.prefilters[i].call(c,r,u,c.opts))return ft.isFunction(n.stop)&&(ft._queueHooks(c.elem,c.opts.queue).stop=ft.proxy(n.stop,n)),n;return ft.map(u,z,c),ft.isFunction(c.opts.start)&&c.opts.start.call(r,c),ft.fx.timer(ft.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function W(t){return ft.attr(t,"class")||""}function V(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(Nt)||[];if(ft.isFunction(e))for(;n=o[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(e)):(r[n]=r[n]||[]).push(e)}}function U(e,o,r,s){function a(t){var i;return l[t]=!0,ft.each(e[t]||[],function(t,e){var n=e(o,r,s);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(o.dataTypes.unshift(n),a(n),!1)}),i}var l={},c=e===sn;return a(o.dataTypes[0])||!l["*"]&&a("*")}function Q(t,e){var n,i,o=ft.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&ft.extend(!0,t,n),t}function X(t,e,n){for(var i,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),o===undefined&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){l.unshift(s);break}if(l[0]in n)r=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){r=s;break}i||(i=s)}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}function G(t,e,n,i){var o,r,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(o in c)if((a=o.split(" "))[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[o]:!0!==c[o]&&(r=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function K(t){return t.style&&t.style.display||ft.css(t,"display")}function Y(t){if(!ft.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===K(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function J(n,t,i,o){var e;if(ft.isArray(t))ft.each(t,function(t,e){i||hn.test(n)?o(n,e):J(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,o)});else if(i||"object"!==ft.type(t))o(n,t);else for(e in t)J(n+"["+e+"]",t[e],i,o)}function Z(){try{return new k.XMLHttpRequest}catch(t){}}function tt(){try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=k.document,ot=nt.slice,rt=nt.concat,st=nt.push,at=nt.indexOf,lt={},ct=lt.toString,ut=lt.hasOwnProperty,ht={},dt="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:dt,constructor:ft,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(n){return this.pushStack(ft.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:nt.sort,splice:nt.splice},ft.extend=ft.fn.extend=function(t){var e,n,i,o,r,s,a=t||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[l]||{},l++),"object"==typeof a||ft.isFunction(a)||(a={}),l===c&&(a=this,l--);l<c;l++)if(null!=(r=arguments[l]))for(o in r)e=a[o],a!==(i=r[o])&&(u&&i&&(ft.isPlainObject(i)||(n=ft.isArray(i)))?(s=n?(n=!1,e&&ft.isArray(e)?e:[]):e&&ft.isPlainObject(e)?e:{},a[o]=ft.extend(u,s,i)):i!==undefined&&(a[o]=i));return a},ft.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&0<=e-parseFloat(e)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ut.call(t,"constructor")&&!ut.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ht.ownFirst)for(e in t)return ut.call(t,e);for(e in t);return e===undefined||ut.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(t){t&&ft.trim(t)&&(k.execScript||function(t){k.eval.call(k,t)})(t)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(a(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(a(Object(t))?ft.merge(n,"string"==typeof t?[t]:t):st.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(at)return at.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;)t[o++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,s=!n;o<r;o++)!e(t[o],o)!==s&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,s=[];if(a(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&s.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&s.push(o);return rt.apply([],s)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ft.isFunction(t)?(n=ot.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(ot.call(arguments)))}).guid=t.guid=t.guid||ft.guid++,i):undefined},now:function(){return+new Date},support:ht}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=nt[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=function(n){function x(t,e,n,i){var o,r,s,a,l,c,u,h,d=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!i&&((e?e.ownerDocument||e:z)!==D&&j(e),e=e||D,L)){if(11!==f&&(c=vt.exec(t)))if(o=c[1]){if(9===f){if(!(s=e.getElementById(o)))return n;if(s.id===o)return n.push(s),n}else if(d&&(s=d.getElementById(o))&&B(e,s)&&s.id===o)return n.push(s),n}else{if(c[2])return J.apply(n,e.getElementsByTagName(t)),n;if((o=c[3])&&v.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(o)),n}if(v.qsa&&!V[t+" "]&&(!I||!I.test(t))){if(1!==f)d=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=H),r=(u=C(t)).length,l=dt.test(a)?"#"+a:"[id='"+a+"']";r--;)u[r]=l+" "+g(u[r]);h=u.join(","),d=yt.test(t)&&m(e.parentNode)||e}if(h)try{return J.apply(n,d.querySelectorAll(h)),n}catch(p){}finally{a===H&&e.removeAttribute("id")}}}return T(t.replace(at,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>w.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[H]=!0,t}function o(t){var e=D.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=e}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Q)-(~t.sourceIndex||Q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function r(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function s(s){return l(function(r){return r=+r,l(function(t,e){for(var n,i=s([],t.length,r),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function m(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function a(){}function g(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function h(a,t,e){var l=t.dir,c=e&&"parentNode"===l,u=q++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||c)return a(t,e,n)}:function(t,e,n){var i,o,r,s=[O,u];if(n){for(;t=t[l];)if((1===t.nodeType||c)&&a(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||c){if((i=(o=(r=t[H]||(t[H]={}))[t.uniqueID]||(r[t.uniqueID]={}))[l])&&i[0]===O&&i[1]===u)return s[2]=i[2];if((o[l]=s)[2]=a(t,e,n))return!0}}}function d(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function y(t,e,n){for(var i=0,o=e.length;i<o;i++)x(t,e[i],n);return n}function _(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(r=t[a])&&(n&&!n(r,i,o)||(s.push(r),c&&e.push(a)));return s}function b(f,p,m,g,v,t){return g&&!g[H]&&(g=b(g)),v&&!v[H]&&(v=b(v,t)),l(function(t,e,n,i){var o,r,s,a=[],l=[],c=e.length,u=t||y(p||"*",n.nodeType?[n]:n,[]),h=!f||!t&&p?u:_(u,a,f,n,i),d=m?v||(t?f:c||g)?[]:e:h;if(m&&m(h,d,n,i),g)for(o=_(d,l),g(o,[],n,i),r=o.length;r--;)(s=o[r])&&(d[l[r]]=!(h[l[r]]=s));if(t){if(v||f){if(v){for(o=[],r=d.length;r--;)(s=d[r])&&o.push(h[r]=s);v(null,d=[],o,i)}for(r=d.length;r--;)(s=d[r])&&-1<(o=v?tt(t,s):a[r])&&(t[o]=!(e[o]=s))}}else d=_(d===e?d.splice(c,d.length):d),v?v(null,e,d,i):J.apply(e,d)})}function f(t){for(var o,e,n,i=t.length,r=w.relative[t[0].type],s=r||w.relative[" "],a=r?1:0,l=h(function(t){return t===o},s,!0),c=h(function(t){return-1<tt(o,t)},s,!0),u=[function(t,e,n){var i=!r&&(n||e!==E)||((o=e).nodeType?l(t,e,n):c(t,e,n));return o=null,i}];a<i;a++)if(e=w.relative[t[a].type])u=[h(d(u),e)];else{if((e=w.filter[t[a].type].apply(null,t[a].matches))[H]){for(n=++a;n<i&&!w.relative[t[n].type];n++);return b(1<a&&d(u),1<a&&g(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),e,a<n&&f(t.slice(a,n)),n<i&&f(t=t.slice(n)),n<i&&g(t))}u.push(e)}return d(u)}function u(g,v){var y=0<v.length,b=0<g.length,t=function(t,e,n,i,o){var r,s,a,l=0,c="0",u=t&&[],h=[],d=E,f=t||b&&w.find.TAG("*",o),p=O+=null==d?1:Math.random()||.1,m=f.length;for(o&&(E=e===D||e||o);c!==m&&null!=(r=f[c]);c++){if(b&&r){for(s=0,e||r.ownerDocument===D||(j(r),n=!L);a=g[s++];)if(a(r,e||D,n)){i.push(r);break}o&&(O=p)}y&&((r=!a&&r)&&l--,t&&u.push(r))}if(l+=c,y&&c!==l){for(s=0;a=v[s++];)a(u,h,e,n);if(t){if(0<l)for(;c--;)u[c]||h[c]||(h[c]=K.call(i));h=_(h)}J.apply(i,h),o&&!t&&0<h.length&&1<l+v.length&&x.uniqueSort(i)}return o&&(O=p,E=d),u};return y?l(t):t}var p,v,w,k,$,C,S,T,E,A,N,j,D,P,L,I,M,R,B,H="sizzle"+1*new Date,z=n.document,O=0,q=0,F=t(),W=t(),V=t(),U=function(t,e){return t===e&&(N=!0),0},Q=1<<31,X={}.hasOwnProperty,G=[],K=G.pop,Y=G.push,J=G.push,Z=G.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",rt=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(rt),dt=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},wt=function(){j()};try{J.apply(G=Z.call(z.childNodes),z.childNodes),G[z.childNodes.length].nodeType}catch(kt){J={apply:G.length?function(t,e){Y.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(p in v=x.support={},$=x.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},j=x.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:z;return i!==D&&9===i.nodeType&&i.documentElement&&(P=(D=i).documentElement,L=!$(D),(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),v.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),v.getElementsByTagName=o(function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length}),v.getElementsByClassName=gt.test(D.getElementsByClassName),v.getById=o(function(t){return P.appendChild(t).id=H,!D.getElementsByName||!D.getElementsByName(H).length}),v.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}},w.filter.ID=function(t){var e=t.replace(xt,_t);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var n=t.replace(xt,_t);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),w.find.TAG=v.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):v.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},w.find.CLASS=v.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&L)return e.getElementsByClassName(t)},M=[],I=[],(v.qsa=gt.test(D.querySelectorAll))&&(o(function(t){P.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||I.push("~="),t.querySelectorAll(":checked").length||I.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||I.push(".#.+[+~]")}),o(function(t){var e=D.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(v.matchesSelector=gt.test(R=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&o(function(t){v.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),M.push("!=",rt)}),I=I.length&&new RegExp(I.join("|")),M=M.length&&new RegExp(M.join("|")),e=gt.test(P.compareDocumentPosition),B=e||gt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return N=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!v.sortDetached&&e.compareDocumentPosition(t)===n?t===D||t.ownerDocument===z&&B(z,t)?-1:e===D||e.ownerDocument===z&&B(z,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return N=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,s=[t],a=[e];if(!o||!r)return t===D?-1:e===D?1:o?-1:r?1:A?tt(A,t)-tt(A,e):0;if(o===r)return c(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?c(s[i],a[i]):s[i]===z?-1:a[i]===z?1:0}),D},x.matches=function(t,e){return x(t,null,null,e)},x.matchesSelector=function(t,e){if((t.ownerDocument||t)!==D&&j(t),e=e.replace(ut,"='$1']"),v.matchesSelector&&L&&!V[e+" "]&&(!M||!M.test(e))&&(!I||!I.test(e)))try{var n=R.call(t,e);if(n||v.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(kt){}return 0<x(e,D,null,[t]).length},x.contains=function(t,e){return(t.ownerDocument||t)!==D&&j(t),B(t,e)},x.attr=function(t,e){(t.ownerDocument||t)!==D&&j(t);var n=w.attrHandle[e.toLowerCase()],i=n&&X.call(w.attrHandle,e.toLowerCase())?n(t,e,!L):undefined;return i!==undefined?i:v.attributes||!L?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},x.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},x.uniqueSort=function(t){var e,n=[],i=0,o=0;if(N=!v.detectDuplicates,A=!v.sortStable&&t.slice(0),t.sort(U),N){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return A=null,t},k=x.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},(w=x.selectors={cacheLength:50,createPseudo:l,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||x.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&x.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=F[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&F(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=x.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e.replace(st," ")+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(p,t,e,m,g){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),b="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,o,r,s,a,l,c=v!==y?"nextSibling":"previousSibling",u=t.parentNode,h=b&&t.nodeName.toLowerCase(),d=!n&&!b,f=!1;if(u){if(v){for(;c;){for(s=t;s=s[c];)if(b?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&d){for(f=(a=(i=(o=(r=(s=u)[H]||(s[H]={}))[s.uniqueID]||(r[s.uniqueID]={}))[p]||[])[0]===O&&i[1])&&i[2],s=a&&u.childNodes[a];s=++a&&s&&s[c]||(f=a=0)||l.pop();)if(1===s.nodeType&&++f&&s===t){o[p]=[O,a,f];break}}else if(d&&(f=a=(i=(o=(r=(s=t)[H]||(s[H]={}))[s.uniqueID]||(r[s.uniqueID]={}))[p]||[])[0]===O&&i[1]),!1===f
)for(;(s=++a&&s&&s[c]||(f=a=0)||l.pop())&&((b?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++f||(d&&((o=(r=s[H]||(s[H]={}))[s.uniqueID]||(r[s.uniqueID]={}))[p]=[O,f]),s!==t)););return(f-=g)===m||f%m==0&&0<=f/m}}},PSEUDO:function(t,r){var e,s=w.pseudos[t]||w.setFilters[t.toLowerCase()]||x.error("unsupported pseudo: "+t);return s[H]?s(r):1<s.length?(e=[t,t,"",r],w.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=s(t,r),o=i.length;o--;)t[n=tt(t,i[o])]=!(e[n]=i[o])}):function(t){return s(t,0,e)}):s}},pseudos:{not:l(function(t){var i=[],o=[],a=S(t.replace(at,"$1"));return a[H]?l(function(t,e,n,i){for(var o,r=a(t,null,i,[]),s=t.length;s--;)(o=r[s])&&(t[s]=!(e[s]=o))}):function(t,e,n){return i[0]=t,a(i,null,n,o),i[0]=null,!o.pop()}}),has:l(function(e){return function(t){return 0<x(e,t).length}}),contains:l(function(e){return e=e.replace(xt,_t),function(t){return-1<(t.textContent||t.innerText||k(t)).indexOf(e)}}),lang:l(function(n){return dt.test(n||"")||x.error("unsupported lang: "+n),n=n.replace(xt,_t).toLowerCase(),function(t){var e;do{if(e=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===P},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[n<0?n+e:n]}),even:s(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:s(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[p]=i(p);for(p in{submit:!0,reset:!0})w.pseudos[p]=r(p);return a.prototype=w.filters=w.pseudos,w.setFilters=new a,C=x.tokenize=function(t,e){var n,i,o,r,s,a,l,c=W[t+" "];if(c)return e?0:c.slice(0);for(s=t,a=[],l=w.preFilter;s;){for(r in n&&!(i=lt.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(o=[])),n=!1,(i=ct.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(at," ")}),s=s.slice(n.length)),w.filter)!(i=ft[r].exec(s))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?x.error(t):W(t,a).slice(0)},S=x.compile=function(t,e){var n,i=[],o=[],r=V[t+" "];if(!r){for(e||(e=C(t)),n=e.length;n--;)(r=f(e[n]))[H]?i.push(r):o.push(r);(r=V(t,u(o,i))).selector=t}return r},T=x.select=function(t,e,n,i){var o,r,s,a,l,c="function"==typeof t&&t,u=!i&&C(t=c.selector||t);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(s=r[0]).type&&v.getById&&9===e.nodeType&&L&&w.relative[r[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(xt,_t),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(s=r[o],!w.relative[a=s.type]);)if((l=w.find[a])&&(i=l(s.matches[0].replace(xt,_t),yt.test(r[0].type)&&m(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&g(r)))return J.apply(n,i),n;break}}return(c||S(t,u))(i,e,!L,n,!e||yt.test(t)&&m(e.parentNode)||e),n},v.sortStable=H.split("").sort(U).join("")===H,v.detectDuplicates=!!N,j(),v.sortDetached=o(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),v.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),x}(k);ft.find=yt,ft.expr=yt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=yt.uniqueSort,ft.text=yt.getText,ft.isXMLDoc=yt.isXML,ft.contains=yt.contains;var bt=function(t,e,n){for(var i=[],o=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&ft(t).is(n))break;i.push(t)}return i},xt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},_t=ft.expr.match.needsContext,wt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,kt=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ft.find.matchesSelector(i,t)?[i]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<o;e++)if(ft.contains(i[e],this))return!0}));for(e=0;e<o;e++)ft.find(t,i[e],n);return(n=this.pushStack(1<o?ft.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&_t.test(t)?ft(t):t||[],!1).length}});var $t,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ft.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||$t,"string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ft):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this));if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:Ct.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),wt.test(i[1])&&ft.isPlainObject(e))for(i in e)ft.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((o=it.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return $t.find(t);this.length=1,this[0]=o}return this.context=it,this.selector=t,this}).prototype=ft.fn,$t=ft(it);var St=/^(?:parents|prev(?:Until|All))/,Tt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,n=ft(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(ft.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],s=_t.test(t)||"string"!=typeof t?ft(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&ft.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(1<r.length?ft.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return xt((t.parentNode||{}).firstChild,t)},children:function(t){return xt(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},function(i,o){ft.fn[i]=function(t,e){var n=ft.map(this,o,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=ft.filter(e,n)),1<this.length&&(Tt[i]||(n=ft.uniqueSort(n)),St.test(i)&&(n=n.reverse())),this.pushStack(n)}});var Et,At,Nt=/\S+/g;for(At in ft.Callbacks=function(i){i="string"==typeof i?u(i):ft.extend({},i);var o,t,e,n,r=[],s=[],a=-1,l=function(){for(n=i.once,e=o=!0;s.length;a=-1)for(t=s.shift();++a<r.length;)!1===r[a].apply(t[0],t[1])&&i.stopOnFalse&&(a=r.length,t=!1);i.memory||(t=!1),o=!1,n&&(r=t?[]:"")},c={add:function(){return r&&(t&&!o&&(a=r.length-1,s.push(t)),function n(t){ft.each(t,function(t,e){ft.isFunction(e)?i.unique&&c.has(e)||r.push(e):e&&e.length&&"string"!==ft.type(e)&&n(e)})}(arguments),t&&!o&&l()),this},remove:function(){return ft.each(arguments,function(t,e){for(var n;-1<(n=ft.inArray(e,r,n));)r.splice(n,1),n<=a&&a--}),this},has:function(t){return t?-1<ft.inArray(t,r):0<r.length},empty:function(){return r&&(r=[]),this},disable:function(){return n=s=[],r=t="",this},disabled:function(){return!r},lock:function(){return n=!0,t||c.disable(),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],s.push(e),o||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!e}};return c},ft.extend({Deferred:function(t){var r=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],o="pending",s={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var o=arguments;return ft.Deferred(function(i){ft.each(r,function(t,e){var n=ft.isFunction(o[t])&&o[t];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===s?i.promise():this,n?[t]:arguments)})}),o=null}).promise()},promise:function(t){return null!=t?ft.extend(t,s):s}},a={};return s.pipe=s.then,ft.each(r,function(t,e){var n=e[2],i=e[3];s[e[1]]=n.add,i&&n.add(function(){o=i},r[1^t][2].disable,r[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?s:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){var o,e,n,i=0,r=ot.call(arguments),s=r.length,a=1!==s||t&&ft.isFunction(t.promise)?s:0,l=1===a?t:ft.Deferred(),c=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?ot.call(arguments):t,i===o?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(1<s)for(o=new Array(s),e=new Array(s),n=new Array(s);i<s;i++)r[i]&&ft.isFunction(r[i].promise)?r[i].promise().progress(c(i,e,o)).done(c(i,n,r)).fail(l.reject):--a;return a||l.resolveWith(n,r),l.promise()}}),ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(!0===t?--ft.readyWait:ft.isReady)||(ft.isReady=!0)!==t&&0<--ft.readyWait||(Et.resolveWith(it,[ft]),ft.fn.triggerHandler&&(ft(it).triggerHandler("ready"),ft(it).off("ready")))}}),ft.ready.promise=function(t){if(!Et)if(Et=ft.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)k.setTimeout(ft.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",r),k.addEventListener("load",r);else{it.attachEvent("onreadystatechange",r),k.attachEvent("onload",r);var e=!1;try{e=null==k.frameElement&&it.documentElement}catch(n){}e&&e.doScroll&&function i(){if(!ft.isReady){try{e.doScroll("left")}catch(n){return k.setTimeout(i,50)}o(),ft.ready()}}()}return Et.promise(t)},ft.ready.promise(),ft(ht))break;ht.ownFirst="0"===At,ht.inlineBlockNeedsLayout=!1,ft(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ht.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");ht.deleteExpando=!0;try{delete t.test}catch(e){ht.deleteExpando=!1}t=null}();var jt,Dt=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Lt=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando])&&!c(t)},data:function(t,e,n){return i(t,e,n)},removeData:function(t,e){return s(t,e)},_data:function(t,e,n){return i(t,e,n,!0)},_removeData:function(t,e){return s(t,e,!0)}}),ft.fn.extend({data:function(t,e){var n,i,o,r=this[0],s=r&&r.attributes;if(t!==undefined)return"object"==typeof t?this.each(function(){ft.data(this,t)}):1<arguments.length?this.each(function(){ft.data(this,t,e)}):r?l(r,t,ft.data(r,t)):undefined;if(this.length&&(o=ft.data(r),1===r.nodeType&&!ft._data(r,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&l(r,i=ft.camelCase(i.slice(5)),o[i]);ft._data(r,"parsedAttrs",!0)}return o},removeData:function(t){return this.each(function(){ft.removeData(this,t)})}}),ft.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ft._data(t,e),n&&(!i||ft.isArray(n)?i=ft._data(t,e,ft.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),i=n.length,o=n.shift(),r=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ft._data(t,n)||ft._data(t,n,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(t,e+"queue"),ft._removeData(t,n)})})}}),ft.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?ft.queue(this[0],e):n===undefined?this:this.each(function(){var t=ft.queue(this,e,n);ft._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ft.dequeue(this,e)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=ft.Deferred(),r=this,s=this.length,a=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";s--;)(n=ft._data(r[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}}),ht.shrinkWrapBlocks=function(){return null!=jt?jt:(jt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",jt=3!==t.offsetWidth),e.removeChild(n),jt):void 0);var t,e,n};var It,Mt,Rt,Bt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ht=new RegExp("^(?:([+-])=|)("+Bt+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],Ot=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},qt=function(t,e,n,i,o,r,s){var a=0,l=t.length,c=null==n;if("object"===ft.type(n))for(a in o=!0,n)qt(t,e,a,n[a],!0,r,s);else if(i!==undefined&&(o=!0,ft.isFunction(i)||(s=!0),c&&(e=s?(e.call(t,i),null):(c=e,function(t,e,n){return c.call(ft(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return o?t:c?e.call(t):l?e(t[0],n):r},Ft=/^(?:checkbox|radio)$/i,Wt=/<([\w:-]+)/,Vt=/^$|\/(?:java|ecma)script/i,Ut=/^\s+/,Qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";It=it.createElement("div"),Mt=it.createDocumentFragment(),Rt=it.createElement("input"),It.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ht.leadingWhitespace=3===It.firstChild.nodeType,ht.tbody=!It.getElementsByTagName("tbody").length,ht.htmlSerialize=!!It.getElementsByTagName("link").length,ht.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,Rt.type="checkbox",Rt.checked=!0,Mt.appendChild(Rt),ht.appendChecked=Rt.checked,It.innerHTML="<textarea>x</textarea>",ht.noCloneChecked=!!It.cloneNode(!0).lastChild.defaultValue,Mt.appendChild(It),(Rt=it.createElement("input")).setAttribute("type","radio"),Rt.setAttribute("checked","checked"),Rt.setAttribute("name","t"),It.appendChild(Rt),ht.checkClone=It.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.noCloneEvent=!!It.addEventListener,It[ft.expando]=1,ht.attributes=!It.getAttribute(ft.expando);var Xt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ht.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td;var Gt=/<|&#?\w+;/,Kt=/<tbody/i;!function(){var t,e,n=it.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(ht[t]=e in k)||(n.setAttribute(e,"t"),ht[t]=!1===n.attributes[e].expando);n=null}();var Yt=/^(?:input|select|textarea)$/i,Jt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,i,o){var r,s,a,l,c,u,h,d,f,p,m,g=ft._data(t);if(g){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=ft.guid++),(s=g.events)||(s=g.events={}),(u=g.handle)||((u=g.handle=function(t){return void 0===ft||t&&ft.event.triggered===t.type?undefined:ft.event.dispatch.apply(u.elem,arguments)}).elem=t),a=(e=(e||"").match(Nt)||[""]).length;a--;)f=m=(r=ee.exec(e[a])||[])[1],p=(r[2]||"").split(".").sort(),f&&(c=ft.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=ft.event.special[f]||{},h=ft.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ft.expr.match.needsContext.test(o),namespace:p.join(".")},l),(d=s[f])||((d=s[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,u)||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),ft.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var r,s,a,l,c,u,h,d,f,p,m,g=ft.hasData(t)&&ft._data(t);if(g&&(u=g.events)){for(c=(e=(e||"").match(Nt)||[""]).length;c--;)if(f=m=(a=ee.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=ft.event.special[f]||{},d=u[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)s=d[r],!o&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(r,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||ft.removeEvent(t,f,g.handle),delete u[f])}else for(f in u)ft.event.remove(t,f+e[c],n,i,!0);ft.isEmptyObject(u)&&(delete g.handle,ft._removeData(t,"events"))}},trigger:function(t,e,n,i){var o,r,s,a,l,c,u,h=[n||it],d=ut.call(t,"type")?t.type:t,f=ut.call(t,"namespace")?t.namespace.split("."):[];if(s=c=n=n||it,3!==n.nodeType&&8!==n.nodeType&&!te.test(d+ft.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),r=d.indexOf(":")<0&&"on"+d,(t=t[ft.expando]?t:new ft.Event(d,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:ft.makeArray(e,[t]),l=ft.event.special[d]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!ft.isWindow(n)){for(a=l.delegateType||d,te.test(a+d)||(s=s.parentNode);s;s=s.parentNode)h.push(s),c=s;c===(n.ownerDocument||it)&&h.push(c.defaultView||c.parentWindow||k)}for(u=0;(s=h[u++])&&!t.isPropagationStopped();)t.type=1<u?a:l.bindType||d,(o=(ft._data(s,"events")||{})[t.type]&&ft._data(s,"handle"))&&o.apply(s,e),(o=r&&s[r])&&o.apply&&Dt(s)&&(t.result=o.apply(s,e),!1===t.result&&t.preventDefault());if(t.type=d,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(h.pop(),e))&&Dt(n)&&r&&n[d]&&!ft.isWindow(n)){(c=n[r])&&(n[r]=null),ft.event.triggered=d;try{n[d]()}catch(p){}ft.event.triggered=undefined,c&&(n[r]=c)}return t.result}},dispatch:function(t){t=ft.event.fix(t);var e,n,i,o,r,s=[],a=ot.call(arguments),l=(ft._data(this,"events")||{})[t.type]||[],c=ft.event.special[t.type]||{};if((a[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(s=ft.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,(i=((ft.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<a;n++)i[o=(r=e[n]).selector+" "]===undefined&&(i[o]=r.needsContext?-1<ft(o,this).index(l):ft.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[ft.expando])return t;var e,n,i,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Zt.test(o)?this.mouseHooks:Jt.test(o)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ft.Event(r),e=i.length;e--;)t[n=i[e]]=r[n];return t.target||(t.target=r.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||r===undefined||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},ft.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},ft.Event=function(t,e){if(!(this instanceof ft.Event))return new ft.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?d:f):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),this[ft.expando]=!0},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){ft.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===n||ft.contains(n,i))||(t.type=o.origType,e=o.handler.apply(this,arguments),t.type=r),e}}}),ht.submit||(ft.event.special.submit={setup:function(){if(ft.nodeName(this,"form"))return!1;ft.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):undefined;n&&!ft._data(n,"submit")&&(ft.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ft._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ft.nodeName(this,"form"))return!1;ft.event.remove(this,"._submit")}}),ht.change||(ft.event.special.change={setup:function(){if(Yt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)})),!1;ft.event.add(this,"beforeactivate._change",function(t){var e=t.target;Yt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)}),ft._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ft.event.remove(this,"._change"),!Yt.test(this.nodeName)}}),ht.focusin||ft.each({focus:"focusin",blur:"focusout"},function(n,i){var o=function(t){ft.event.simulate(i,t.target,ft.event.fix(t))};ft.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=ft._data(t,i);e||t.addEventListener(n,o,!0),ft._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=ft._data(t,i)-1;e?ft._data(t,i,e):(t.removeEventListener(n,o,!0),ft._removeData(t,i))}}}),ft.fn.extend({on:function(t,e,n,i){return x(this,t,e,n,i)},one:function(t,e,n,i){return x(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ft(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=f),this.each(function(){ft.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o]);return this},trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ft.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+Qt+")[\\s/>]","i"),oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,re=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=g(it).appendChild(it.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,n){var i,o,r,s,a,l=ft.contains(t.ownerDocument,t);if(ht.html5Clone||ft.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(ce.innerHTML=t.outerHTML,ce.removeChild(r=ce.firstChild)),!(ht.noCloneEvent&&ht.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(i=v(r),a=v(t),s=0;null!=(o=a[s]);++s)i[s]&&S(o,i[s]);if(e)if(n)for(a=a||v(t),i=i||v(r),s=0;null!=(o=a[s]);s++)C(o,i[s]);else C(t,r);return 0<(i=v(r,"script")).length&&y(i,!l&&v(t,"script")),i=a=o=null,r},cleanData:function(t,e){for(var n,i,o,r,s=0,a=ft.expando,l=ft.cache,c=ht.attributes,u=ft.event.special;null!=(n=t[s]);s++)if((e||Dt(n))&&(r=(o=n[a])&&l[o])){if(r.events)for(i in r.events)u[i]?ft.event.remove(n,i):ft.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c||"undefined"==typeof n.removeAttribute?n[a]=undefined:n.removeAttribute(a),nt.push(o))}}}),ft.fn.extend({domManip:T,detach:function(t){return E(this,t,!0)},remove:function(t){return E(this,t)},text:function(t){return qt(this,function(t){return t===undefined?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||_(this,t).appendChild(t)})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return qt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!re.test(t)&&(ht.htmlSerialize||!ie.test(t))&&(ht.leadingWhitespace||!Ut.test(t))&&!Xt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(ft.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return T(this,arguments,function(t){var e=this.parentNode;ft.inArray(this,n)<0&&(ft.cleanData(v(this)),e&&e.replaceChild(t,this))},n)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){ft.fn[t]=function(t){for(var e,n=0,i=[],o=ft(t),r=o.length-1;n<=r;n++)e=n===r?this:this.clone(!0),ft(o[n])[s](e),st.apply(i,e.get());return this.pushStack(i)}});var ue,he={HTML:"block",BODY:"block"},de=/^margin/,fe=new RegExp("^("+Bt+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=s[r];return o},me=it.documentElement;!function(){function t(){var t,e,n=it.documentElement;n.appendChild(c),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=r=l=!1,o=a=!0,k.getComputedStyle&&(e=k.getComputedStyle(u),i="1%"!==(e||{}).top,l="2px"===(e||{}).marginLeft,r="4px"===(e||{width:"4px"}).width,u.style.marginRight="50%",o="4px"===(e||{marginRight:"4px"}).marginRight,(
t=u.appendChild(it.createElement("div"))).style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",u.style.width="1px",a=!parseFloat((k.getComputedStyle(t)||{}).marginRight),u.removeChild(t)),u.style.display="none",(s=0===u.getClientRects().length)&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",(t=u.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(s=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",s=0===t[0].offsetHeight)),n.removeChild(c)}var i,o,r,s,a,l,c=it.createElement("div"),u=it.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",ht.opacity="0.5"===u.style.opacity,ht.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",ht.clearCloneStyle="content-box"===u.style.backgroundClip,(c=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",c.appendChild(u),ht.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,ft.extend(ht,{reliableHiddenOffsets:function(){return null==i&&t(),s},boxSizingReliable:function(){return null==i&&t(),r},pixelMarginRight:function(){return null==i&&t(),o},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),a},reliableMarginLeft:function(){return null==i&&t(),l}}))}();var ge,ve,ye=/^(top|right|bottom|left)$/;k.getComputedStyle?(ge=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=k),e.getComputedStyle(t)},ve=function(t,e,n){var i,o,r,s,a=t.style;return""!==(s=(n=n||ge(t))?n.getPropertyValue(e)||n[e]:undefined)&&s!==undefined||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),n&&!ht.pixelMarginRight()&&fe.test(s)&&de.test(e)&&(i=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=o,a.maxWidth=r),s===undefined?s:s+""}):me.currentStyle&&(ge=function(t){return t.currentStyle},ve=function(t,e,n){var i,o,r,s,a=t.style;return null==(s=(n=n||ge(t))?n[e]:undefined)&&a&&a[e]&&(s=a[e]),fe.test(s)&&!ye.test(e)&&(i=a.left,(r=(o=t.runtimeStyle)&&o.left)&&(o.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,r&&(o.left=r)),s===undefined?s:s+""||"auto"});var be=/alpha\([^)]*\)/i,xe=/opacity\s*=\s*([^)]*)/i,_e=/^(none|table(?!-c[ea]).+)/,we=new RegExp("^("+Bt+")(.*)$","i"),ke={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"},Ce=["Webkit","O","Moz","ms"],Se=it.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ht.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=ft.camelCase(e),l=t.style;if(e=ft.cssProps[a]||(ft.cssProps[a]=D(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],n===undefined)return s&&"get"in s&&(o=s.get(t,!1,i))!==undefined?o:l[e];if("string"===(r=typeof n)&&(o=Ht.exec(n))&&o[1]&&(n=h(t,e,o),r="number"),null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(ft.cssNumber[a]?"":"px")),ht.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&(n=s.set(t,n,i))===undefined)))try{l[e]=n}catch(c){}}},css:function(t,e,n,i){var o,r,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=D(a)||a),(s=ft.cssHooks[e]||ft.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),r===undefined&&(r=ve(t,e,i)),"normal"===r&&e in $e&&(r=$e[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),ft.each(["height","width"],function(t,o){ft.cssHooks[o]={get:function(t,e,n){if(e)return _e.test(ft.css(t,"display"))&&0===t.offsetWidth?pe(t,ke,function(){return M(t,o,n)}):M(t,o,n)},set:function(t,e,n){var i=n&&ge(t);return L(t,e,n?I(t,o,n,ht.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,i),i):0)}}}),ht.opacity||(ft.cssHooks.opacity={get:function(t,e){return xe.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===ft.trim(r.replace(be,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=be.test(r)?r.replace(be,o):r+" "+o)}}),ft.cssHooks.marginRight=j(ht.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},ve,[t,"marginRight"])}),ft.cssHooks.marginLeft=j(ht.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(o,r){ft.cssHooks[o+r]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+zt[e]+r]=i[e]||i[e-2]||i[0];return n}},de.test(o)||(ft.cssHooks[o+r].set=L)}),ft.fn.extend({css:function(t,e){return qt(this,function(t,e,n){var i,o,r={},s=0;if(ft.isArray(e)){for(i=ge(t),o=e.length;s<o;s++)r[e[s]]=ft.css(t,e[s],!1,i);return r}return n!==undefined?ft.style(t,e,n):ft.css(t,e)},t,e,1<arguments.length)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ot(this)?ft(this).show():ft(this).hide()})}}),(ft.Tween=R).prototype={constructor:R,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ft.cssNumber[n]?"":"px")},cur:function(){var t=R.propHooks[this.prop];return t&&t.get?t.get(this):R.propHooks._default.get(this)},run:function(t){var e,n=R.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=R.prototype.init,ft.fx.step={};var Te,Ee,Ae,Ne,je,De,Pe,Le=/^(?:toggle|show|hide)$/,Ie=/queueHooks$/;ft.Animation=ft.extend(F,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return h(n.elem,t,Ht.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,o=(t=ft.isFunction(t)?(e=t,["*"]):t.match(Nt)).length;i<o;i++)n=t[i],F.tweeners[n]=F.tweeners[n]||[],F.tweeners[n].unshift(e)},prefilters:[O],prefilter:function(t,e){e?F.prefilters.unshift(t):F.prefilters.push(t)}}),ft.speed=function(t,e,n){var i=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return i.duration=ft.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ft.fx.speeds?ft.fx.speeds[i.duration]:ft.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ft.isFunction(i.old)&&i.old.call(this),i.queue&&ft.dequeue(this,i.queue)},i},ft.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ot).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var o=ft.isEmptyObject(e),r=ft.speed(t,n,i),s=function(){var t=F(this,ft.extend({},e),r);(o||ft._data(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(o,t,r){var s=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof o&&(r=t,t=o,o=undefined),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=ft.timers,i=ft._data(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&Ie.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(r),t=!1,n.splice(e,1));!t&&r||ft.dequeue(this,o)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=ft._data(this),n=e[s+"queue"],i=e[s+"queueHooks"],o=ft.timers,r=n?n.length:0;for(e.finish=!0,ft.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===s&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),ft.each(["toggle","show","hide"],function(t,i){var o=ft.fn[i];ft.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(H(i,!0),t,e,n)}}),ft.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){ft.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,n=0;for(Te=ft.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ft.fx.stop(),Te=undefined},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){Ee||(Ee=k.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){k.clearInterval(Ee),Ee=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(i,t){return i=ft.fx&&ft.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=k.setTimeout(t,i);e.stop=function(){k.clearTimeout(n)}})},Ne=it.createElement("input"),je=it.createElement("div"),De=it.createElement("select"),Pe=De.appendChild(it.createElement("option")),(je=it.createElement("div")).setAttribute("className","t"),je.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",Ae=je.getElementsByTagName("a")[0],Ne.setAttribute("type","checkbox"),je.appendChild(Ne),(Ae=je.getElementsByTagName("a")[0]).style.cssText="top:1px",ht.getSetAttribute="t"!==je.className,ht.style=/top/.test(Ae.getAttribute("style")),ht.hrefNormalized="/a"===Ae.getAttribute("href"),ht.checkOn=!!Ne.value,ht.optSelected=Pe.selected,ht.enctype=!!it.createElement("form").enctype,De.disabled=!0,ht.optDisabled=!Pe.disabled,(Ne=it.createElement("input")).setAttribute("value",""),ht.input=""===Ne.getAttribute("value"),Ne.value="t",Ne.setAttribute("type","radio"),ht.radioValue="t"===Ne.value;var Me=/\r/g,Re=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(n){var i,t,o,e=this[0];return arguments.length?(o=ft.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?n.call(this,t,ft(this).val()):n)?e="":"number"==typeof e?e+="":ft.isArray(e)&&(e=ft.map(e,function(t){return null==t?"":t+""})),(i=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=ft.valHooks[e.type]||ft.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Me,""):null==t?"":t:void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(Re," ")}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,s=r?null:[],a=r?o+1:i.length,l=o<0?a:r?o:0;l<a;l++)if(((n=i[l]).selected||l===o)&&(ht.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=ft.makeArray(e),s=o.length;s--;)if(i=o[s],-1<ft.inArray(ft.valHooks.option.get(i),r))try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=-1<ft.inArray(ft(t).val(),e)}},ht.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Be,He,ze=ft.expr.attrHandle,Oe=/^(?:checked|selected)$/i,qe=ht.getSetAttribute,Fe=ht.input;ft.fn.extend({attr:function(t,e){return qt(this,ft.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?ft.prop(t,e,n):(1===r&&ft.isXMLDoc(t)||(e=e.toLowerCase(),o=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?He:Be)),n!==undefined?null===n?void ft.removeAttr(t,e):o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=ft.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!ht.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(Nt);if(r&&1===t.nodeType)for(;n=r[o++];)i=ft.propFix[n]||n,ft.expr.match.bool.test(n)?Fe&&qe||!Oe.test(n)?t[i]=!1:t[ft.camelCase("default-"+n)]=t[i]=!1:ft.attr(t,n,""),t.removeAttribute(qe?n:i)}}),He={set:function(t,e,n){return!1===e?ft.removeAttr(t,n):Fe&&qe||!Oe.test(n)?t.setAttribute(!qe&&ft.propFix[n]||n,n):t[ft.camelCase("default-"+n)]=t[n]=!0,n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var r=ze[e]||ft.find.attr;Fe&&qe||!Oe.test(e)?ze[e]=function(t,e,n){var i,o;return n||(o=ze[e],ze[e]=i,i=null!=r(t,e,n)?e.toLowerCase():null,ze[e]=o),i}:ze[e]=function(t,e,n){if(!n)return t[ft.camelCase("default-"+e)]?e.toLowerCase():null}}),Fe&&qe||(ft.attrHooks.value={set:function(t,e,n){if(!ft.nodeName(t,"input"))return Be&&Be.set(t,e,n);t.defaultValue=e}}),qe||(Be={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},ze.id=ze.name=ze.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ft.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Be.set},ft.attrHooks.contenteditable={set:function(t,e,n){Be.set(t,""!==e&&e,n)}},ft.each(["width","height"],function(t,n){ft.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),ht.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var We=/^(?:input|select|textarea|button|object)$/i,Ve=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return qt(this,ft.prop,t,e,1<arguments.length)},removeProp:function(e){return e=ft.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),ft.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,o=ft.propHooks[e]),n!==undefined?o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):We.test(t.nodeName)||Ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ht.hrefNormalized||ft.each(["href","src"],function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ht.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),ht.enctype||(ft.propFix.enctype="encoding");var Ue=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(e){var t,n,i,o,r,s,a,l=0;if(ft.isFunction(e))return this.each(function(t){ft(this).addClass(e.call(this,t,W(this)))});if("string"==typeof e&&e)for(t=e.match(Nt)||[];n=this[l++];)if(o=W(n),i=1===n.nodeType&&(" "+o+" ").replace(Ue," ")){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},removeClass:function(e){var t,n,i,o,r,s,a,l=0;if(ft.isFunction(e))return this.each(function(t){ft(this).removeClass(e.call(this,t,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Nt)||[];n=this[l++];)if(o=W(n),i=1===n.nodeType&&(" "+o+" ").replace(Ue," ")){for(s=0;r=t[s++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");o!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},toggleClass:function(o,e){var r=typeof o;return"boolean"==typeof e&&"string"===r?e?this.addClass(o):this.removeClass(o):ft.isFunction(o)?this.each(function(t){ft(this).toggleClass(o.call(this,t,W(this),e),e)}):this.each(function(){var t,e,n,i;if("string"===r)for(e=0,n=ft(this),i=o.match(Nt)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else o!==undefined&&"boolean"!==r||((t=W(this))&&ft._data(this,"__className__",t),ft.attr(this,"class",t||!1===o?"":ft._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+W(n)+" ").replace(Ue," ").indexOf(e))return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){ft.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Qe=k.location,Xe=ft.now(),Ge=/\?/,Ke=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(t){if(k.JSON&&k.JSON.parse)return k.JSON.parse(t+"");var o,r=null,e=ft.trim(t+"");return e&&!ft.trim(e.replace(Ke,function(t,e,n,i){return o&&e&&(r=0),0===r?t:(o=n||e,r+=!i-!n,"")}))?Function("return "+e)():ft.error("Invalid JSON: "+t)},ft.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{k.DOMParser?e=(new k.DOMParser).parseFromString(t,"text/xml"):((e=new k.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(n){e=undefined}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+t),e};var Ye=/#.*$/,Je=/([?&])_=[^&]*/,Ze=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,en=/^(?:GET|HEAD)$/,nn=/^\/\//,on=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rn={},sn={},an="*/".concat("*"),ln=Qe.href,cn=on.exec(ln.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ln,type:"GET",isLocal:tn.test(cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":an,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Q(Q(t,ft.ajaxSettings),e):Q(ft.ajaxSettings,t)},ajaxPrefilter:V(rn),ajaxTransport:V(sn),ajax:function(t,e){function n(t,e,n,i){var o,r,s,a,l,c=e;2!==_&&(_=2,d&&k.clearTimeout(d),p=undefined,h=i||"",w.readyState=0<t?4:0,o=200<=t&&t<300||304===t,n&&(a=X(m,w,n)),a=G(m,a,w,o),o?(m.ifModified&&((l=w.getResponseHeader("Last-Modified"))&&(ft.lastModified[u]=l),(l=w.getResponseHeader("etag"))&&(ft.etag[u]=l)),204===t||"HEAD"===m.type?c="nocontent":304===t?c="notmodified":(c=a.state,r=a.data,o=!(s=a.error))):(s=c,!t&&c||(c="error",t<0&&(t=0))),w.status=t,w.statusText=(e||c)+"",o?y.resolveWith(g,[r,c,w]):y.rejectWith(g,[w,c,s]),w.statusCode(x),x=undefined,f&&v.trigger(o?"ajaxSuccess":"ajaxError",[w,m,o?r:s]),b.fireWith(g,[w,c]),f&&(v.trigger("ajaxComplete",[w,m]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var i,o,u,h,d,f,p,r,m=ft.ajaxSetup({},e),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?ft(g):ft.event,y=ft.Deferred(),b=ft.Callbacks("once memory"),x=m.statusCode||{},s={},a={},_=0,l="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!r)for(r={};e=Ze.exec(h);)r[e[1].toLowerCase()]=e[2];e=r[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?h:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return _||(t=a[n]=a[n]||t,s[t]=e),this},overrideMimeType:function(t){return _||(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)x[e]=[x[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||l;return p&&p.abort(e),n(0,e),this}};if(y.promise(w).complete=b.add,w.success=w.done,w.error=w.fail,m.url=((t||m.url||ln)+"").replace(Ye,"").replace(nn,cn[1]+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=ft.trim(m.dataType||"*").toLowerCase().match(Nt)||[""],null==m.crossDomain&&(i=on.exec(m.url.toLowerCase()),m.crossDomain=!(!i||i[1]===cn[1]&&i[2]===cn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(cn[3]||("http:"===cn[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=ft.param(m.data,m.traditional)),U(rn,m,e,w),2===_)return w;for(o in(f=ft.event&&m.global)&&0==ft.active++&&ft.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!en.test(m.type),u=m.url,m.hasContent||(m.data&&(u=m.url+=(Ge.test(u)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Je.test(u)?u.replace(Je,"$1_="+Xe++):u+(Ge.test(u)?"&":"?")+"_="+Xe++)),m.ifModified&&(ft.lastModified[u]&&w.setRequestHeader("If-Modified-Since",ft.lastModified[u]),ft.etag[u]&&w.setRequestHeader("If-None-Match",ft.etag[u])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+an+"; q=0.01":""):m.accepts["*"]),m.headers)w.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(g,w,m)||2===_))return w.abort();for(o in l="abort",{success:1,error:1,complete:1})w[o](m[o]);if(p=U(sn,m,e,w)){if(w.readyState=1,f&&v.trigger("ajaxSend",[w,m]),2===_)return w;m.async&&0<m.timeout&&(d=k.setTimeout(function(){w.abort("timeout")},m.timeout));try{_=1,p.send(s,n)}catch(c){if(!(_<2))throw c;n(-1,c)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,undefined,e,"script")}}),ft.each(["get","post"],function(t,o){ft[o]=function(t,e,n,i){return ft.isFunction(e)&&(i=i||n,n=e,e=undefined),ft.ajax(ft.extend({url:t,type:o,dataType:i,data:e,success:n},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(e){if(ft.isFunction(e))return this.each(function(t){ft(this).wrapAll(e.call(this,t))});if(this[0]){var t=ft(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return ft.isFunction(n)?this.each(function(t){ft(this).wrapInner(n.call(this,t))}):this.each(function(){var t=ft(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=ft.isFunction(e);return this.each(function(t){ft(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(t){return ht.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Y(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var un=/%20/g,hn=/\[\]$/,dn=/\r?\n/g,fn=/^(?:submit|button|image|reset|file)$/i,pn=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,i=[],o=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){o(this.name,this.value)});else for(n in t)J(n,t[n],e,o);return i.join("&").replace(un,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&pn.test(this.nodeName)&&!fn.test(t)&&(this.checked||!Ft.test(t))}).map(function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,function(t){return{name:e.name,value:t.replace(dn,"\r\n")}}):{name:e.name,value:n.replace(dn,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=k.ActiveXObject!==undefined?function(){return this.isLocal?tt():8<it.documentMode?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||tt()}:Z;var mn=0,gn={},vn=ft.ajaxSettings.xhr();k.attachEvent&&k.attachEvent("onunload",function(){for(var t in gn)gn[t](undefined,!0)}),ht.cors=!!vn&&"withCredentials"in vn,(vn=ht.ajax=!!vn)&&ft.ajaxTransport(function(c){var u;if(!c.crossDomain||ht.cors)return{send:function(t,s){var e,a=c.xhr(),l=++mn;if(a.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(e in c.xhrFields)a[e]=c.xhrFields[e];for(e in c.mimeType&&a.overrideMimeType&&a.overrideMimeType(c.mimeType),c.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)t[e]!==undefined&&a.setRequestHeader(e,t[e]+"");a.send(c.hasContent&&c.data||null),u=function(t,e){var n,i,o;if(u&&(e||4===a.readyState))if(delete gn[l],u=undefined,a.onreadystatechange=ft.noop,e)4!==a.readyState&&a.abort();else{o={},n=a.status,"string"==typeof a.responseText&&(o.text=a.responseText);try{i=a.statusText}catch(r){i=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=o.text?200:404}o&&s(n,i,o,a.getAllResponseHeaders())},c.async?4===a.readyState?k.setTimeout(u):a.onreadystatechange=gn[l]=u:u()},abort:function(){u&&u(undefined,!0)}}}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ft.ajaxTransport("script",function(e){if(e.crossDomain){var i,o=it.head||ft("head")[0]||it.documentElement;return{send:function(t,n){(i=it.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},o.insertBefore(i,o.firstChild)},abort:function(){i&&i.onload(undefined,!0)}}}});var yn=[],bn=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=yn.pop()||ft.expando+"_"+Xe++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,r,s=!1!==t.jsonp&&(bn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&bn.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ft.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(bn,"$1"+i):!1!==t.jsonp&&(t.url+=(Ge.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return r||ft.error(i+" was not called"),r[0]},t.dataTypes[0]="json",o=k[i],k[i]=function(){r=arguments},n.always(function(){o===undefined?ft(k).removeProp(i):k[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,yn.push(i)),r&&ft.isFunction(o)&&o(r[0]),r=o=undefined}),"script"}),ft.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=wt.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=m([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],i.childNodes))};var xn=ft.fn.load;ft.fn.load=function(t,e,n){if("string"!=typeof t&&xn)return xn.apply(this,arguments);var i,o,r,s=this,a=t.indexOf(" ");return-1<a&&(i=ft.trim(t.slice(a,t.length)),t=t.slice(0,a)),ft.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(o="POST"),0<s.length&&ft.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?ft("<div>").append(ft.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.filters.animated=function(e){return ft.grep(ft.timers,function(t){return e===t.elem}).length},ft.offset={setOffset:function(t,e,n){var i,o,r,s,a,l,c=ft.css(t,"position"),u=ft(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),r=ft.css(t,"top"),l=ft.css(t,"left"),o=("absolute"===c||"fixed"===c)&&-1<ft.inArray("auto",[r,l])?(s=(i=u.position()).top,i.left):(s=parseFloat(r)||0,parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):u.css(h)}},ft.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){ft.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(t=r.documentElement,ft.contains(t,o)?("undefined"!=typeof o.getBoundingClientRect&&(i=o.getBoundingClientRect()),n=et(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ft.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n.top+=ft.css(t[0],"borderTopWidth",!0),n.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ft.css(i,"marginTop",!0),left:e.left-n.left-ft.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||me})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r=/Y/.test(o);ft.fn[e]=function(t){return qt(this,function(t,e,n){var i=et(t);if(n===undefined)return i?o in i?i[o]:i.document.documentElement[e]:t[e];i?i.scrollTo(r?ft(i).scrollLeft():n,r?n:ft(i).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),ft.each(["top","left"],function(t,n){ft.cssHooks[n]=j(ht.pixelPosition,function(t,e){if(e)return e=ve(t,n),fe.test(e)?ft(t).position()[n]+"px":e})}),ft.each({Height:"height",Width:"width"},function(r,s){ft.each({padding:"inner"+r,content:s,"":"outer"+r},function(i,t){ft.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return qt(this,function(t,e,n){var i;return ft.isWindow(t)?t.document.documentElement["client"+r]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+r],i["scroll"+r],t.body["offset"+r],i["offset"+r],i["client"+r])):n===undefined?ft.css(t,e,o):ft.style(t,e,n,o)},s,n?t:undefined,n,null)}})}),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var _n=k.jQuery,wn=k.$;return ft.noConflict=function(t){return k.$===ft&&(k.$=wn),
t&&k.jQuery===ft&&(k.jQuery=_n),ft},t||(k.jQuery=k.$=ft),ft}),function(u,l){"use strict";var c;u.rails!==l&&u.error("jquery-ujs has already been loaded!");var t=u(document);u.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return u("meta[name=csrf-token]").attr("content")},csrfParam:function(){return u("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=c.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){u('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(t,e,n){var i=u.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return u.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==l&&!1!==t.data("remote")},handleRemote:function(i){var t,e,n,o,r,s;if(c.fire(i,"ajax:before")){if(o=i.data("with-credentials")||null,r=i.data("type")||u.ajaxSettings&&u.ajaxSettings.dataType,i.is("form")){t=i.data("ujs:submit-button-formmethod")||i.attr("method"),e=i.data("ujs:submit-button-formaction")||i.attr("action"),n=u(i[0]).serializeArray();var a=i.data("ujs:submit-button");a&&(n.push(a),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(c.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(c.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=c.href(i),n=i.data("params")||null);return s={type:t||"GET",data:n,dataType:r,beforeSend:function(t,e){if(e.dataType===l&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!c.fire(i,"ajax:beforeSend",[t,e]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:c.isCrossDomain(e)},o&&(s.xhrFields={withCredentials:o}),e&&(s.url=e),c.ajax(s)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(t){var e=c.href(t),n=t.data("method"),i=t.attr("target"),o=c.csrfToken(),r=c.csrfParam(),s=u('<form method="post" action="'+e+'"></form>'),a='<input name="_method" value="'+n+'" type="hidden" />';r===l||o===l||c.isCrossDomain(e)||(a+='<input name="'+r+'" value="'+o+'" type="hidden" />'),i&&s.attr("target",i),s.hide().append(a).appendTo("body"),s.submit()},formElements:function(t,e){return t.is("form")?u(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){c.formElements(t,c.disableSelector).each(function(){c.disableFormElement(u(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==l&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){c.formElements(t,c.enableSelector).each(function(){c.enableFormElement(u(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==l&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),i=!1;if(!n)return!0;if(c.fire(t,"confirm")){try{i=c.confirm(n)}catch(o){(console.error||console.log).call(console,o.stack||o)}e=c.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(t,e,n){var i,o,r,s=u(),a=e||"input,textarea",l=t.find(a),c={};return l.each(function(){(i=u(this)).is("input[type=radio]")?(r=i.attr("name"),c[r]||(0===t.find('input[type=radio]:checked[name="'+r+'"]').length&&(o=t.find('input[type=radio][name="'+r+'"]'),s=s.add(o)),c[r]=r)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(s=s.add(i))}),!!s.length&&s},nonBlankInputs:function(t,e){return c.blankInputs(t,e,!0)},stopEverything:function(t){return u(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==l&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return c.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==l&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},c.fire(t,"rails:attachBindings")&&(u.ajaxPrefilter(function(t,e,n){t.crossDomain||c.CSRFProtection(n)}),u(window).on("pageshow.rails",function(){u(u.rails.enableSelector).each(function(){var t=u(this);t.data("ujs:disabled")&&u.rails.enableFormElement(t)}),u(u.rails.linkDisableSelector).each(function(){var t=u(this);t.data("ujs:disabled")&&u.rails.enableElement(t)})}),t.on("ajax:complete",c.linkDisableSelector,function(){c.enableElement(u(this))}),t.on("ajax:complete",c.buttonDisableSelector,function(){c.enableFormElement(u(this))}),t.on("click.rails",c.linkClickSelector,function(t){var e=u(this),n=e.data("method"),i=e.data("params"),o=t.metaKey||t.ctrlKey;if(!c.allowAction(e))return c.stopEverything(t);if(!o&&e.is(c.linkDisableSelector)&&c.disableElement(e),c.isRemote(e)){if(o&&(!n||"GET"===n)&&!i)return!0;var r=c.handleRemote(e);return!1===r?c.enableElement(e):r.fail(function(){c.enableElement(e)}),!1}return n?(c.handleMethod(e),!1):void 0}),t.on("click.rails",c.buttonClickSelector,function(t){var e=u(this);if(!c.allowAction(e)||!c.isRemote(e))return c.stopEverything(t);e.is(c.buttonDisableSelector)&&c.disableFormElement(e);var n=c.handleRemote(e);return!1===n?c.enableFormElement(e):n.fail(function(){c.enableFormElement(e)}),!1}),t.on("change.rails",c.inputChangeSelector,function(t){var e=u(this);return c.allowAction(e)&&c.isRemote(e)?(c.handleRemote(e),!1):c.stopEverything(t)}),t.on("submit.rails",c.formSubmitSelector,function(t){var e,n,i=u(this),o=c.isRemote(i);if(!c.allowAction(i))return c.stopEverything(t);if(i.attr("novalidate")===l)if(i.data("ujs:formnovalidate-button")===l){if((e=c.blankInputs(i,c.requiredInputSelector,!1))&&c.fire(i,"ajax:aborted:required",[e]))return c.stopEverything(t)}else i.data("ujs:formnovalidate-button",l);if(o){if(n=c.nonBlankInputs(i,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(i)},13);var r=c.fire(i,"ajax:aborted:file",[n]);return r||setTimeout(function(){c.enableFormElements(i)},13),r}return c.handleRemote(i),!1}setTimeout(function(){c.disableFormElements(i)},13)}),t.on("click.rails",c.formInputClickSelector,function(t){var e=u(this);if(!c.allowAction(e))return c.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null,o=e.closest("form");0===o.length&&(o=u("#"+e.attr("form"))),o.data("ujs:submit-button",i),o.data("ujs:formnovalidate-button",e.attr("formnovalidate")),o.data("ujs:submit-button-formaction",e.attr("formaction")),o.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",c.formSubmitSelector,function(t){this===t.target&&c.disableFormElements(u(this))}),t.on("ajax:complete.rails",c.formSubmitSelector,function(t){this===t.target&&c.enableFormElements(u(this))}),u(function(){c.refreshCSRFTokens()}))}(jQuery),Blacklight=function(){var e=new Array;return{onLoad:function(t){e.push(t)},activate:function(){for(var t=0;t<e.length;t++)e[t].call()}}}(),"undefined"!=typeof Turbolinks&&Turbolinks.supported?Turbolinks.BrowserAdapter?$(document).on("turbolinks:load",function(){Blacklight.activate()}):($(document).on("page:load",function(){Blacklight.activate()}),$(document).ready(function(){Blacklight.activate()})):$(document).ready(function(){Blacklight.activate()}),Blacklight.onLoad(function(){"use strict";$('[data-autocomplete-enabled="true"]').each(function(){function e(t){return'<p class="'+t.category+'">'+t.term+' <span class="tt-category">'+t.category+"</span></p>"}var i=$(this),n=i.data().autocompletePath,t="",o=$("select").find("option:selected").val();switch(o){case"title":t="/title";break;case"author":t="/author";break;case"subject":t="/subject"}var r=n+t,s=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:r+"?q=%QUERY",wildcard:"%QUERY",filter:function(t){return t.title},replace:function(t,e){return r+"?q="+e}}}),a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:r+"?q=%QUERY",wildcard:"%QUERY",filter:function(t){return t.author},replace:function(t,e){return r+"?q="+e}}}),l=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:r+"?q=%QUERY",wildcard:"%QUERY",filter:function(t){return t.subject},replace:function(t,e){return r+"?q="+e}}}),c={hint:!0,highlight:!0,minLength:3},u=[{name:"titles",displayKey:"term",source:s.ttAdapter(),templates:{suggestion:function(t){return e(t)}}},{name:"authors",displayKey:"term",source:a.ttAdapter(),templates:{suggestion:function(t){return e(t)}}},{name:"subjects",displayKey:"term",source:l.ttAdapter(),templates:{suggestion:function(t){return e(t)}}}];$("select").on("changed.bs.select",function(){function t(t){i.typeahead("destroy"),r=n+t,i.typeahead(c,u)}switch(o=this.value,i.off("typeahead:open"),o){case"title":t("/title");break;case"author":t("/author");break;case"subject":t("/subject");break;case"all_fields":t("");break;default:i.typeahead("destroy")}var e=i.typeahead("val");i.typeahead("val","").typeahead("val",e)}),i.on("typeahead:select",function(t,e){function n(t){$("select[name=search_field]").val(t),$(".selectpicker").selectpicker("refresh")}"all_fields"==o&&(n(e.category),i.on("typeahead:open",function(){n("all_fields")}))}),"title"!=o&&"author"!=o&&"subject"!=o&&"all_fields"!=o||i.typeahead(c,u)})}),function(u){u.fn.bl_checkbox_submit=function(c){return this.each(function(){function i(t){a.prop("checked",t),l.toggleClass("checked",t),t?(r.find("input[name=_method]").val("delete"),e.text(r.attr("data-present"))):(r.find("input[name=_method]").val("put"),e.text(r.attr("data-absent")))}var o=u.extend({},u.fn.bl_checkbox_submit.defaults,c),r=u(this);r.children().hide(),r.find("input[type=submit]").remove(),r.addClass("form-horizontal");var t=r.attr("data-doc-id")||Math.random(),s=0!=r.find("input[name=_method][value=delete]").length,a=u('<input type="checkbox">').addClass(o.css_class).attr("id",o.css_class+"_"+t),l=u("<label>").addClass(o.css_class).attr("for",o.css_class+"_"+t).attr("title",r.attr("title")||""),e=u("<span>");l.append(a),l.append(" "),l.append(e);var n=u("<div class='checkbox' />").addClass(o.css_class).append(l);r.append(n),i(s),a.click(function(){return e.text(r.attr("data-inprogress")),l.attr("disabled","disabled"),a.attr("disabled","disabled"),u.ajax({url:r.attr("action"),dataType:"json",type:r.attr("method").toUpperCase(),data:r.serialize(),error:function(){l.removeAttr("disabled"),a.removeAttr("disabled"),o.error.call()},success:function(t,e,n){0!=n.status?(i(s=!s),l.removeAttr("disabled"),a.removeAttr("disabled"),o.success.call(r,s,n.responseJSON)):(l.removeAttr("disabled"),a.removeAttr("disabled"),o.error.call())}}),!1})}),this},u.fn.bl_checkbox_submit.defaults={css_class:"bl_checkbox_submit",error:function(){alert("Error")},success:function(){}}}(jQuery),function(n){Blacklight.do_bookmark_toggle_behavior=function(){n(Blacklight.do_bookmark_toggle_behavior.selector).bl_checkbox_submit({css_class:"toggle_bookmark",success:function(t,e){e.bookmarks&&n("[data-role=bookmark-counter]").text(e.bookmarks.count)}})},Blacklight.do_bookmark_toggle_behavior.selector="form.bookmark_toggle",Blacklight.onLoad(function(){Blacklight.do_bookmark_toggle_behavior()})}(jQuery),function(t){Blacklight.onLoad(function(){t(document).on("click","a[data-toggle=collapse][href='#'], [data-toggle=collapse] a[href='#']",function(t){t.preventDefault()})})}(jQuery),function(n){"use strict";Blacklight.doResizeFacetLabelsAndCounts=function(){function e(t,e){return e.textContent.length-t.textContent.length}n("ul.facet-values, ul.pivot-facet").each(function(){var t=n(this).find("span.facet-count").sort(e).first().clone().css("visibility","hidden").css("width","auto");n("body").append(t),n(this).find(".facet-count").first().width(t.width()),t.remove()})},Blacklight.onLoad(function(){Blacklight.doResizeFacetLabelsAndCounts()})}(jQuery),Blacklight.ajaxModal===undefined&&(Blacklight.ajaxModal={}),Blacklight.ajaxModal.modalSelector="#ajax-modal",Blacklight.ajaxModal.triggerLinkSelector="a[data-ajax-modal~=trigger], a.lightboxLink,a.more_facets_link,.ajax_modal_launch",Blacklight.ajaxModal.triggerFormSelector="form[data-ajax-modal~=trigger], form.ajax_form",Blacklight.ajaxModal.preserveLinkSelector=Blacklight.ajaxModal.modalSelector+" a[data-ajax-modal~=preserve]",Blacklight.ajaxModal.preserveFormSelector=Blacklight.ajaxModal.modalSelector+" form[data-ajax-modal~=preserve]",Blacklight.ajaxModal.containerSelector="[data-ajax-modal~=container]",Blacklight.ajaxModal.modalCloseSelector="[data-ajax-modal~=close], span.ajax-close-modal",Blacklight.ajaxModal.onFailure=function(){var t="<div class='modal-header'><button type='button' class='close' data-dismiss='modal' aria-hidden='true'>\xd7</button>Network Error</div>";$(Blacklight.ajaxModal.modalSelector).find(".modal-content").html(t),$(Blacklight.ajaxModal.modalSelector).modal("show")},Blacklight.ajaxModal.receiveAjax=function(t){var e=$("<div>").append(jQuery.parseHTML(t)).find(Blacklight.ajaxModal.containerSelector).first();0!==e.length&&(t=e.html()),$(Blacklight.ajaxModal.modalSelector).find(".modal-content").html(t);var n=$.Event("loaded.blacklight.ajax-modal");$(Blacklight.ajaxModal.modalSelector).trigger(n),n.isDefaultPrevented()||$(Blacklight.ajaxModal.modalSelector).modal("show")},Blacklight.ajaxModal.modalAjaxLinkClick=function(t){t.preventDefault(),$.ajax({url:$(this).attr("href")}).fail(Blacklight.ajaxModal.onFailure).done(Blacklight.ajaxModal.receiveAjax)},Blacklight.ajaxModal.modalAjaxFormSubmit=function(t){t.preventDefault(),$.ajax({url:$(this).attr("action"),data:$(this).serialize(),type:$(this).attr("method")}).fail(Blacklight.ajaxModal.onFailure).done(Blacklight.ajaxModal.receiveAjax)},Blacklight.ajaxModal.setup_modal=function(){var t=$.Event("setup.blacklight.ajax-modal");$("body").trigger(t),t.isDefaultPrevented()||($("body").on("click",Blacklight.ajaxModal.triggerLinkSelector+", "+Blacklight.ajaxModal.preserveLinkSelector,Blacklight.ajaxModal.modalAjaxLinkClick),$("body").on("submit",Blacklight.ajaxModal.triggerFormSelector+", "+Blacklight.ajaxModal.preserveFormSelector,Blacklight.ajaxModal.modalAjaxFormSubmit),$("body").on("loaded.blacklight.ajax-modal",Blacklight.ajaxModal.check_close_ajax_modal),$("body ").on("click",Blacklight.ajaxModal.modalSelector+" a[data-dismiss~=modal]",function(t){t.preventDefault()}))},Blacklight.ajaxModal.check_close_ajax_modal=function(t){$(t.target).find(Blacklight.ajaxModal.modalCloseSelector).length&&(modal_flashes=$(this).find(".flash_messages"),$(t.target).modal("hide"),t.preventDefault(),main_flashes=$("#main-flashes"),main_flashes.append(modal_flashes),modal_flashes.fadeIn(500))},Blacklight.onLoad(function(){Blacklight.ajaxModal.setup_modal()}),function(u){Blacklight.do_search_context_behavior=function(){u("a[data-context-href]").on("click.search-context",Blacklight.handleSearchContextMethod)},Blacklight.handleSearchContextMethod=function(t){var e=u(this),n=e.data("context-href"),i="post",o=e.attr("target"),r=u("meta[name=csrf-token]").attr("content"),s=u("meta[name=csrf-param]").attr("content"),a=u('<form method="post" action="'+n+'"></form>'),l='<input name="_method" value="'+i+'" type="hidden" />',c='<input name="redirect" value="'+e.attr("href")+'" type="hidden" />';return(t.metaKey||t.ctrlKey)&&(o="_blank"),s!==undefined&&r!==undefined&&(l+='<input name="'+s+'" value="'+r+'" type="hidden" />'),o&&a.attr("target",o),a.hide().append(l).append(c).appendTo("body"),a.submit(),!1},Blacklight.onLoad(function(){Blacklight.do_search_context_behavior()})}(jQuery),function(t){Blacklight.do_search_autofocus_fallback=function(){"undefined"!=typeof Modernizer&&Modernizr.autofocus||t("input[autofocus]").focus()},Blacklight.onLoad(function(){Blacklight.do_search_autofocus_fallback()})}(jQuery),function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(s){"use strict";function o(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return s(n)}function a(i){return this.each(function(){var t=s(this),e=t.data("bs.collapse"),n=s.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=s(t),this.options=s.extend({},l.DEFAULTS,e),this.$trigger=s('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=s.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(a.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!s.support.transition)return o.call(this);var r=s.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",s.proxy(o,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][r])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=s.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!s.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",s.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return s(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(s.proxy(function(t,e){var n=s(e);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=s.fn.collapse;s.fn.collapse=a,s.fn.collapse.Constructor=l,s.fn.collapse.noConflict=function(){return s.fn.collapse=t,this},s(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=s(this);e.attr("data-target")||t.preventDefault();var n=o(e),i=n.data("bs.collapse")?"toggle":e.data();a.call(n,i)})}(jQuery),function(a){"use strict";function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&a(e);return n&&n.length?n:t.parent()}function r(i){i&&3===i.which||(a(e).remove(),a(c).each(function(){var t=a(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&a.contains(e[0],i.target)||(e.trigger(i=a.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",n)))))}))}function t(n){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",c='[data-toggle="dropdown"]',i=function(t){a(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(r(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",r);var o={relatedTarget:this};if(n.trigger(t=a.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(a.Event("shown.bs.dropdown",o))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(c).trigger("focus"),e.trigger("click");var o=" li:not(.disabled):visible a",r=n.find(".dropdown-menu"+o);if(r.length){var s=r.index(t.target);38==t.which&&0<s&&s--,40==t.which&&s<r.length-1&&s++,~s||(s=0),r.eq(s).trigger("focus")}}}};var n=a.fn.dropdown;a.fn.dropdown=t,a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=n,this},a(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",c,i.prototype.toggle).on("keydown.bs.dropdown.data-api",c,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(r){"use strict";function t(n){return this.each(function(){var t=r(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new s(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',s=function(t){r(t).on("click",e,this.close)};s.VERSION="3.3.7",s.TRANSITION_DURATION=150,s.prototype.close=function(t){function e(){o.detach().trigger("closed.bs.alert").remove()}var n=r(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var o=r("#"===i?[]:i);t&&t.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(t=r.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),r.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(s.TRANSITION_DURATION):e())};var n=r.fn.alert;r.fn.alert=t,r.fn.alert.Constructor=s,r.fn.alert.noConflict=function(){return r.fn.alert=n,this},r(document).on("click.bs.alert.data-api",e,s.prototype.close)}(jQuery),function(r){"use strict";function s(i,o){return this.each(function(){var t=r(this),e=t.data("bs.modal"),n=r.extend({},a.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new a(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}var a=function(t,e){this.options=e,this.$body=r(document.body),this.$element=r(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,r.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};a.VERSION="3.3.7",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},a.prototype.show=function(n){var i=this,t=r.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',r.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){r(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=r.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=r.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(a.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},a.prototype.hide=function(t){t&&t.preventDefault(),t=r.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),r(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),r.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",r.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){r(document).off("focusin.bs.modal").on("focusin.bs.modal",r.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",r.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?r(window).on("resize.bs.modal",r.proxy(this.handleUpdate,this)):r(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=r.support.transition&&n;if(this.$backdrop=r(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",r.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};r.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=r.fn.modal;r.fn.modal=s,r.fn.modal.Constructor=a,r.fn.modal.noConflict=function(){return r.fn.modal=t,this},r(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=r(this),n=e.attr("href"),i=r(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":r.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),s.call(i,o,this)})}(jQuery),function(e,n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e.Bloodhound=n(t)}):"object"==typeof exports?module.exports=n(require("jquery")):e.Bloodhound=n(jQuery)}(this,function(f){var p=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:f.isArray,isFunction:f.isFunction,isObject:f.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof f},toStr:function e(t){return p.isUndefined(t)||null===t?"":t+""},bind:f.proxy,each:function(t,n){function e(t,e){return n(e,t)}f.each(t,e)},map:f.map,filter:f.grep,every:function(n,i){var o=!0;return n?(f.each(n,function(t,e){if(!(o=i.call(null,e,t,n)))return!1}),!!o):o},some:function(n,i){var o=!1;return n?(f.each(n,function(t,e){if(o=i.call(null,e,t,n))return!1}),!!o):o},mixin:f.extend,identity:function(t){return t},clone:function(t){return f.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function n(t){function e(){return String(t)}return f.isFunction(t)?t:e},defer:function(t){setTimeout(t,0)},debounce:function(o,r,s){var a,l;return function(
){var t,e,n=this,i=arguments;return t=function(){a=null,s||(l=o.apply(n,i))},e=s&&!a,clearTimeout(a),a=setTimeout(t,r),e&&(l=o.apply(n,i)),l}},throttle:function(n,i){var o,r,s,a,l,c;return l=0,c=function(){l=new Date,s=null,a=n.apply(o,r)},function(){var t=new Date,e=i-(t-l);return o=this,r=arguments,e<=0?(clearTimeout(s),s=null,l=t,a=n.apply(o,r)):s||(s=setTimeout(c,e)),a}},stringify:function(t){return p.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),l="0.11.1",m=function(){"use strict";function t(t){return(t=p.toStr(t))?t.split(/\s+/):[]}function e(t){return(t=p.toStr(t))?t.split(/\W+/):[]}function n(o){return function e(t){return t=p.isArray(t)?t:[].slice.call(arguments,0),function i(e){var n=[];return p.each(t,function(t){n=n.concat(o(p.toStr(e[t])))}),n}}}return{nonword:e,whitespace:t,obj:{nonword:n(e),whitespace:n(t)}}}(),r=function(){"use strict";function t(t){this.maxSize=p.isNumber(t)?t:100,this.reset(),this.maxSize<=0&&(this.set=this.get=f.noop)}function e(){this.head=this.tail=null}function o(t,e){this.key=t,this.val=e,this.prev=this.next=null}return p.mixin(t.prototype,{set:function r(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new o(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function n(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function i(){this.size=0,this.hash={},this.list=new e}}),p.mixin(e.prototype,{add:function s(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function a(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),t}(),s=function(){"use strict";function t(t,e){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+p.escapeRegExChars(this.prefix)),this.ls=e||s,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function o(t){return JSON.stringify(p.isUndefined(t)?null:t)}function n(t){return f.parseJSON(t)}function r(t){var e,n,i=[],o=s.length;for(e=0;e<o;e++)(n=s.key(e)).match(t)&&i.push(n.replace(t,""));return i}var s;try{(s=window.localStorage).setItem("~~~","!"),s.removeItem("~~~")}catch(a){s=null}return p.mixin(t.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=p.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(a){"QuotaExceededError"===a.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),n(this.ls.getItem(this._prefix(t)))},set:function(t,e,n){return p.isNumber(n)?this._safeSet(this._ttlKey(t),o(i()+n)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),o(e))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=r(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var e=n(this.ls.getItem(this._ttlKey(t)));return!!(p.isNumber(e)&&i()>e)}}),t}(),g=function(){"use strict";function t(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new r(0):e}var l=0,c={},u=6,e=new r(10);return t.setMaxPendingRequests=function n(t){u=t},t.resetCache=function i(){e.reset()},p.mixin(t.prototype,{_fingerprint:function o(t){return(t=t||{}).url+t.type+f.param(t.data||{})},_get:function(t,e){function n(t){e(null,t),a._cache.set(r,t)}function i(){e(!0)}function o(){l--,delete c[r],a.onDeckRequestArgs&&(a._get.apply(a,a.onDeckRequestArgs),a.onDeckRequestArgs=null)}var r,s,a=this;r=this._fingerprint(t),this.cancelled||r!==this.lastReq||((s=c[r])?s.done(n).fail(i):l<u?(l++,c[r]=this._send(t).done(n).fail(i).always(o)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,e){var n,i;e=e||f.noop,t=p.isString(t)?{url:t}:t||{},i=this._fingerprint(t),this.cancelled=!1,this.lastReq=i,(n=this._cache.get(i))?e(null,n):this._get(t,e)},cancel:function(){this.cancelled=!0}}),t}(),v=window.SearchIndex=function(){"use strict";function t(t){(t=t||{}).datumTokenizer&&t.queryTokenizer||f.error("datumTokenizer and queryTokenizer are both required"),this.identify=t.identify||p.stringify,this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.matchAnyQueryToken=t.matchAnyQueryToken,this.reset()}function n(t){return t=p.filter(t,function(t){return!!t}),t=p.map(t,function(t){return t.toLowerCase()})}function s(){var t={};return t[c]=[],t[l]={},t}function i(t){for(var e={},n=[],i=0,o=t.length;i<o;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function a(t,e){var n=0,i=0,o=[];t=t.sort(),e=e.sort();for(var r=t.length,s=e.length;n<r&&i<s;)t[n]<e[i]?n++:(t[n]>e[i]||(o.push(t[n]),n++),i++);return o}var l="c",c="i";return p.mixin(t.prototype,{bootstrap:function e(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var r=this;t=p.isArray(t)?t:[t],p.each(t,function(t){var o,e;r.datums[o=r.identify(t)]=t,e=n(r.datumTokenizer(t)),p.each(e,function(t){var e,n,i;for(e=r.trie,n=t.split("");i=n.shift();)(e=e[l][i]||(e[l][i]=s()))[c].push(o)})})},get:function o(t){var e=this;return p.map(t,function(t){return e.datums[t]})},search:function u(t){var e,r,s=this;return e=n(this.queryTokenizer(t)),p.each(e,function(t){var e,n,i,o;if(r&&0===r.length&&!s.matchAnyQueryToken)return!1;for(e=s.trie,n=t.split("");e&&(i=n.shift());)e=e[l][i];if(e&&0===n.length)o=e[c].slice(0),r=r?a(r,o):o;else if(!s.matchAnyQueryToken)return!(r=[])}),r?p.map(i(r),function(t){return s.datums[t]}):[]},all:function r(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function h(){this.datums={},this.trie=s()},serialize:function d(){return{datums:this.datums,trie:this.trie}}}),t}(),y=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new s(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},p.mixin(t.prototype,{_settings:function e(){return{url:this.url,type:"GET",dataType:"json"}},store:function i(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function o(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(e){function t(){e(!0)}function n(t){e(null,o.transform(t))}var i,o=this;e&&(i=this.prepare(this._settings()),this.transport(i).fail(t).done(n))},clear:function r(){return this.storage.clear(),this}}),t}(),b=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.indexResponse=t.indexResponse,this.transport=new g({cache:t.cache,limiter:t.limiter,transport:t.transport})}return p.mixin(t.prototype,{_settings:function e(){return{url:this.url,type:"GET",dataType:"json"}},get:function r(t,n){function e(t,e){n(t?[]:o.transform(e))}var i,o=this;if(n)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,e)},cancelLastRequest:function n(){this.transport.cancel()}}),t}(),x=function(){"use strict";function i(t){var e;return t?(e={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:p.identity,transform:p.identity,transport:null},t=p.isString(t)?{url:t}:t,!(t=p.mixin(e,t)).url&&f.error("prefetch requires url to be set"),t.transform=t.filter||t.transform,t.cacheKey=t.cacheKey||t.url,t.thumbprint=l+t.thumbprint,t.transport=t.transport?s(t.transport):f.ajax,t):null}function o(t){var e;if(t)return e={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:p.identity,transport:null},t=p.isString(t)?{url:t}:t,!(t=p.mixin(e,t)).url&&f.error("remote requires url to be set"),t.transform=t.filter||t.transform,t.prepare=n(t),t.limiter=r(t),t.transport=t.transport?s(t.transport):f.ajax,delete t.replace,delete t.wildcard,delete t.rateLimitBy,delete t.rateLimitWait,t}function n(t){function e(t,e){return e.url=r(e.url,t),e}function n(t,e){return e.url=e.url.replace(s,encodeURIComponent(t)),e}function i(t,e){return e}var o,r,s;return o=t.prepare,r=t.replace,s=t.wildcard,o||(o=r?e:t.wildcard?n:i)}function r(t){function e(e){return function n(t){return p.debounce(t,e)}}function n(e){return function n(t){return p.throttle(t,e)}}var i,o,r;return i=t.limiter,o=t.rateLimitBy,r=t.rateLimitWait,i||(i=/^throttle$/i.test(o)?n(r):e(r)),i}function s(o){return function r(t){function e(t){p.defer(function(){i.resolve(t)})}function n(t){p.defer(function(){i.reject(t)})}var i=f.Deferred();return o(t,e,n),i}}return function a(t){var e,n;return e={initialize:!0,identify:p.stringify,datumTokenizer:null,queryTokenizer:null,matchAnyQueryToken:!1,sufficient:5,indexRemote:!1,sorter:null,local:[],prefetch:null,remote:null},!(t=p.mixin(e,t||{})).datumTokenizer&&f.error("datumTokenizer is required"),!t.queryTokenizer&&f.error("queryTokenizer is required"),n=t.sorter,t.sorter=n?function(t){return t.sort(n)}:p.identity,t.local=p.isFunction(t.local)?t.local():t.local,t.prefetch=i(t.prefetch),t.remote=o(t.remote),t}}();return function(){"use strict";function t(t){t=x(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.indexRemote=t.indexRemote,this.local=t.local,this.remote=t.remote?new b(t.remote):null,this.prefetch=t.prefetch?new y(t.prefetch):null,this.index=new v({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var e;return e=window&&window.Bloodhound,t.noConflict=function n(){return window&&(window.Bloodhound=e),t},t.tokenizers=m,p.mixin(t.prototype,{__ttAdapter:function o(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function r(){function t(t,e){if(t)return n.reject();i.add(e),i.prefetch.store(i.index.serialize()),n.resolve()}var n,e,i=this;return n=f.Deferred(),this.prefetch?(e=this.prefetch.fromCache())?(this.index.bootstrap(e),n.resolve()):this.prefetch.fromNetwork(t):n.resolve(),n.promise()},_initialize:function i(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function i(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function s(t){return this.index.add(t),this},get:function a(t){return t=p.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function l(t,e,i){function n(t){var n=[];p.each(t,function(e){!p.some(o,function(t){return r.identify(e)===r.identify(t)})&&n.push(e)}),r.indexRemote&&r.add(n),i(n)}var o,r=this;return e=e||p.noop,i=i||p.noop,o=this.sorter(this.index.search(t)),e(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,n):this.remote&&this.remote.cancelLastRequest(),this},all:function c(){return this.index.all()},clear:function u(){return this.index.reset(),this},clearPrefetchCache:function h(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function d(){return g.resetCache(),this},ttAdapter:function o(){return this.__ttAdapter()}}),t}()}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(H){var z=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:H.isArray,isFunction:H.isFunction,isObject:H.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof H},toStr:function e(t){return z.isUndefined(t)||null===t?"":t+""},bind:H.proxy,each:function(t,n){function e(t,e){return n(e,t)}H.each(t,e)},map:H.map,filter:H.grep,every:function(n,i){var o=!0;return n?(H.each(n,function(t,e){if(!(o=i.call(null,e,t,n)))return!1}),!!o):o},some:function(n,i){var o=!1;return n?(H.each(n,function(t,e){if(o=i.call(null,e,t,n))return!1}),!!o):o},mixin:H.extend,identity:function(t){return t},clone:function(t){return H.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function n(t){function e(){return String(t)}return H.isFunction(t)?t:e},defer:function(t){setTimeout(t,0)},debounce:function(o,r,s){var a,l;return function(){var t,e,n=this,i=arguments;return t=function(){a=null,s||(l=o.apply(n,i))},e=s&&!a,clearTimeout(a),a=setTimeout(t,r),e&&(l=o.apply(n,i)),l}},throttle:function(n,i){var o,r,s,a,l,c;return l=0,c=function(){l=new Date,s=null,a=n.apply(o,r)},function(){var t=new Date,e=i-(t-l);return o=this,r=arguments,e<=0?(clearTimeout(s),s=null,l=t,a=n.apply(o,r)):s||(s=setTimeout(c,e)),a}},stringify:function(t){return z.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),C=function(){"use strict";function t(t){var e,n;return n=z.mixin({},s,t),{css:(e={css:r(),classes:n,html:i(n),selectors:o(n)}).css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(t){z.mixin(t,e)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function o(t){var n={};return z.each(t,function(t,e){n[e]="."+t}),n}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return z.isMsie()&&z.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var s={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),S=function(){"use strict";function t(t){t&&t.el||H.error("EventBus initialized without el"),this.$el=H(t.el)}var i,n;return i="typeahead:",n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},z.mixin(t.prototype,{_trigger:function(t,e){var n;return n=H.Event(i+t),(e=e||[]).unshift(n),this.$el.trigger.apply(this.$el,e),n},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=n[t])&&this._trigger(e,[].slice.call(arguments,1))}}),t}(),E=function(){"use strict";function i(t,e,n,i){var o;if(!n)return this;for(e=e.split(l),n=i?a(n,i):n,this._callbacks=this._callbacks||{};o=e.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][t].push(n);return this}function t(t,e,n){return i.call(this,"async",t,e,n)}function e(t,e,n){return i.call(this,"sync",t,e,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function o(t){var e,n,i,o,r;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)o=s(n.sync,this,[e].concat(i)),r=s(n.async,this,[e].concat(i)),o()&&c(r);return this}function s(i,o,r){function t(){for(var t,e=0,n=i.length;!t&&e<n;e+=1)t=!1===i[e].apply(o,r);return!t}return t}function r(){return window.setImmediate?function e(t){setImmediate(function(){t()})}:function n(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,c=r();return{onSync:e,onAsync:t,off:n,trigger:o}}(),k=function(a){"use strict";function e(t,e,n){for(var i,o=[],r=0,s=t.length;r<s;r++)o.push(z.escapeRegExChars(t[r]));return i=n?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",e?new RegExp(i):new RegExp(i,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function i(o){function t(t){var e,n,i;return(e=s.exec(t.data))&&(i=a.createElement(o.tagName),o.className&&(i.className=o.className),(n=t.splitText(e.index)).splitText(e[0].length),i.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(i,n)),!!e}function r(t,e){for(var n,i=3,o=0;o<t.childNodes.length;o++)(n=t.childNodes[o]).nodeType===i?o+=e(n)?1:0:r(n,e)}var s;(o=z.mixin({},n,o)).node&&o.pattern&&(o.pattern=z.isArray(o.pattern)?o.pattern:[o.pattern],s=e(o.pattern,o.caseSensitive,o.wordsOnly),r(o.node,t))}}(window.document),O=function(){"use strict";function n(t,e){(t=t||{}).input||H.error("input is missing"),e.mixin(this),this.$hint=H(t.hint),this.$input=H(t.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=z.noop)}function i(t){return H('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function o(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function r(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return z.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},z.mixin(n.prototype,E,{_onBlur:function t(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function e(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function a(t){var e=s[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function l(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function c(t,e){var n;switch(t){case"up":case"down":n=!r(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function u(t,e){var n;switch(t){case"tab":n=!r(e);break;default:n=!0}return n},_checkLanguageDirection:function h(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function d(t,e){var n,i;i=!!(n=o(t,this.query))&&this.query.length!==t.length,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,e,n,i,o=this;return t=z.bind(this._onBlur,this),e=z.bind(this._onFocus,this),n=z.bind(this._onKeydown,this),i=z.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",e).on("keydown.tt",n),!z.isMsie()||9<z.isMsie()?this.$input.on("input.tt",i):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){s[t.which||t.keyCode]||z.defer(z.bind(o._onInput,o,t))}),this},focus:function f(){this.$input.focus()},blur:function p(){this.$input.blur()},getLangDir:function m(){return this.dir},getQuery:function g(){return this.query||""},setQuery:function d(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function v(){return this.query!==this.queryWhenFocused},getInputValue:function y(){return this.$input.val()},setInputValue:function b(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function x(){this.setInputValue(this.query)},getHint:function _(){return this.$hint.val()},setHint:function w(t){this.$hint.val(t)},clearHint:function k(){this.setHint("")},clearHintIfInvalid:function $(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function C(){return this.$input.is(":focus")},hasOverflow:function S(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,n;return t=this.$input.val().length,e=this.$input[0].selectionStart,z.isNumber(e)?e===t:!document.selection||((n=document.selection.createRange()).moveStart("character",-t),t===n.text.length)},destroy:function T(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=H("<div>")}}),n}(),_=function(){"use strict";function t(t,e){(t=t||{}).templates=t.templates||{},t.templates.notFound=t.templates.notFound||t.templates.empty,t.source||H.error("missing source"),t.node||H.error("missing node"),t.name&&!o(t.name)&&H.error("invalid dataset name: "+t.name),e.mixin(this),this.highlight=!!t.highlight,this.name=t.name||r(),this.limit=t.limit||5,this.displayFn=n(t.display||t.displayKey),this.templates=i(t.templates,this.displayFn),this.source=t.source.__ttAdapter?t.source.__ttAdapter():t.source,this.async=z.isUndefined(t.async)?2<this.source.length:!!t.async,this._resetLastSuggestion(),this.$el=H(t.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(e){function t(t){return t[e]}return e=e||z.stringify,z.isFunction(e)?e:t}function i(t,e){function n(t){return H("<div>").text(e(t))}return{notFound:t.notFound&&z.templatify(t.notFound),pending:t.pending&&z.templatify(t.pending),header:t.header&&z.templatify(t.header),footer:t.footer&&z.templatify(t.footer),suggestion:t.suggestion||n}}function o(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var a,r;return a={val:"tt-selectable-display",obj:"tt-selectable-object"},r=z.getIdGenerator(),t.extractData=function s(t){var e=H(t);return e.data(a.obj)?{val:e.data(a.val)||"",obj:e.data(a.obj)||null}:null},z.mixin(t.prototype,E,{_overwrite:function l(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function c(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function u(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function h(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function d(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function f(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function e(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function p(i,t){var o,r=this;return o=document.createDocumentFragment(),z.each(t,function s(t){var e,n;n=r._injectQuery(i,t),e=H(r.templates.suggestion(n)).data(a.obj,t).data(a.val,r.displayFn(t)).addClass(r.classes.suggestion+" "+r.classes.selectable),o.appendChild(e[0])}),this.highlight&&k({className:this.classes.highlight,node:o,pattern:i}),H(o)},_getFooter:function m(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function g(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function v(){this.$lastSuggestion=H()},_injectQuery:function y(t,e){return z.isObject(e)?z.mixin({_query:t},e):e},update:function b(e){function t(t){r||(r=!0,t=(t||[]).slice(0,i.limit),s=t.length,i._overwrite(e,t),s<i.limit&&i.async&&i.trigger("asyncRequested",e))}function n(t){t=t||[],!o&&s<i.limit&&(i.cancel=H.noop,i._append(e,t.slice(0,i.limit-s)),s+=t.length,i.async&&i.trigger("asyncReceived",e))}var i=this,o=!1,r=!1,s=0;this.cancel(),this.cancel=function a(){o=!0,i.cancel=H.noop,i.async&&i.trigger("asyncCanceled",e)},this.source(e,t,n),!r&&t([])},cancel:H.noop,clear:function x(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function _(){return this.$el.is(":empty")},destroy:function w(){this.$el=H("<div>")}}),t}(),T=function(){"use strict";function t(t,n){function e(t){var e=i.$node.find(t.node).first();return t.node=e.length?e:H("<div>").appendTo(i.$node),new _(t,n)}var i=this;(t=t||{}).node||H.error("node is required"),n.mixin(this),this.$node=H(t.node),this.query=null,this.datasets=z.map(t.datasets,e)}return z.mixin(t.prototype,E,{_onSelectableClick:function e(t){this.trigger("selectableClicked",H(t.currentTarget))},_onRendered:function o(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function n(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function i(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function r(){function t(t){return t.isEmpty()}return z.every(this.datasets,t)},_getSelectables:function s(){return this.$node.find(this.selectors.selectable)},_removeCursor:function a(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function l(t){var e,n,i,o;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),o=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(i+e):o<n&&this.$node.scrollTop(i+(n-o))},bind:function(){var t,e=this;return t=z.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),z.each(this.datasets,function(t){t.onSync("asyncRequested",e._propagate,e).onSync("asyncCanceled",e._propagate,e).onSync("asyncReceived",e._propagate,e).onSync("rendered",e._onRendered,e).onSync("cleared",e._onCleared,e)}),this},isOpen:function c(){return this.$node.hasClass(this.classes.open)},open:function u(){this.$node.scrollTop(0),this.$node.addClass(this.classes.open)},close:function h(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function d(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function f(t){var e,n,i;return n=this.getActiveSelectable(),e=this._getSelectables(),-1===(i=(i=((i=(n?e.index(n):-1)+t)+1)%(e.length+1)-1)<-1?e.length-1:i)?null:e.eq(i)},setCursor:function p(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function m(t){return t&&t.length?_.extractData(t):null},getActiveSelectable:function g(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function v(){var t=this._getSelectables().first();return t.length?t:null},update:function y(e){function t(t){t.update(e)}var n=e!==this.query;return n&&(this.query=e,z.each(this.datasets,t)),n},empty:function b(){function t(t){t.clear()}z.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function x(){function t(t){t.destroy()}this.$node.off(".tt"),this.$node=H("<div>"),z.each(this.datasets,t)}}),t}(),A=function(){"use strict";function t(){T.apply(this,[].slice.call(arguments,0))}var e=T.prototype;return z.mixin(t.prototype,T.prototype,{open:function n(){return!this._allDatasetsEmpty()&&this._show(),e.open.apply(this,[].slice.call(arguments,0))},close:function i(){return this._hide(),e.close.apply(this,[].slice.call(arguments,0))},_onRendered:function o(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function r(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function s(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),e.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function a(){this.$node.hide()},_show:function l(){this.$node.css("display","block")}}),t}(),N=function(){"use strict";function t(t,e){var n,i,o,r,s,a,l,c,u,h,d;(t=t||{}).input||H.error("missing input"),t.menu||H.error("missing menu"),t.eventBus||H.error("missing event bus"),e.mixin(this),this.eventBus=t.eventBus,this.minLength=z.isNumber(t.minLength)?t.minLength:1,this.input=t.input,this.menu=t.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),n=f(this,"activate","open","_onFocused"),i=f(this,"deactivate","_onBlurred"),o=f(this,"isActive","isOpen","_onEnterKeyed"),r=f(this,"isActive","isOpen","_onTabKeyed"),s=f(this,"isActive","_onEscKeyed"),a=f(this,"isActive","open","_onUpKeyed"),l=f(this,"isActive","open","_onDownKeyed"),c=f(this,"isActive","isOpen","_onLeftKeyed"),u=f(this,"isActive","isOpen","_onRightKeyed"),h=f(this,"_openIfActive","_onQueryChanged"),d=f(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",n,this).onSync("blurred",i,this).onSync("enterKeyed",o,this).onSync("tabKeyed",r,this).onSync("escKeyed",s,this).onSync("upKeyed",a,this).onSync("downKeyed",l,this).onSync("leftKeyed",c,this).onSync("rightKeyed",u,this).onSync("queryChanged",h,this).onSync("whitespaceChanged",d,this).onSync("langDirChanged",this._onLangDirChanged,this)}function f(n){var t=[].slice.call(arguments,1);return function(){var e=[].slice.call(arguments);z.each(t,function(t){return n[t].apply(n,e)})}}return z.mixin(t.prototype,{_hacks:function e(){var o,r;o=this.input.$input||H("<div>"),r=this.menu.$node||H("<div>"),o.on("blur.tt",function(t){var e,n,i;e=document.activeElement,n=r.is(e),i=0<r.has(e).length,z.isMsie()&&(n||i)&&(t.preventDefault(),t.stopImmediatePropagation(),z.defer(function(){o.focus()}))}),r.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function n(t,e){this.select(e)},_onDatasetCleared:function i(){this._updateHint()},_onDatasetRendered:function o(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function r(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function s(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function a(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function l(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function c(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function u(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function h(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function d(){this.close()},_onUpKeyed:function p(){this.moveCursor(-1)},_onDownKeyed:function m(){this.moveCursor(1)},_onLeftKeyed:function g(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function v(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function y(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function b(){this._updateHint()},_onLangDirChanged:function x(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function _(){this.isActive(
)&&this.open()},_minLengthMet:function w(t){return(t=z.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function k(){var t,e,n,i,o,r;t=this.menu.getTopSelectable(),e=this.menu.getSelectableData(t),n=this.input.getInputValue(),!e||z.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(i=O.normalizeQuery(n),o=z.escapeRegExChars(i),(r=new RegExp("^(?:"+o+")(.+$)","i").exec(e.val))&&this.input.setHint(n+r[1]))},isEnabled:function $(){return this.enabled},enable:function C(){this.enabled=!0},disable:function S(){this.enabled=!1},isActive:function T(){return this.active},activate:function E(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function A(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function N(){return this.menu.isOpen()},open:function j(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function D(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function P(t){this.input.setQuery(z.toStr(t))},getVal:function L(){return this.input.getQuery()},select:function I(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function M(t){var e,n;return e=this.input.getQuery(),!(!((n=this.menu.getSelectableData(t))&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function R(t){var e,n,i,o;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),o=(i=this.menu.getSelectableData(n))?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",o)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",o),!0)},destroy:function B(){this.input.destroy(),this.menu.destroy()}}),t}();!function(){"use strict";function i(t,n){t.each(function(){var t,e=H(this);(t=e.data(v.typeahead))&&n(t,e)})}function p(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(n(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function m(t,e){t.data(v.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(n){}return t}function n(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function o(n){var t,e;t=n.data(v.www),e=n.parent().filter(t.selectors.wrapper),z.each(n.data(v.attrs),function(t,e){z.isUndefined(t)?n.removeAttr(e):n.attr(e,t)}),n.removeData(v.typeahead).removeData(v.www).removeData(v.attr).removeClass(t.classes.input),e.length&&(n.detach().insertAfter(e),e.remove())}function g(t){var e;return(e=z.isJQuery(t)||z.isElement(t)?H(t).first():[]).length?e:null}var t,v,e;t=H.fn.typeahead,v={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},e={initialize:function r(h,d){function t(){var t,e,n,i,o,r,s,a,l,c,u;z.each(d,function(t){t.highlight=!!h.highlight}),t=H(this),e=H(f.html.wrapper),n=g(h.hint),i=g(h.menu),o=!1!==h.hint&&!n,r=!1!==h.menu&&!i,o&&(n=p(t,f)),r&&(i=H(f.html.menu).css(f.css.menu)),n&&n.val(""),t=m(t,f),(o||r)&&(e.css(f.css.wrapper),t.css(o?f.css.input:f.css.inputWithNoHint),t.wrap(e).parent().prepend(o?n:null).append(r?i:null)),u=r?A:T,s=new S({el:t}),a=new O({hint:n,input:t},f),l=new u({node:i,datasets:d},f),c=new N({input:a,menu:l,eventBus:s,minLength:h.minLength},f),t.data(v.www,f),t.data(v.typeahead,c)}var f;return d=z.isArray(d)?d:[].slice.call(arguments,1),f=C((h=h||{}).classNames),this.each(t)},isEnabled:function s(){var e;return i(this.first(),function(t){e=t.isEnabled()}),e},enable:function a(){return i(this,function(t){t.enable()}),this},disable:function l(){return i(this,function(t){t.disable()}),this},isActive:function c(){var e;return i(this.first(),function(t){e=t.isActive()}),e},activate:function u(){return i(this,function(t){t.activate()}),this},deactivate:function h(){return i(this,function(t){t.deactivate()}),this},isOpen:function d(){var e;return i(this.first(),function(t){e=t.isOpen()}),e},open:function f(){return i(this,function(t){t.open()}),this},close:function y(){return i(this,function(t){t.close()}),this},select:function b(t){var e=!1,n=H(t);return i(this.first(),function(t){e=t.select(n)}),e},autocomplete:function x(t){var e=!1,n=H(t);return i(this.first(),function(t){e=t.autocomplete(n)}),e},moveCursor:function _(e){var n=!1;return i(this.first(),function(t){n=t.moveCursor(e)}),n},val:function w(e){var n;return arguments.length?(i(this,function(t){t.setVal(z.toStr(e))}),this):(i(this.first(),function(t){n=t.getVal()}),n)},destroy:function k(){return i(this,function(t,e){o(e),t.destroy()}),this}},H.fn.typeahead=function(t){return e[t]?e[t].apply(this,[].slice.call(arguments,1)):e.initialize.apply(this,arguments)},H.fn.typeahead.noConflict=function $(){return H.fn.typeahead=t,this}}()}),$(".no-js").removeClass("no-js").addClass("js"),Blacklight.onLoad(function(){var t;(t=window.location.hash)&&/^#item-container-/.test(t)&&($("a[href*='"+t+"']").click(),$(t).animate({scrollTop:$(t).offset().top},500))}),Blacklight.onLoad(function(){$(window).load(function(){$("#documents div.thumbnail").find("img").each(function(){$(this);var t=$(this).get(0).naturalWidth,e=$(this).closest("div");t<2&&e.addClass("hidden")}),$("#document div.thumbnail").find("img").each(function(){$(this);var t=$(this).get(0).naturalWidth,e=$(this).closest("div");t<2&&e.addClass("hidden")})})}),Blacklight.onLoad(function(){var s=function(t){var e=window.getComputedStyle(t,null).getPropertyValue("line-height");return parseInt(e.replace(/px$/,""),10)};$(".expandable-content").each(function(){var t=$(this),e=t.parent(),n=t.height(),i=3*s(this)+2;if(!(n<=i)){var o=function(){t.addClass("contracted"),e.attr("aria-expanded","false"),t.height(i)},r=function(){t.removeClass("contracted"),e.attr("aria-expanded","true"),t.height(n)};o(),e.find(".more").on("click",r),e.find(".less").on("click",o)}})}),Blacklight.onLoad(function(){$(window).load(function(){$(".facet-checkbox-wrapper").length&&$(".facet-checkbox-wrapper").each(function(){if(facet_field=$(this).data("facet-field"),checkbox_field=$(this).data("checkbox-field"),facet_field!=undefined){$(".blacklight-"+facet_field+" .panel-heading").hide();var n=!1,i="f%5B"+facet_field+"%5D%5B%5D="+checkbox_field;-1<window.location.href.indexOf(i)?($("#checkbox_"+facet_field).attr("checked","checked"),$(".blacklight-"+facet_field).addClass("checkbox-facet"),$(".blacklight-"+facet_field).addClass("facet_limit-active checkbox-facet-checked"),n=!0):($("#checkbox_"+facet_field).removeAttr("checked","checked"),$(".blacklight-"+facet_field).addClass("checkbox-facet"),$(".blacklight-"+facet_field).removeClass("facet_limit-active checkbox-facet-checked")),$("#checkbox_"+facet_field).click(function(){var t=window.location.href.toString();if(t=t.replace(/&?page=\d+/gi,""),1==n){if(-1<window.location.href.indexOf("?"+i+"&")){i="?"+i;var e=t.replace(i,"?")}else if(-1<window.location.href.indexOf("?"+i)){i="?"+i;e=t.replace(i,"")}else{i="&"+i;e=t.replace(i,"")}window.location.href=e}else{if(-1<window.location.href.indexOf("?"))e=t+"&"+i;else e=t+"?"+i;window.location.href=e}})}})})}),Blacklight.onLoad(function(){$("a.progressive-link").hover(function(){$(this).prevAll().addBack().addClass("progressive-link-hover")},function(){$(this).prevAll().addBack().removeClass("progressive-link-hover")})}),Blacklight.onLoad(function(){$(window).load(function(){if($("body").hasClass("blacklight-catalog-index")){var t=$("#location-data").data("argon-hsl"),e=$("#location-data").data("argon-law"),n=$("#location-data").data("argon-institution"),i=$("#location-data").data("location-facet-limit");$('.facet_select:contains("'+t+'")').parent().addClass("hidden"),$('.facet_select:contains("'+e+'")').parent().addClass("hidden"),$('.facet_select:contains("'+n+'")').parent().addClass("twiddle-open"),$('.facet_select:contains("'+n+'")').parent().children("ul").css("display","block"),$("ul.facet-hierarchy > .twiddle-open > ul > li").length>parseInt(i)&&($("ul.facet-hierarchy > .twiddle-open > ul > li").slice(parseInt(i)).hide(),$("ul.facet-hierarchy > .twiddle-open > ul").append("<li class='location-more-toggle-wrapper'><a class='more_locations_link'>more <span class='sr-only'>Locations</span> \xbb</a><a class='less_locations_link' style='display: none;'>less <span class='sr-only'>Locations</span> \xbb</a></li>"),$(".more_locations_link").click(function(){$("ul.facet-hierarchy .twiddle-open > ul > li").slice(parseInt(i)).show(),$(".more_locations_link").hide(),$(".less_locations_link").show()}),$(".less_locations_link").click(function(){$("ul.facet-hierarchy .twiddle-open > ul > li").slice(parseInt(i)).hide(),$("ul.facet-hierarchy .twiddle-open > ul > li.location-more-toggle-wrapper").show(),$(".more_locations_link").show(),$(".less_locations_link").hide()}))}})}),Blacklight.onLoad(function(){var t=$(".facet_limit.blacklight-physical_media_f"),e=$(".facet_limit.blacklight-resource_type_f.facet_limit-active"),n=$(".facet_limit.blacklight-physical_media_f.facet_limit-active");e.length||n.length?t.show():t.hide()}),function(T){"use strict";function s(t){var e=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return T.each(e,function(){t=t?t.replace(this.re,this.ch):""}),t}function e(t){var r,s=arguments,a=t;[].shift.apply(s);var e=this.each(function(){var t=T(this);if(t.is("select")){var e=t.data("selectpicker"),n="object"==typeof a&&a;if(e){if(n)for(var i in n)n.hasOwnProperty(i)&&(e.options[i]=n[i])}else{var o=T.extend({},p.DEFAULTS,T.fn.selectpicker.defaults||{},t.data(),n);o.template=T.extend({},p.DEFAULTS.template,T.fn.selectpicker.defaults?T.fn.selectpicker.defaults.template:{},t.data().template,n.template),t.data("selectpicker",e=new p(this,o))}"string"==typeof a&&(r=e[a]instanceof Function?e[a].apply(e,s):e.options[a])}});return void 0!==r?r:e}var l,t,c,n,i,u,o;String.prototype.includes||(l={}.toString,t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(i){}return n}(),c="".indexOf,n=function(t,e){if(null==this)throw new TypeError;var n=String(this);if(t&&"[object RegExp]"==l.call(t))throw new TypeError;var i=n.length,o=String(t),r=o.length,s=1<arguments.length?e:undefined,a=s?Number(s):0;return a!=a&&(a=0),!(i<r+Math.min(Math.max(a,0),i))&&-1!=c.call(n,o,a)},t?t(String.prototype,"includes",{value:n,configurable:!0,writable:!0}):String.prototype.includes=n),String.prototype.startsWith||(i=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(i){}return n}(),u={}.toString,o=function(t,e){if(null==this)throw new TypeError;var n=String(this);if(t&&"[object RegExp]"==u.call(t))throw new TypeError;var i=n.length,o=String(t),r=o.length,s=1<arguments.length?e:undefined,a=s?Number(s):0;a!=a&&(a=0);var l=Math.min(Math.max(a,0),i);if(i<r+l)return!1;for(var c=-1;++c<r;)if(n.charCodeAt(l+c)!=o.charCodeAt(c))return!1;return!0},i?i(String.prototype,"startsWith",{value:o,configurable:!0,writable:!0}):String.prototype.startsWith=o),Object.keys||(Object.keys=function(t,e,n){for(e in n=[],t)n.hasOwnProperty.call(t,e)&&n.push(e);return n});var r={useDefault:!1,_set:T.valHooks.select.set};T.valHooks.select.set=function(t,e){return e&&!r.useDefault&&T(t).data("selected",!0),r._set.apply(this,arguments)};var _=null,a=function(){try{return new Event("change"),!0}catch(t){return!1}}();T.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?(a?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),n.dispatchEvent(e)):n.fireEvent?((e=document.createEventObject()).eventType=t,n.fireEvent("on"+t,e)):this.trigger(t)},T.expr.pseudos.icontains=function(t,e,n){var i=T(t).find("a");return(i.data("tokens")||i.text()).toString().toUpperCase().includes(n[3].toUpperCase())},T.expr.pseudos.ibegins=function(t,e,n){var i=T(t).find("a");return(i.data("tokens")||i.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())},T.expr.pseudos.aicontains=function(t,e,n){var i=T(t).find("a");return(i.data("tokens")||i.data("normalizedText")||i.text()).toString().toUpperCase().includes(n[3].toUpperCase())},T.expr.pseudos.aibegins=function(t,e,n){var i=T(t).find("a");return(i.data("tokens")||i.data("normalizedText")||i.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())};var h={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"},d=function(e){var n=function(t){return e[t]},t="(?:"+Object.keys(e).join("|")+")",i=RegExp(t),o=RegExp(t,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,n):t}},S=d({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),f=d(h),p=function(t,e){r.useDefault||(T.valHooks.select.set=r._set,r.useDefault=!0),this.$element=T(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=e,null===this.options.title&&(this.options.title=this.$element.attr("title"));var n=this.options.windowPadding;"number"==typeof n&&(this.options.windowPadding=[n,n,n,n]),this.val=p.prototype.val,this.render=p.prototype.render,this.refresh=p.prototype.refresh,this.setStyle=p.prototype.setStyle,this.selectAll=p.prototype.selectAll,this.deselectAll=p.prototype.deselectAll,this.destroy=p.prototype.destroy,this.remove=p.prototype.remove,this.show=p.prototype.show,this.hide=p.prototype.hide,this.init()};p.VERSION="1.12.4",p.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0},p.prototype={constructor:p,init:function(){var e=this,t=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==t&&(this.$button.attr("data-id",t),T('label[for="'+t+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid"),e.$element.on({"focus.bs.select":function(){e.$button.focus(),e.$element.off("focus.bs.select")},"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}}),e.$button.on("blur.bs.select",function(){e.$element.focus().blur(),e.$button.off("blur.bs.select")})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",e=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",i=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+S(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",r=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",s=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",a='<div class="btn-group bootstrap-select'+t+e+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+n+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+i+o+r+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+s+"</div></div>";return T(a)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul")[0].innerHTML=e,t},reloadLi:function(){var t=this.createLi();this.$menuInner[0].innerHTML=t},createLi:function(){var b=this,x=[],_=0,t=document.createElement("option"),w=-1,k=function(t,e,n,i){return"<li"+(void 0!==n&&""!==n?' class="'+n+'"':"")+(null!=e?' data-original-index="'+e+'"':"")+(null!=i?'data-optgroup="'+i+'"':"")+">"+t+"</li>"},$=function(t,e,n,i){return'<a tabindex="0"'+(void 0!==e?' class="'+e+'"':"")+(n?' style="'+n+'"':"")+(b.options.liveSearchNormalize?' data-normalized-text="'+s(S(T(t).html()))+'"':"")+(void 0!==i||null!==i?' data-tokens="'+i+'"':"")+' role="option">'+t+'<span class="'+b.options.iconBase+" "+b.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(w--,!this.$element.find(".bs-title-option").length)){var e=this.$element[0];t.className="bs-title-option",t.innerHTML=this.options.title,t.value="",e.insertBefore(t,e.firstChild),T(e.options[e.selectedIndex]).attr("selected")===undefined&&this.$element.data("selected")===undefined&&(t.selected=!0)}var C=this.$element.find("option");return C.each(function(t){var e=T(this);if(w++,!e.hasClass("bs-title-option")){var n,i=this.className||"",o=S(this.style.cssText),r=e.data("content")?e.data("content"):e.html(),s=e.data("tokens")?e.data("tokens"):null,a=void 0!==e.data("subtext")?'<small class="text-muted">'+e.data("subtext")+"</small>":"",l=void 0!==e.data("icon")?'<span class="'+b.options.iconBase+" "+e.data("icon")+'"></span> ':"",c=e.parent(),u="OPTGROUP"===c[0].tagName,h=u&&c[0].disabled,d=this.disabled||h;if(""!==l&&d&&(l="<span>"+l+"</span>"),b.options.hideDisabled&&(d&&!u||h))return n=e.data("prevHiddenIndex"),e.next().data("prevHiddenIndex",n!==undefined?n:t),void w--;if(e.data("content")||(r=l+'<span class="text">'+r+a+"</span>"),u&&!0!==e.data("divider")){if(b.options.hideDisabled&&d){if(c.data("allOptionsDisabled")===undefined){var f=c.children();c.data("allOptionsDisabled",f.filter(":disabled").length===f.length)}if(c.data("allOptionsDisabled"))return void w--}var p=" "+c[0].className||"";if(0===e.index()){_+=1;var m=c[0].label,g=void 0!==c.data("subtext")?'<small class="text-muted">'+c.data("subtext")+"</small>":"";m=(c.data("icon")?'<span class="'+b.options.iconBase+" "+c.data("icon")+'"></span> ':"")+'<span class="text">'+S(m)+g+"</span>",0!==t&&0<x.length&&(w++,x.push(k("",null,"divider",_+"div"))),w++,x.push(k(m,null,"dropdown-header"+p,_))}if(b.options.hideDisabled&&d)return void w--;x.push(k($(r,"opt "+i+p,o,s),t,"",_))}else if(!0===e.data("divider"))x.push(k("",t,"divider"));else if(!0===e.data("hidden"))n=e.data("prevHiddenIndex"),e.next().data("prevHiddenIndex",n!==undefined?n:t),x.push(k($(r,i,o,s),t,"hidden is-hidden"));else{var v=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!v&&b.options.hideDisabled&&(n=e.data("prevHiddenIndex"))!==undefined){var y=C.eq(n)[0].previousElementSibling;y&&"OPTGROUP"===y.tagName&&!y.disabled&&(v=!0)}v&&(w++,x.push(k("",null,"divider",_+"div"))),x.push(k($(r,i,o,s),t))}b.liObj[t]=w}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),x.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(t){var e,i=this,n=this.$element.find("option");!1!==t&&n.each(function(t){var e=i.findLis().eq(i.liObj[t]);i.setDisabled(t,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,e),i.setSelected(t,this.selected,e)}),this.togglePlaceholder(),this.tabIndex();var o=n.map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var t,e=T(this),n=e.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+e.data("icon")+'"></i> ':"";return t=i.options.showSubtext&&e.data("subtext")&&!i.multiple?' <small class="text-muted">'+e.data("subtext")+"</small>":"",void 0!==e.attr("title")?e.attr("title"):e.data("content")&&i.options.showContent?e.data("content").toString():n+e.html()+t}}).toArray(),r=this.multiple?o.join(this.options.multipleSeparator):o[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var s=this.options.selectedTextFormat.split(">");if(1<s.length&&o.length>s[1]||1==s.length&&2<=o.length){e=this.options.hideDisabled?", [disabled]":"";var a=n.not('[data-divider="true"], [data-hidden="true"]'+e).length;r=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(o.length,a):this.options.countSelectedText).replace("{0}",o.length.toString()).replace("{1}",a.toString())}}this.options.title==undefined&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(r=this.options.title),r||(r="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",f(T.trim(r.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(r),this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=t||this.options.style;"add"==e?this.$button.addClass(n):"remove"==e?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){var e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("ul"),o=document.createElement("li"),r=document.createElement("li"),s=document.createElement("a"),a=document.createElement("span"),l=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,c=this.options.liveSearch?document.createElement("div"):null,u=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,h=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(a.className="text",e.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu open",i.className="dropdown-menu inner",o.className="divider",a.appendChild(document.createTextNode("Inner text")),s.appendChild(a),r.appendChild(s),i.appendChild(r),i.appendChild(o),l&&n.appendChild(l),c){var d=document.createElement("input");c.className="bs-searchbox",d.className="form-control",c.appendChild(d),n.appendChild(c)}u&&n.appendChild(u),n.appendChild(i),h&&n.appendChild(h),e.appendChild(n),document.body.appendChild(e);var f=s.offsetHeight,p=l?l.offsetHeight:0,m=c?c.offsetHeight:0,g=u?u.offsetHeight:0,v=h?h.offsetHeight:0,y=T(o).outerHeight(!0),b="function"==typeof getComputedStyle&&getComputedStyle(n),x=b?null:T(n),_={vert:parseInt(b?b.paddingTop:x.css("paddingTop"))+parseInt(b?b.paddingBottom:x.css("paddingBottom"))+parseInt(b?b.borderTopWidth:x.css("borderTopWidth"))+parseInt(b?b.borderBottomWidth:x.css("borderBottomWidth")),horiz:parseInt(b?b.paddingLeft:x.css("paddingLeft"))+parseInt(b?b.paddingRight:x.css("paddingRight"))+parseInt(b?b.borderLeftWidth:x.css("borderLeftWidth"))+parseInt(b?b.borderRightWidth:x.css("borderRightWidth"))},w={vert:_.vert+parseInt(b?b.marginTop:x.css("marginTop"))+parseInt(b?b.marginBottom:x.css("marginBottom"))+2,horiz:_.horiz+parseInt(b?b.marginLeft:x.css("marginLeft"))+parseInt(b?b.marginRight:x.css("marginRight"))+2};document.body.removeChild(e),this.sizeInfo={liHeight:f,headerHeight:p,searchHeight:m,actionsHeight:g,doneButtonHeight:v,dividerHeight:y,menuPadding:_,menuExtras:w}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var r,s,a,l,c,u,h,d,f=this,p=this.$menu,m=this.$menuInner,o=T(window),g=this.$newElement[0].offsetHeight,v=this.$newElement[0].offsetWidth,y=this.sizeInfo.liHeight,b=this.sizeInfo.headerHeight,x=this.sizeInfo.searchHeight,_=this.sizeInfo.actionsHeight,w=this.sizeInfo.doneButtonHeight,t=this.sizeInfo.dividerHeight,k=this.sizeInfo.menuPadding,$=this.sizeInfo.menuExtras,e=this.options.hideDisabled?".disabled":"",C=function(){var t,e=f.$newElement.offset(),n=T(f.options.container);f.options.container&&!n.is("body")?((t=n.offset()).top+=parseInt(n.css("borderTopWidth")),t.left+=parseInt(n.css("borderLeftWidth"))):t={top:0,left:0};var i=f.options.windowPadding;c=e.top-t.top-o.scrollTop(),u=o.height()-c-g-t.top-i[2],h=e.left-t.left-o.scrollLeft(),d=o.width()-h-v-t.left-i[1],c-=i[0],h-=i[3]};if(C(),"auto"===this.options.size){var n=function(){var t,e=function(e,n){return function(t){return n?t.classList?t.classList.contains(e):T(t).hasClass(e):!(t.classList?t.classList.contains(e):T(t).hasClass(e))}},n=f.$menuInner[0].getElementsByTagName("li"),i=Array.prototype.filter?Array.prototype.filter.call(n,e("hidden",!1)):f.$lis.not(".hidden"),o=Array.prototype.filter?Array.prototype.filter.call(i,e("dropdown-header",!0)):i.filter(".dropdown-header");C(),r=u-$.vert,s=d-$.horiz,l=f.options.container?(p.data("height")||p.data("height",p.height()),a=p.data("height"),p.data("width")||p.data("width",p.width()),p.data("width")):(a=p.height(),p.width()),f.options.dropupAuto&&f.$newElement.toggleClass("dropup",u<c&&r-$.vert<a),f.$newElement.hasClass("dropup")&&(r=c-$.vert),"auto"===f.options.dropdownAlignRight&&p.toggleClass("dropdown-menu-right",d<h&&s-$.horiz<l-v),t=3<i.length+o.length?3*y+$.vert-2:0,p.css({"max-height":r+"px",overflow:"hidden","min-height":t+b+x+_+w+"px"}),m.css({"max-height":r-b-x-_-w-k.vert+"px","overflow-y":"auto","min-height":Math.max(t-k.vert,0)+"px"})};n(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",n),o.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",n)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(e).length>this.options.size){var i=this.$lis.not(".divider").not(e).children().slice(0,this.options.size).last().parent().index(),S=this.$lis.slice(0,i+1).filter(".divider").length;r=y*this.options.size+S*t+k.vert,a=f.options.container?(p.data("height")||p.data("height",p.height()),p.data("height")):p.height(),f.options.dropupAuto&&this.$newElement.toggleClass("dropup",u<c&&r-$.vert<a),p.css({"max-height":r+b+x+_+w+"px",overflow:"hidden","min-height":""}),m.css({"max-height":r-k.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var t=this.$menu.parent().clone().appendTo("body"),e=this.options.container?this.$newElement.clone().appendTo("body"):t,n=t.children(".dropdown-menu").outerWidth(),i=e.css("width","auto").children("button").outerWidth();t.remove(),e.remove(),this.$newElement.css("width",Math.max(n,i)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=T('<div class="bs-container" />');var e,n,i,o=this,r=T(this.options.container),s=function(t){o.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),r.is("body")?n={top:0,left:0}:((n=r.offset()).top+=parseInt(r.css("borderTopWidth"))-r.scrollTop(),n.left+=parseInt(r.css("borderLeftWidth"))-r.scrollLeft()),i=t.hasClass("dropup")?0:t[0].offsetHeight,o.$bsContainer.css({top:e.top-n.top+i,left:e.left-n.left,width:t[0].offsetWidth})};this.$button.on("click",function(){var t=T(this);o.isDisabled()||(s(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass("open",!t.hasClass("open")).append(o.$menu))}),T(window).on("resize scroll",function(){s(o.$newElement)}),this.$element.on("hide.bs.select",function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()})},setSelected:function(t,e,n){n||(this.togglePlaceholder(),n=this.findLis().eq(this.liObj[t])),n.toggleClass("selected",e).find("a").attr("aria-selected",e)},setDisabled:function(t,e,n){n||(n=this.findLis().eq(this.liObj[t])),e?n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element.val();this.$button.toggleClass("bs-placeholder",null===t||""===t||t.constructor===Array&&0===t.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex"
)&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var x=this,e=T(document);e.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&e.data("spaceSelect")&&(t.preventDefault(),e.data("spaceSelect",!1))}),this.$button.on("click",function(){x.setSize()}),this.$element.on("shown.bs.select",function(){if(x.options.liveSearch||x.multiple){if(!x.multiple){var t=x.liObj[x.$element[0].selectedIndex];if("number"!=typeof t||!1===x.options.size)return;var e=x.$lis.eq(t)[0].offsetTop-x.$menuInner[0].offsetTop;e=e-x.$menuInner[0].offsetHeight/2+x.sizeInfo.liHeight/2,x.$menuInner[0].scrollTop=e}}else x.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(t){var e=T(this),n=e.parent().data("originalIndex"),i=x.$element.val(),o=x.$element.prop("selectedIndex"),r=!0;if(x.multiple&&1!==x.options.maxOptions&&t.stopPropagation(),t.preventDefault(),!x.isDisabled()&&!e.parent().hasClass("disabled")){var s=x.$element.find("option"),a=s.eq(n),l=a.prop("selected"),c=a.parent("optgroup"),u=x.options.maxOptions,h=c.data("maxOptions")||!1;if(x.multiple){if(a.prop("selected",!l),x.setSelected(n,!l),e.blur(),!1!==u||!1!==h){var d=u<s.filter(":selected").length,f=h<c.find("option:selected").length;if(u&&d||h&&f)if(u&&1==u)s.prop("selected",!1),a.prop("selected",!0),x.$menuInner.find(".selected").removeClass("selected"),x.setSelected(n,!0);else if(h&&1==h){c.find("option:selected").prop("selected",!1),a.prop("selected",!0);var p=e.parent().data("optgroup");x.$menuInner.find('[data-optgroup="'+p+'"]').removeClass("selected"),x.setSelected(n,!0)}else{var m="string"==typeof x.options.maxOptionsText?[x.options.maxOptionsText,x.options.maxOptionsText]:x.options.maxOptionsText,g="function"==typeof m?m(u,h):m,v=g[0].replace("{n}",u),y=g[1].replace("{n}",h),b=T('<div class="notify"></div>');g[2]&&(v=v.replace("{var}",g[2][1<u?0:1]),y=y.replace("{var}",g[2][1<h?0:1])),a.prop("selected",!1),x.$menu.append(b),u&&d&&(b.append(T("<div>"+v+"</div>")),r=!1,x.$element.trigger("maxReached.bs.select")),h&&f&&(b.append(T("<div>"+y+"</div>")),r=!1,x.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){x.setSelected(n,!1)},10),b.delay(750).fadeOut(300,function(){T(this).remove()})}}}else s.prop("selected",!1),a.prop("selected",!0),x.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),x.setSelected(n,!0);!x.multiple||x.multiple&&1===x.options.maxOptions?x.$button.focus():x.options.liveSearch&&x.$searchbox.focus(),r&&(i!=x.$element.val()&&x.multiple||o!=x.$element.prop("selectedIndex")&&!x.multiple)&&(_=[n,a.prop("selected"),l],x.$element.triggerNative("change"))}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),x.options.liveSearch&&!T(t.target).hasClass("close")?x.$searchbox.focus():x.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),x.options.liveSearch?x.$searchbox.focus():x.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){x.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){x.options.liveSearch?x.$searchbox.focus():x.$button.focus(),t.preventDefault(),t.stopPropagation(),T(this).hasClass("bs-select-all")?x.selectAll():x.deselectAll()}),this.$element.change(function(){x.render(!1),x.$element.trigger("changed.bs.select",_),_=null})},liveSearchListener:function(){var o=this,r=T('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){o.$menuInner.find(".active").removeClass("active"),o.$searchbox.val()&&(o.$searchbox.val(""),o.$lis.not(".is-hidden").removeClass("hidden"),r.parent().length&&r.remove()),o.multiple||o.$menuInner.find(".selected").addClass("active"),setTimeout(function(){o.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(o.$lis.not(".is-hidden").removeClass("hidden"),o.$lis.filter(".active").removeClass("active"),r.remove(),o.$searchbox.val()){var t,e=o.$lis.not(".is-hidden, .divider, .dropdown-header");if((t=o.options.liveSearchNormalize?e.not(":a"+o._searchStyle()+'("'+s(o.$searchbox.val())+'")'):e.not(":"+o._searchStyle()+'("'+o.$searchbox.val()+'")')).length===e.length)r.html(o.options.noneResultsText.replace("{0}",'"'+S(o.$searchbox.val())+'"')),o.$menuInner.append(r),o.$lis.addClass("hidden");else{t.addClass("hidden");var n,i=o.$lis.not(".hidden");i.each(function(t){var e=T(this);e.hasClass("divider")?n===undefined?e.addClass("hidden"):(n&&n.addClass("hidden"),n=e):e.hasClass("dropdown-header")&&i.eq(t+1).data("optgroup")!==e.data("optgroup")?e.addClass("hidden"):n=null}),n&&n.addClass("hidden"),e.not(".hidden").first().addClass("active"),o.$menuInner.scrollTop(0)}}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(t){return void 0!==t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0),this.findLis();var e=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),i=n.length,o=[];if(t){if(n.filter(".selected").length===n.length)return}else if(0===n.filter(".selected").length)return;n.toggleClass("selected",t);for(var r=0;r<i;r++){var s=n[r].getAttribute("data-original-index");o[o.length]=e.eq(s)[0]}T(o).prop("selected",t),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click")},keydown:function(e){var t,n,i,o,r=T(this),s=(r.is("input")?r.parent().parent():r.parent()).data("this"),a=":not(.disabled, .hidden, .dropdown-header, .divider)",l={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(!(o=s.$newElement.hasClass("open"))&&(48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||65<=e.keyCode&&e.keyCode<=90))return s.options.container?s.$button.trigger("click"):(s.setSize(),s.$menu.parent().addClass("open"),o=!0),void s.$searchbox.focus();if(s.options.liveSearch&&/(^9$|27)/.test(e.keyCode.toString(10))&&o&&(e.preventDefault(),e.stopPropagation(),s.$menuInner.click(),s.$button.focus()),/(38|40)/.test(e.keyCode.toString(10))){if(!(t=s.$lis.filter(a)).length)return;n=s.options.liveSearch?t.index(t.filter(".active")):t.index(t.find("a").filter(":focus").parent()),i=s.$menuInner.data("prevIndex"),38==e.keyCode?(!s.options.liveSearch&&n!=i||-1==n||n--,n<0&&(n+=t.length)):40==e.keyCode&&((s.options.liveSearch||n==i)&&n++,n%=t.length),s.$menuInner.data("prevIndex",n),s.options.liveSearch?(e.preventDefault(),r.hasClass("dropdown-toggle")||(t.removeClass("active").eq(n).addClass("active").children("a").focus(),r.focus())):t.eq(n).children("a").focus()}else if(!r.is("input")){var c,u=[];(t=s.$lis.filter(a)).each(function(t){T.trim(T(this).children("a").text().toLowerCase()).substring(0,1)==l[e.keyCode]&&u.push(t)}),c=T(document).data("keycount"),c++,T(document).data("keycount",c),T.trim(T(":focus").text().toLowerCase()).substring(0,1)!=l[e.keyCode]?(c=1,T(document).data("keycount",c)):c>=u.length&&(T(document).data("keycount",0),c>u.length&&(c=1)),t.eq(u[c-1]).children("a").focus()}if((/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&s.options.selectOnTab)&&o){if(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),s.options.liveSearch)/(32)/.test(e.keyCode.toString(10))||(s.$menuInner.find(".active a").click(),r.focus());else{var h=T(":focus");h.click(),h.focus(),e.preventDefault(),T(document).data("spaceSelect",!0)}T(document).data("keycount",0)}(/(^9$|27)/.test(e.keyCode.toString(10))&&o&&(s.multiple||s.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!o)&&(s.$menu.parent().removeClass("open"),s.options.container&&s.$newElement.removeClass("open"),s.$button.focus())},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var m=T.fn.selectpicker;T.fn.selectpicker=e,T.fn.selectpicker.Constructor=p,T.fn.selectpicker.noConflict=function(){return T.fn.selectpicker=m,this},T(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',p.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(t){t.stopPropagation()}),T(window).on("load.bs.select.data-api",function(){T(".selectpicker").each(function(){var t=T(this);e.call(t,t.data())})})}(jQuery),function(){var t,i=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function n(t,e){this.form_field=t,this.options=null!=e?e:{},this.label_click_handler=i(this.label_click_handler,this),n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return n.prototype.set_default_values=function(){var e,n;return this.click_test_action=(e=this,function(t){return e.test_active_click(t)}),this.activate_action=(n=this,function(t){return n.activate_field(t)}),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},n.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+this.escape_html(t.group_label)+"</b>"+t.html:t.html},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(){if(this.is_multiple){if(!this.active_field)return setTimeout((t=this,function(){return t.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field();var t},n.prototype.input_blur=function(){if(!this.mouse_on_container)return this.active_field=!1,setTimeout((t=this,function(){return t.blur_test()}),100);var t},n.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},n.prototype.results_option_build=function(t){var e,n,i,o,r,s,a;for(e="",o=a=0,r=(s=this.results_data).length;o<r&&((i="")!==(i=(n=s[o]).group?this.result_add_group(n):this.result_add_option(n))&&(a++,e+=i),(null!=t?t.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(a>=this.max_shown_results));o++);return e},n.prototype.result_add_option=function(t){var e,n;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(n=document.createElement("li")).className=e.join(" "),t.style&&(n.style.cssText=t.style),n.setAttribute("data-option-array-index",t.array_index),n.innerHTML=t.highlighted_html||t.html,t.title&&(n.title=t.title),this.outerHTML(n)):""},n.prototype.result_add_group=function(t){var e,n;return(t.search_match||t.group_match)&&0<t.active_options?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(n=document.createElement("li")).className=e.join(" "),n.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(n.title=t.title),this.outerHTML(n)):""},n.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},n.prototype.reset_single_select_options=function(){var t,e,n,i,o;for(o=[],t=0,e=(n=this.results_data).length;t<e;t++)(i=n[t]).selected?o.push(i.selected=!1):o.push(void 0);return o},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(t){var e,n,i,o,r,s,a,l,c,u,h,d,f,p,m;for(this.no_results_clear(),u=0,e=(a=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=this.get_search_regex(e),i=0,o=(l=this.results_data).length;i<o;i++)(r=l[i]).search_match=!1,d=h=null,r.highlighted_html="",this.include_option_in_results(r)&&(r.group&&(r.group_match=!1,r.active_options=0),null!=r.group_array_index&&this.results_data[r.group_array_index]&&(0===(h=this.results_data[r.group_array_index]).active_options&&h.search_match&&(u+=1),h.active_options+=1),m=r.group?r.label:r.text,r.group&&!this.group_search||(d=this.search_string_match(m,c),r.search_match=null!=d,r.search_match&&!r.group&&(u+=1),r.search_match?(a.length&&(f=d.index,s=m.slice(0,f),n=m.slice(f,f+a.length),p=m.slice(f+a.length),r.highlighted_html=this.escape_html(s)+"<em>"+this.escape_html(n)+"</em>"+this.escape_html(p)),null!=h&&(h.group_match=!0)):null!=r.group_array_index&&this.results_data[r.group_array_index].search_match&&(r.search_match=!0)));return this.result_clear_highlight(),u<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),(null!=t?t.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(t){var e,n;return n=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(n="^"+n),e=this.case_sensitive_search?"":"i",new RegExp(n,e)},n.prototype.search_string_match=function(t,e){var n;return n=e.exec(t),!this.search_contains&&(null!=n?n[1]:void 0)&&(n.index+=1),n},n.prototype.choices_count=function(){var t,e,n;if(null!=this.selected_option_count)return this.selected_option_count;for(t=this.selected_option_count=0,e=(n=this.form_field.options).length;t<e;t++)n[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},n.prototype.keydown_checker=function(t){var e,n;switch(n=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==n&&this.pending_backstroke&&this.clear_backstroke(),n){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},n.prototype.keyup_checker=function(t){var e,n;switch(n=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),n){case 8:this.is_multiple&&this.backstroke_length<1&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},n.prototype.clipboard_event_checker=function(){var t;if(!this.is_disabled)return setTimeout((t=this,function(){return t.results_search()}),50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},n.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},n.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},n.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},n.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},n.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},n.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},n.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},n.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}(),window.AbstractChosen=t}.call(this),function(){var s;(s=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,n,i,o,r,s;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),s=[],n=0,i=(r=t.childNodes).length;n<i;n++)o=r[n],s.push(this.add_option(o,e,t.disabled));return s},t.prototype.add_option=function(t,e,n){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===n?n:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t}()).select_to_array=function(t){var e,n,i,o,r;for(o=new s,n=0,i=(r=t.childNodes).length;n<i;n++)e=r[n],o.add_node(e);return o.parsed},window.SelectParser=s}.call(this),function(){var a,i,n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;(a=jQuery).fn.extend({chosen:function(n){return AbstractChosen.browser_is_supported()?this.each(function(){var t,e;e=(t=a(this)).data("chosen"),"destroy"!==n?e instanceof i||t.data("chosen",new i(this,n)):e instanceof i&&e.destroy()}):this}}),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},e.prototype.set_up_html=function(){var t,e;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),e={"class":t.join(" "),title:this.form_field.title},this.form_field.id.length&&(e.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",e),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},e.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},e.prototype.register_observers=function(){var e,n,i,o,r,s,a,l,c,u,h,d,f,p,m,g,v,y,b,x,_,w,k,$;return this.container.on("touchstart.chosen",(e=this,function(t){e.container_mousedown(t)})),this.container.on("touchend.chosen",(n=this,function(t){n.container_mouseup(t)})),this.container.on("mousedown.chosen",(i=this,function(t){i.container_mousedown(t)})),this.container.on("mouseup.chosen",(o=this,function(t){o.container_mouseup(t)})),this.container.on("mouseenter.chosen",(r=this,function(t){r.mouse_enter(t)})),this.container.on("mouseleave.chosen",(s=this,function(t){s.mouse_leave(t)})),this.search_results.on("mouseup.chosen",(a=this,function(t){a.search_results_mouseup(t)})),this.search_results.on("mouseover.chosen",(l=this,function(t){l.search_results_mouseover(t)})),this.search_results.on("mouseout.chosen",(c=this,function(t){c.search_results_mouseout(t)})),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",(u=this,function(t){u.search_results_mousewheel(t)})),this.search_results.on("touchstart.chosen",(h=this,function(t){h.search_results_touchstart(t)})),this.search_results.on("touchmove.chosen",(d=this,function(t){d.search_results_touchmove(t)})),this.search_results.on("touchend.chosen",(f=this,function(t){f.search_results_touchend(t)})),this.form_field_jq.on("chosen:updated.chosen",(p=this,function(t){p.results_update_field(t)})),this.form_field_jq.on("chosen:activate.chosen",(m=this,function(t){m.activate_field(t)})),this.form_field_jq.on("chosen:open.chosen",(g=this,function(t){g.container_mousedown(t)})),this.form_field_jq.on("chosen:close.chosen",(v=this,function(t){v.close_field(t)})),this.search_field.on("blur.chosen",(y=this,function(t){y.input_blur(t)})),this.search_field.on("keyup.chosen",(b=this,function(t){b.keyup_checker(t)})),this.search_field.on("keydown.chosen",(x=this,function(t){x.keydown_checker(t)})),this.search_field.on("focus.chosen",(_=this,function(t){_.input_focus(t)})),this.search_field.on("cut.chosen",(w=this,function(t){w.clipboard_event_checker(t)})),this.search_field.on("paste.chosen",(k=this,function(t){k.clipboard_event_checker(t)})),this.is_multiple?this.search_choices.on("click.chosen",($=this,function(t){$.choices_click(t)})):this.container.on("click.chosen",function(t){t.preventDefault()})},e.prototype.destroy=function(){return a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),0<this.form_field_label.length&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},e.prototype.container_mousedown=function(t){var e;if(!this.is_disabled)return!t||"mousedown"!==(e=t.type)&&"touchstart"!==e||this.results_showing||t.preventDefault(),null!=t&&a(t.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!t||a(t.target)[0]!==this.selected_item[0]&&!a(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},e.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},e.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},e.prototype.close_field=function(){return a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},e.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(t){var e;return(e=a(t.target).closest(".chosen-container")).length&&this.container[0]===e[0]?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},e.prototype.result_do_highlight=function(t){var e,n,i,o;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),(i=parseInt(this.search_results.css("maxHeight"),10))+(o=this.search_results.scrollTop())<=(e=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<e-i?e-i:0);if(n<o)return this.search_results.scrollTop(n)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},e.prototype.update_results_content=function(t){return this.search_results.html(t)},e.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},e.prototype.set_tab_index=function(){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},e.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.on("click.chosen",this.label_click_handler)},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(t){var e;if((e=a(t.target).hasClass("active-result")?a(t.target):a(t.target).parents(".active-result").first()).length)return this.result_highlight=e,this.result_select(t),this.search_field.focus()},e.prototype.search_results_mouseover=function(t){var e;if(e=a(t.target).hasClass("active-result")?a(t.target):a(t.target).parents(".active-result").first())return this.result_do_highlight(e)},e.prototype.search_results_mouseout=function(t){if(a(t.target).hasClass("active-result")||a(t.target).parents(".active-result").first())return this.result_clear_highlight()},e.prototype.choice_build=function(t){var e,n,i;return e=a("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?e.addClass("search-choice-disabled"):((
n=a("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index})).on("click.chosen",(i=this,function(t){return i.choice_destroy_link_click(t)})),e.append(n)),this.search_container.before(e)},e.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(a(t.target))},e.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},e.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},e.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},e.prototype.result_select=function(t){var e,n;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(n=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?t.metaKey||t.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},e.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},e.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},e.prototype.get_search_field_value=function(){return this.search_field.val()},e.prototype.get_search_text=function(){return a.trim(this.get_search_field_value())},e.prototype.escape_html=function(t){return a("<div/>").text(t).html()},e.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},e.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},e.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.search_field_scale=function(){var t,e,n,i,o,r,s;if(this.is_multiple){for(o={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},e=0,n=(r=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;e<n;e++)o[i=r[e]]=this.search_field.css(i);return(t=a("<div />").css(o)).text(this.get_search_field_value()),a("body").append(t),s=t.width()+25,t.remove(),this.container.is(":visible")&&(s=Math.min(this.container.outerWidth()-10,s)),this.search_field.width(s)}},e.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},e}(AbstractChosen)}.call(this),Blacklight.onLoad(function(){$(".advanced-search-facet-select").chosen({allow_single_deselect:!0,no_results_text:"No results matched"}),resizeChosen(),jQuery(window).on("resize",resizeChosen)}),Blacklight.onLoad(function(){function t(n){if(n.length){var t=n.first().data("count-only-path"),i=n.first().text();$.get(t,function(t){var e=i+" ("+t.response.numFound.toLocaleString()+")";n.text(e)})}}t($(".blacklight-catalog-index .toggle-trln label")),t($(".blacklight-trln-index .toggle-local label"))}),Blacklight.onLoad(function(){$(window).load(function(){var t=$("#google-books").data("isbn");if(t&&0<t.length)for(i=0;i<t.length;i++)$.ajax({url:"https://www.googleapis.com/books/v1/volumes?q=isbn:"+t[i],success:function(t){0<t.totalItems&&$("#google-books-preview-image").each(function(){0==this.src.length&&($("#google-books-preview-image").attr({src:"/assets/trln_argon/google_books_preview-e736da8c6b58a58e09ffb46f85a596b70a8bacd790e4f485dbaaf486b71ae6d7.png"}),$("#google-books-preview-image").after("<a href="+t.items[0].volumeInfo.previewLink+' target="_blank"> Preview this title via Google Book Search </a>'))})}})})}),Blacklight.onLoad(function(){var t=[];$(".hathi-trust-link").each(function(){t.push($(this).data("oclc-number"))}),0!==t.length&&(t=t.join("|"),$.get("/hathitrust/"+t,function(t){$.each(t,function(t,e){e&&$(".hathi-trust-link."+t).html(e)})}))}),function(t,R,B,H){function z(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var o=t[e];o&&i.push(o)}return i}function O(t){var e=U.data(t,m);return null===e?H:e}function i(e){return function(t){return Math.round(t*e)*(1/e)}}function q(t,e){var n=t;return V.isString(t)?Q.Easings[t]||(n=!1):n=V.isArray(t)&&1===t.length?i.apply(null,t):V.isArray(t)&&2===t.length?a.apply(null,t.concat([e])):!(!V.isArray(t)||4!==t.length)&&s.apply(null,t),!1===n&&(n=Q.Easings[Q.defaults.easing]?Q.defaults.easing:r),n}function F(t){if(t)for(var e=(new Date).getTime(),n=0,i=Q.State.calls.length;n<i;n++)if(Q.State.calls[n]){var o=Q.State.calls[n],r=o[0],s=o[2],a=o[3];a||(a=Q.State.calls[n][3]=e-16);for(var l=Math.min((e-a)/s.duration,1),c=0,u=r.length;c<u;c++){var h=r[c],d=h.element;if(O(d)){var f=!1;for(var p in s.display&&"none"!==s.display&&X.setPropertyValue(d,"display",s.display),s.visibility&&"hidden"!==s.visibility&&X.setPropertyValue(d,"visibility",s.visibility),h)if("element"!==p){var m,g=h[p],v=V.isString(g.easing)?Q.Easings[g.easing]:g.easing;if(m=1===l?g.endValue:g.startValue+(g.endValue-g.startValue)*v(l),g.currentValue=m,X.Hooks.registered[p]){var y=X.Hooks.getRoot(p),b=O(d).rootPropertyValueCache[y];b&&(g.rootPropertyValue=b)}var x=X.setPropertyValue(d,p,g.currentValue+(0===parseFloat(m)?"":g.unitType),g.rootPropertyValue,g.scrollData);X.Hooks.registered[p]&&(O(d).rootPropertyValueCache[y]=X.Normalizations.registered[y]?X.Normalizations.registered[y]("extract",null,x[1]):x[1]),"transform"===x[0]&&(f=!0)}s.mobileHA&&O(d).transformCache.translate3d===H&&(O(d).transformCache.translate3d="(0px, 0px, 0px)",f=!0),f&&X.flushTransformCache(d)}}s.display&&"none"!==s.display&&(Q.State.calls[n][2].display=!1),s.visibility&&"hidden"!==s.visibility&&(Q.State.calls[n][2].visibility=!1),s.progress&&s.progress.call(o[1],o[1],l,Math.max(0,a+s.duration-e),a),1===l&&_(n)}Q.State.isTicking&&w(F)}function _(t,e){if(!Q.State.calls[t])return!1;for(var n=Q.State.calls[t][0],i=Q.State.calls[t][1],o=Q.State.calls[t][2],r=Q.State.calls[t][4],s=!1,a=0,l=n.length;a<l;a++){var c=n[a].element;if(e||o.loop||("none"===o.display&&X.setPropertyValue(c,"display",o.display),"hidden"===o.visibility&&X.setPropertyValue(c,"visibility",o.visibility)),(U.queue(c)[1]===H||!/\.velocityQueueEntryFlag/i.test(U.queue(c)[1]))&&O(c)){O(c).isAnimating=!1;var u=!(O(c).rootPropertyValueCache={});U.each(O(c).transformCache,function(t,e){var n=/^scale/.test(t)?1:0;new RegExp("^\\("+n+"[^.]").test(e)&&(u=!0,delete O(c).transformCache[t])}),o.mobileHA&&(u=!0,delete O(c).transformCache.translate3d),u&&X.flushTransformCache(c),X.Values.removeClass(c,"velocity-animating")}if(!e&&o.complete&&!o.loop&&a===l-1)try{o.complete.call(i,i)}catch(W){setTimeout(function(){throw W},1)}r&&r(i),!1!==o.queue&&U.dequeue(c,o.queue)}Q.State.calls[t]=!1;for(var h=0,d=Q.State.calls.length;h<d;h++)if(!1!==Q.State.calls[h]){s=!0;break}!1===s&&(Q.State.isTicking=!1,delete Q.State.calls,Q.State.calls=[])}var o,m="velocity",g=400,r="swing",W=function(){if(B.documentMode)return B.documentMode;for(var t=7;4<t;t--){var e=B.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return H}(),e=(o=0,R.webkitRequestAnimationFrame||R.mozRequestAnimationFrame||function(t){var e,n=(new Date).getTime();return e=Math.max(0,16-(n-o)),o=n+e,setTimeout(function(){t(n+e)},e)}),w=R.requestAnimationFrame||e,V={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==H&&(0===t.length||"object"==typeof t[0]&&0<t[0].nodeType)},isWrapped:function(t){return t&&(t.jquery||R.Zepto&&R.Zepto.zepto.isZ(t))},isSVG:function(t){return R.SVGElement&&t instanceof SVGElement}},U=R.jQuery||t.Velocity&&t.Velocity.Utilities;if(!U)throw new Error("Velocity: Either jQuery or Velocity's jQuery shim must first be loaded.");if(t.Velocity!==H&&!t.Velocity.Utilities)throw new Error("Velocity: Namespace is occupied.");if(W<=7){if(R.jQuery)return R.jQuery.fn.velocity=R.jQuery.fn.animate;throw new Error("Velocity: For IE<=7, Velocity falls back to jQuery, which must first be loaded.")}if(8===W&&!R.jQuery)throw new Error("Velocity: For IE8, Velocity requires jQuery to be loaded. (Velocity's jQuery shim does not work with IE8.)");var Q=t.Velocity=t.velocity={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:R.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:B.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:R.jQuery,Sequences:{},Easings:{},Promise:R.Promise,defaults:{queue:"",duration:g,easing:r,begin:null,complete:null,progress:null,display:null,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},animate:function(){},mock:!1,version:{major:0,minor:9,patch:0},debug:!1};R.pageYOffset!==H?(Q.State.scrollAnchor=R,Q.State.scrollPropertyLeft="pageXOffset",Q.State.scrollPropertyTop="pageYOffset"):(Q.State.scrollAnchor=B.documentElement||B.body.parentNode||B.body,Q.State.scrollPropertyLeft="scrollLeft",Q.State.scrollPropertyTop="scrollTop"),Q.State.isMobile||B.hidden===H||B.addEventListener("visibilitychange",function(){B.hidden?(w=function(t){return setTimeout(function(){t(!0)},16)},F()):w=R.requestAnimationFrame||e});var s=function(){function i(t,e){return 1-3*e+3*t}function o(t,e){return 3*e-6*t}function r(t){return 3*t}function s(t,e,n){return((i(e,n)*t+o(e,n))*t+r(e))*t}function a(t,e,n){return 3*i(e,n)*t*t+2*o(e,n)*t+r(e)}return function(o,e,r,n){function i(t){for(var e=t,n=0;n<8;++n){var i=a(e,o,r);if(0===i)return e;e-=(s(e,o,r)-t)/i}return e}if(4!==arguments.length)return!1;for(var t=0;t<4;++t)if("number"!=typeof arguments[t]||isNaN(arguments[t])||!isFinite(arguments[t]))return!1;return o=Math.min(o,1),r=Math.min(r,1),o=Math.max(o,0),r=Math.max(r,0),function(t){return o===e&&r===n?t:s(i(t),e,n)}}}(),a=function(){function l(t){return-t.tension*t.x-t.friction*t.v}function c(t,e,n){var i={x:t.x+n.dx*e,v:t.v+n.dv*e,tension:t.tension,friction:t.friction};return{dx:i.v,dv:l(i)}}function h(t,e){var n={dx:t.v,dv:l(t)},i=c(t,.5*e,n),o=c(t,.5*e,i),r=c(t,e,o),s=1/6*(n.dx+2*(i.dx+o.dx)+r.dx),a=1/6*(n.dv+2*(i.dv+o.dv)+r.dv);return t.x=t.x+s*e,t.v=t.v+a*e,t}return function d(t,e,n){var i,o,r,s={x:-1,v:0,tension:null,friction:null},a=[0],l=0,c=1e-4,u=.016;for(t=parseFloat(t)||500,e=parseFloat(e)||20,n=n||null,s.tension=t,s.friction=e,o=(i=null!==n)?(l=d(t,e))/n*u:u;r=h(r||s,o),a.push(1+r.x),l+=16,Math.abs(r.x)>c&&Math.abs(r.v)>c;);return i?function(t){return a[t*(a.length-1)|0]}:l}}();!function(){Q.Easings.linear=function(t){return t},Q.Easings.swing=function(t){return.5-Math.cos(t*Math.PI)/2},Q.Easings.spring=function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)},Q.Easings.ease=s(.25,.1,.25,1),Q.Easings["ease-in"]=s(.42,0,1,1),Q.Easings["ease-out"]=s(0,0,.58,1),Q.Easings["ease-in-out"]=s(.42,0,.58,1);var n={};U.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){n[t]=function(t){return Math.pow(t,e+2)}}),U.extend(n,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),U.each(n,function(t,e){Q.Easings["easeIn"+t]=e,Q.Easings["easeOut"+t]=function(t){return 1-e(1-t)},Q.Easings["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}})}();var X=Q.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<X.Lists.colors.length;t++)X.Hooks.templates[X.Lists.colors[t]]=["Red Green Blue Alpha","255 255 255 1"];var e,n,i;if(W)for(e in X.Hooks.templates){i=(n=X.Hooks.templates[e])[0].split(" ");var o=n[1].match(X.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),o.push(o.shift()),X.Hooks.templates[e]=[i.join(" "),o.join(" ")])}for(e in X.Hooks.templates)for(var t in i=(n=X.Hooks.templates[e])[0].split(" ")){var r=e+i[t],s=t;X.Hooks.registered[r]=[e,s]}},getRoot:function(t){var e=X.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return X.RegEx.valueUnwrap.test(e)&&(e=e.match(X.Hooks.RegEx.valueUnwrap)[1]),X.Values.isCSSNullValue(e)&&(e=X.Hooks.templates[t][1]),e},extractValue:function(t,e){var n=X.Hooks.registered[t];if(n){var i=n[0],o=n[1];return(e=X.Hooks.cleanRootPropertyValue(i,e)).toString().match(X.RegEx.valueSplit)[o]}return e},injectValue:function(t,e,n){var i=X.Hooks.registered[t];if(i){var o,r=i[0],s=i[1];return(o=(n=X.Hooks.cleanRootPropertyValue(r,n)).toString().match(X.RegEx.valueSplit))[s]=e,o.join(" ")}return n}},Normalizations:{registered:{clip:function(t,e,n){switch(t){case"name":return"clip";case"extract":var i;return i=X.RegEx.wrappedValueAlreadyExtracted.test(n)?n:(i=n.toString().match(X.RegEx.valueUnwrap))?i[1].replace(/,(\s+)?/g," "):n;case"inject":return"rect("+n+")"}},opacity:function(t,e,n){if(W<=8)switch(t){case"name":return"filter";case"extract":var i=n.toString().match(/alpha\(opacity=(.*)\)/i);return i?i[1]/100:1;case"inject":return(e.style.zoom=1)<=parseFloat(n)?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(t){case"name":return"opacity";case"extract":case"inject":return n}}},register:function(){W<=9||Q.State.isGingerbread||(X.Lists.transformsBase=X.Lists.transformsBase.concat(X.Lists.transforms3D));for(var t=0;t<X.Lists.transformsBase.length;t++)!function(){var o=X.Lists.transformsBase[t];X.Normalizations.registered[o]=function(t,e,n){switch(t){case"name":return"transform";case"extract":return O(e).transformCache[o]===H?/^scale/i.test(o)?1:0:O(e).transformCache[o].replace(/[()]/g,"");case"inject":var i=!1;switch(o.substr(0,o.length-1)){case"translate":i=!/(%|px|em|rem|vw|vh|\d)$/i.test(n);break;case"scal":case"scale":Q.State.isAndroid&&O(e).transformCache[o]===H&&n<1&&(n=1),i=!/(\d)$/i.test(n);break;case"skew":i=!/(deg|\d)$/i.test(n);break;case"rotate":i=!/(deg|\d)$/i.test(n)}return i||(O(e).transformCache[o]="("+n+")"),O(e).transformCache[o]}}}();for(t=0;t<X.Lists.colors.length;t++)!function(){var s=X.Lists.colors[t];X.Normalizations.registered[s]=function(t,e,n){switch(t){case"name":return s;case"extract":var i;if(X.RegEx.wrappedValueAlreadyExtracted.test(n))i=n;else{var o,r={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(n)?o=r[n]!==H?r[n]:r.black:X.RegEx.isHex.test(n)?o="rgb("+X.Values.hexToRgb(n).join(" ")+")":/^rgba?\(/i.test(n)||(o=r.black),i=(o||n).toString().match(X.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return W<=8||3!==i.split(" ").length||(i+=" 1"),i;case"inject":return W<=8?4===n.split(" ").length&&(n=n.split(/\s+/).slice(0,3).join(" ")):3===n.split(" ").length&&(n+=" 1"),(W<=8?"rgb":"rgba")+"("+n.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(W||Q.State.isAndroid&&!Q.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(Q.State.prefixMatches[t])return[Q.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],n=0,i=e.length;n<i;n++){var o;if(o=0===n?t:e[n]+t.replace(/^\w/,function(t){return t.toUpperCase()}),V.isString(Q.State.prefixElement.style[o]))return[Q.State.prefixMatches[t]=o,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(n,function(t,e,n,i){return e+e+n+n+i+i}),(e=i.exec(t))?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":"block"},addClass:function(t,e){t.classList?t.classList.add(e):t.className+=(t.className.length?" ":"")+e},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(t,e,n,c){function u(t,e){function n(){r&&X.setPropertyValue(t,"display","none")}var i=0;if(W<=8)i=U.css(t,e);else{var o,r=!1;if(/^(width|height)$/.test(e)&&0===X.getPropertyValue(t,"display")&&(r=!0,X.setPropertyValue(t,"display",X.Values.getDisplayType(t))),!c){if("height"===e&&"border-box"!==X.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var s=t.offsetHeight-(parseFloat(X.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(X.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(X.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(X.getPropertyValue(t,"paddingBottom"))||0);return n(),s}if("width"===e&&"border-box"!==X.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var a=t.offsetWidth-(parseFloat(X.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(X.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(X.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(X.getPropertyValue(t,"paddingRight"))||0);return n(),a}}o=O(t)===H?R.getComputedStyle(t,null):O(t).computedStyle?O(t).computedStyle:O(t).computedStyle=R.getComputedStyle(t,null),(W||Q.State.isFirefox)&&"borderColor"===e&&(e="borderTopColor"),(""===(i=9===W&&"filter"===e?o.getPropertyValue(e):o[e])||null===i)&&(i=t.style[e]),n()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(e)){var l=u(t,"position");("fixed"===l||"absolute"===l&&/top|left/i.test(e))&&(i=U(t).position()[e]+"px")}return i}var i;if(X.Hooks.registered[e]){var o=e,r=X.Hooks.getRoot(o);n===H&&(n=X.getPropertyValue(t,X.Names.prefixCheck(r)[0])),X.Normalizations.registered[r]&&(n=X.Normalizations.registered[r]("extract",t,n)),i=X.Hooks.extractValue(o,n)}else if(X.Normalizations.registered[e]){var s,a;"transform"!==(s=X.Normalizations.registered[e]("name",t))&&(a=u(t,X.Names.prefixCheck(s)[0]),X.Values.isCSSNullValue(a)&&X.Hooks.templates[e]&&(a=X.Hooks.templates[e][1])),i=X.Normalizations.registered[e]("extract",t,a)}return/^[\d-]/.test(i)||(i=O(t)&&O(t).isSVG&&X.Names.SVGAttribute(e)?/^(height|width)$/i.test(e)?t.getBBox()[e]:t.getAttribute(e):u(t,X.Names.prefixCheck(e)[0])),X.Values.isCSSNullValue(i)&&(i=0),2<=Q.debug&&console.log("Get "+e+": "+i),i},setPropertyValue:function(t,e,n,i,o){var r=e;if("scroll"===e)o.container?o.container["scroll"+o.direction]=n:"Left"===o.direction?R.scrollTo(n,o.alternateValue):R.scrollTo(o.alternateValue,n);else if(X.Normalizations.registered[e]&&"transform"===X.Normalizations.registered[e]("name",t))X.Normalizations.registered[e]("inject",t,n),r="transform",n=O(t).transformCache[e];else{if(X.Hooks.registered[e]){var s=e,a=X.Hooks.getRoot(e);i=i||X.getPropertyValue(t,a),n=X.Hooks.injectValue(s,n,i),e=a}if(X.Normalizations.registered[e]&&(n=X.Normalizations.registered[e]("inject",t,n),e=X.Normalizations.registered[e]("name",t)),r=X.Names.prefixCheck(e)[0],W<=8)try{t.style[r]=n}catch(m){Q.debug&&console.log("Browser does not support ["+n+"] for ["+r+"]")}else O(t)&&O(t).isSVG&&X.Names.SVGAttribute(e)?t.setAttribute(e,n):t.style[r]=n;2<=Q.debug&&console.log("Set "+e+" ("+r+"): "+n)}return[r,n]},flushTransformCache:function(e){function t(t){return parseFloat(X.getPropertyValue(e,t))}var n="";if((W||Q.State.isAndroid&&!Q.State.isChrome)&&O(e).isSVG){var i={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};U.each(O(e).transformCache,function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),i[t]&&(n+=t+"("+i[t].join(" ")+") ",delete i[t])})}else{var o,r;U.each(O(e).transformCache,function(t){return o=O(e).transformCache[t],"transformPerspective"===t?(r=o,!0):(9===W&&"rotateZ"===t&&(t="rotate"),void(n+=t+o+" "))}),r&&(n="perspective"+r+" "+n)}X.setPropertyValue(e,"transform",n)}};X.Hooks.register(),X.Normalizations.register(),Q.animate=function(t){function e(){return i?L.promise||null:T}function n(){function n(){function u(t,e){var n=H,i=H,o=H;return V.isArray(t)?(n=t[0],!V.isArray(t[1])&&/^[\d-]/.test(t[1])||V.isFunction(t[1])||X.RegEx.isHex.test(t[1])?o=t[1]:(V.isString(t[1])&&!X.RegEx.isHex.test(t[1])||V.isArray(t[1]))&&(i=e?t[1]:q(t[1],C.duration),t[2]!==H&&(o=t[2]))):n=t,i=i||C.easing,V.isFunction(n)&&(n=n.call($,D,j)),V.isFunction(o)&&(o=o.call($,D,j)),[n||0,i,o]}function t(t,e){var n,i;return i=(e||0).toString().toLowerCase().replace(/[%A-z]+$/,function(t){return n=t,""}),n||(n=X.Values.getUnitType(t)),[i,n]}function e(){var t={parent:$.parentNode,position:X.getPropertyValue($,"position"),fontSize:X.getPropertyValue($,"fontSize")},e=t.position===I.lastPosition&&t.parent===I.lastParent,n=t.fontSize===I.lastFontSize&&t.parent===I.lastParent;I.lastParent=t.parent,I.lastPosition=t.position,I.lastFontSize=t.fontSize,null===I.remToPx&&(I.remToPx=parseFloat(X.getPropertyValue(B.body,"fontSize"))||16),null===I.vwToPx&&(I.vwToPx=parseFloat(R.innerWidth)/100,I.vhToPx=parseFloat(R.innerHeight)/100);var i={overflowX:null,overflowY:null,boxSizing:null,width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,maxHeight:null,paddingLeft:null},o={},r=10;if(o.remToPx=I.remToPx,o.vwToPx=I.vwToPx,o.vhToPx=I.vhToPx,W&&!O($).isSVG)var s=/^auto$/i.test($.currentStyle.width),a=/^auto$/i.test($.currentStyle.height);for(var l in e&&n||(O($).isSVG||(i.overflowX=X.getPropertyValue($,"overflowX"),i.overflowY=X.getPropertyValue($,"overflowY"),i.boxSizing=X.getPropertyValue($,"boxSizing"),i.minWidth=X.getPropertyValue($,"minWidth"),i.maxWidth=X.getPropertyValue($,"maxWidth")||"none",i.minHeight=X.getPropertyValue($,"minHeight"),i.maxHeight=X.getPropertyValue($,"maxHeight")||"none",i.paddingLeft=X.getPropertyValue($,"paddingLeft")),i.width=X.getPropertyValue($,"width",null,!0),i.height=X.getPropertyValue($,"height",null,!0)),e?(o.percentToPxRatioWidth=I.lastPercentToPxWidth,o.percentToPxRatioHeight=I.lastPercentToPxHeight):(O($).isSVG||(X.setPropertyValue($,"overflowX","hidden"),X.setPropertyValue($,"overflowY","hidden"),X.setPropertyValue($,"boxSizing","content-box"),X.setPropertyValue($,"minWidth",r+"%"),X.setPropertyValue($,"maxWidth",r+"%"),X.setPropertyValue($,"minHeight",r+"%"),X.setPropertyValue($,"maxHeight",r+"%")),X.setPropertyValue($,"width",r+"%"),X.setPropertyValue($,"height",r+"%")),n?o.emToPx=I.lastEmToPx:O($).isSVG||X.setPropertyValue($,"paddingLeft",r+"em"),e||(o.percentToPxRatioWidth=I.lastPercentToPxWidth=(parseFloat(X.getPropertyValue($,"width",null,!0))||1)/r,o.percentToPxRatioHeight=I.lastPercentToPxHeight=(parseFloat(X.getPropertyValue($,"height",null,!0))||1)/r),n||(o.emToPx=I.lastEmToPx=(parseFloat(X.getPropertyValue($,"paddingLeft"))||1)/r),i)null!==i[l]&&X.setPropertyValue($,l,i[l]);return O($).isSVG||(W?(s&&X.setPropertyValue($,"width","auto"),a&&X.setPropertyValue($,"height","auto")):(X.setPropertyValue($,"height","auto"),i.height!==X.getPropertyValue($,"height",null,!0)&&X.setPropertyValue($,"height",i.height),X.setPropertyValue($,"width","auto"),i.width!==X.getPropertyValue($,"width",null,!0)&&X.setPropertyValue($,"width",i.width))),1<=Q.debug&&console.log("Unit ratios: "+JSON.stringify(o),$),o}if(C.begin&&0===D)try{C.begin.call(E,E)}catch(T){setTimeout(function(){throw T},1)}if("scroll"===P){var n,i,o,r=/^x$/i.test(C.axis)?"Left":"Top",s=parseFloat(C.offset)||0;C.container?C.container.jquery||V.isNode(C.container)?(C.container=C.container[0]||C.container,o=(n=C.container["scroll"+r])+U($).position()[r.toLowerCase()]+s):C.container=null:(n=Q.State.scrollAnchor[Q.State["scrollProperty"+r]],i=Q.State.scrollAnchor[Q.State["scrollProperty"+("Left"===r?"Top":"Left")]],o=U($).offset()[r.toLowerCase()]+s),S={scroll:{rootPropertyValue:!1,startValue:n,currentValue:n,endValue:o,unitType:"",easing:C.easing,scrollData:{container:C.container,direction:r,alternateValue:i}},element:$},Q.debug&&console.log("tweensContainer (scroll): ",S.scroll,$)}else if("reverse"===P){if(!O($).tweensContainer)return void U.dequeue($,C.queue);"none"===O($).opts.display&&(O($).opts.display="block"),"hidden"===O($).opts.visibility&&(O($).opts.visibility="visible"),O($).opts.loop=!1,O($).opts.begin=null,O($).opts.complete=null,N.easing||delete C.easing,N.duration||delete C.duration,C=U.extend({},O($).opts,C);var a=U.extend(!0,{},O($).tweensContainer);for(var l in a)if("element"!==l){var c=a[l].startValue;a[l].startValue=a[l].currentValue=a[l].endValue,a[l].endValue=c,U.isEmptyObject(N)||(a[l].easing=C.easing),Q.debug&&console.log("reverse tweensContainer ("+l+"): "+JSON.stringify(a[l]),$)}S=a}else if("start"===P){for(var h in O($).tweensContainer&&!0===O($).isAnimating&&(a=O($).tweensContainer),U.each(A,function(t,e){var n=u(e,!0),i=n[0],o=n[1],r=n[2];if(RegExp(X.Lists.colors.join("|")).test(t)&&X.RegEx.isHex.test(i)){for(var s=["Red","Green","Blue"],a=X.Values.hexToRgb(i),l=r?X.Values.hexToRgb(r):H,c=0;c<s.length;c++)A[t+s[c]]=[a[c],o,l?l[c]:l];delete A[t]}}),A){var d=u(A[h]),f=d[0],p=d[1],m=d[2];h=X.Names.camelCase(h);var g=X.Hooks.getRoot(h),v=!1;if(O($).isSVG||!1!==X.Names.prefixCheck(g)[1]||X.Normalizations.registered[g]!==H){(C.display&&"none"!==C.display||C.visibility&&"hidden"!==C.visibility)&&/opacity|filter/.test(h)&&!m&&0!==f&&(m=0),C._cacheValues&&a&&a[h]?(m===H&&(m=a[h].endValue+a[h].unitType),v=O($).rootPropertyValueCache[g]):X.Hooks.registered[h]?m===H?(v=X.getPropertyValue($,g),m=X.getPropertyValue($,h,v)):v=X.Hooks.templates[g][1]:m===H&&(m=X.getPropertyValue($,h));var y,b,x,_,w=!1;if(m=(y=t(h,m))[0],x=y[1],f=(y=t(h,f))[0].replace(/^([+-\/*])=/,function(t,e){return w=e,""}),b=y[1],m=parseFloat(m)||0,f=parseFloat(f)||0,"%"===b&&(/^(fontSize|lineHeight)$/.test(h)?(f/=100,b="em"):/^scale/.test(h)?(f/=100,b=""):/(Red|Green|Blue)$/i.test(h)&&(f=f/100*255,b="")),/[\/*]/.test(w))b=x;else if(x!==b&&0!==m)if(0===f)b=x;else{_=_||e();var k=/margin|padding|left|right|width|text|word|letter/i.test(h)||/X$/.test(h)?"x":"y";switch(x){case"%":m*="x"===k?_.percentToPxRatioWidth:_.percentToPxRatioHeight;break;case"px":break;default:m*=_[x+"ToPx"]}switch(b){case"%":m*=1/("x"===k?_.percentToPxRatioWidth:_.percentToPxRatioHeight);break;case"px":break;default:m*=1/_[b+"ToPx"]}}switch(w){case"+":f=m+f;break;case"-":f=m-f;break;case"*":f*=m;break;case"/":f=m/f}S[h]={rootPropertyValue:v,startValue:m,currentValue:m,endValue:f,unitType:b,easing:p},Q.debug&&console.log("tweensContainer ("+h+"): "+JSON.stringify(S[h]),$)}else Q.debug&&console.log("Skipping ["+g+"] due to a lack of browser support.")}S.element=$}S.element&&(X.Values.addClass($,"velocity-animating"),M.push(S),O($).tweensContainer=S,O($).opts=C,O($).isAnimating=!0,D===j-1?(1e4<Q.State.calls.length&&(Q.State.calls=z(Q.State.calls)),Q.State.calls.push([M,E,C,null,L.resolver]),!1===Q.State.isTicking&&(Q.State.isTicking=!0,F())):D++)}var $=this,C=U.extend({},Q.defaults,N),S={};if(O($)===H&&U.data($,m,{isSVG:V.isSVG($),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}}),parseFloat(C.delay)&&!1!==C.queue&&U.queue($,C.queue,function(t){Q.velocityQueueEntryFlag=!0,O($).delayTimer={setTimeout:setTimeout(t,parseFloat(C.delay)),next:t}}),!0===Q.mock)C.duration=1;else switch(C.duration.toString().toLowerCase()){case"fast":C.duration=200;break;case"normal":C.duration=g;break;case"slow":C.duration=600;break;default:C.duration=parseFloat(C.duration)||1}C.easing=q(C.easing,C.duration),C.begin&&!V.isFunction(C.begin)&&(C.begin=null),C.progress&&!V.isFunction(C.progress)&&(C.progress=null),C.complete&&!V.isFunction(C.complete)&&(C.complete=null),C.display&&(
C.display=C.display.toString().toLowerCase(),"auto"===C.display&&(C.display=Q.CSS.Values.getDisplayType($))),C.visibility&&(C.visibility=C.visibility.toString().toLowerCase()),C.mobileHA=C.mobileHA&&Q.State.isMobile&&!Q.State.isGingerbread,!1===C.queue?C.delay?setTimeout(n,C.delay):n():U.queue($,C.queue,function(t,e){return!0===e?(L.promise&&L.resolver(E),!0):(Q.velocityQueueEntryFlag=!0,void n(t))}),""!==C.queue&&"fx"!==C.queue||"inprogress"===U.queue($)[0]||U.dequeue($)}var i,T,o,E,A,N,r=t&&(U.isPlainObject(t.properties)&&!t.properties.names||V.isString(t.properties));if(V.isWrapped(this)?(i=!1,o=0,T=E=this):(i=!0,o=1,E=r?t.elements:t),E=V.isWrapped(E)?[].slice.call(E):E){N=r?(A=t.properties,t.options):(A=arguments[o],arguments[o+1]);var j=V.isArray(E)||V.isNodeList(E)?E.length:1,D=0;if("stop"!==A&&!U.isPlainObject(N)){N={};for(var s=o+1;s<arguments.length;s++)!V.isArray(arguments[s])&&/^\d/.test(arguments[s])?N.duration=parseFloat(arguments[s]):V.isString(arguments[s])||V.isArray(arguments[s])?N.easing=arguments[s]:V.isFunction(arguments[s])&&(N.complete=arguments[s])}var P,L={promise:null,resolver:null,rejecter:null};switch(i&&Q.Promise&&(L.promise=new Q.Promise(function(t,e){L.resolver=t,L.rejecter=e})),A){case"scroll":P="scroll";break;case"reverse":P="reverse";break;case"stop":U.each(V.isNode(E)?[E]:E,function(t,e){O(e)&&O(e).delayTimer&&(clearTimeout(O(e).delayTimer.setTimeout),O(e).delayTimer.next&&O(e).delayTimer.next(),delete O(e).delayTimer)});var a=[];return U.each(Q.State.calls,function(o,t){!1!==t&&U.each(V.isNode(t[1])?[t[1]]:t[1],function(t,i){U.each(V.isNode(E)?[E]:E,function(t,e){if(e===i){if(O(e)&&U.each(O(e).tweensContainer,function(t,e){e.endValue=e.currentValue}),!0===N||V.isString(N)){var n=V.isString(N)?N:"";U.each(U.queue(e,n),function(t,e){V.isFunction(e)&&e(null,!0)}),U.queue(e,n,[])}a.push(o)}})})}),U.each(a,function(t,e){_(e,!0)}),L.promise&&L.resolver(E),e();default:if(!U.isPlainObject(A)||U.isEmptyObject(A)){if(V.isString(A)&&Q.Sequences[A]){var l=N.duration,c=N.delay||0;return!0===N.backwards&&(E=(E.jquery?[].slice.call(E):E).reverse()),U.each(E,function(t,e){parseFloat(N.stagger)?N.delay=c+parseFloat(N.stagger)*t:V.isFunction(N.stagger)&&(N.delay=c+N.stagger.call(e,t,j)),N.drag&&(N.duration=parseFloat(l)||(/^(callout|transition)/.test(A)?1e3:g),N.duration=Math.max(N.duration*(N.backwards?1-t/j:(t+1)/j),.75*N.duration,200)),Q.Sequences[A].call(e,e,N||{},t,j,E,L.promise?L:H)}),e()}var u="Velocity: First argument ("+A+") was not a property map, a known action, or a registered sequence. Aborting.";return L.promise?L.rejecter(new Error(u)):console.log(u),e()}P="start"}var I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},M=[];U.each(V.isNode(E)?[E]:E,function(t,e){V.isNode(e)&&n.call(e)});var h,d=U.extend({},Q.defaults,N);if(d.loop=parseInt(d.loop),h=2*d.loop-1,d.loop)for(var f=0;f<h;f++){var p={delay:d.delay};d.complete&&f===h-1&&(p.complete=d.complete),Q.animate(E,"reverse",p)}return e()}};var n=R.jQuery||R.Zepto;n&&(n.fn.velocity=Q.animate,n.fn.velocity.defaults=Q.defaults),"undefined"!=typeof define&&define.amd?define(function(){return Q}):"undefined"!=typeof module&&module.exports&&(module.exports=Q),U.each(["Down","Up"],function(t,l){Q.Sequences["slide"+l]=function(i,t){var e=U.extend({},t),o={height:null,marginTop:null,marginBottom:null,paddingTop:null,paddingBottom:null,overflow:null,overflowX:null,overflowY:null},r=e.begin,s=e.complete,a=!1;null!==e.display&&(e.display="Down"===l?e.display||"auto":e.display||"none"),e.begin=function(){function t(){o.height=parseFloat(Q.CSS.getPropertyValue(i,"height")),i.style.height="auto",parseFloat(Q.CSS.getPropertyValue(i,"height"))===o.height&&(a=!0),Q.CSS.setPropertyValue(i,"height",o.height+"px")}if("Down"===l){for(var e in o.overflow=[Q.CSS.getPropertyValue(i,"overflow"),0],o.overflowX=[Q.CSS.getPropertyValue(i,"overflowX"),0],o.overflowY=[Q.CSS.getPropertyValue(i,"overflowY"),0],i.style.overflow="hidden",i.style.overflowX="visible",i.style.overflowY="hidden",t(),o)if(!/^overflow/.test(e)){var n=Q.CSS.getPropertyValue(i,e);"height"===e&&(n=parseFloat(n)),o[e]=[n,0]}}else{for(var e in t(),o){n=Q.CSS.getPropertyValue(i,e);"height"===e&&(n=parseFloat(n)),o[e]=[0,n]}i.style.overflow="hidden",i.style.overflowX="visible",i.style.overflowY="hidden"}r&&r.call(i,i)},e.complete=function(t){var e="Down"===l?0:1;for(var n in!0===a?o.height[e]="auto":o.height[e]+="px",o)t.style[n]=o[n][e];s&&s.call(t,t)},Q.animate(i,o,e)}}),U.each(["In","Out"],function(t,s){Q.Sequences["fade"+s]=function(t,e,n,i){var o=U.extend({},e),r={opacity:"In"===s?1:0};n!==i-1&&(o.complete=o.begin=null),null!==o.display&&(o.display=o.display||("In"===s?"auto":"none")),Q.animate(this,r,o)}})}(window.jQuery||window.Zepto||window,window,document),Blacklight.onLoad(function(){Blacklight.do_hierarchical_facet_expand_contract_behavior()}),function(e){Blacklight.do_hierarchical_facet_expand_contract_behavior=function(){e(Blacklight.do_hierarchical_facet_expand_contract_behavior.selector).each(Blacklight.hierarchical_facet_expand_contract)},Blacklight.do_hierarchical_facet_expand_contract_behavior.selector="li.h-node",Blacklight.hierarchical_facet_expand_contract=function(){var t=e(this);e("ul",this).each(function(){t.addClass("twiddle"),0==e("span.selected",this).length?e(this).hide():t.addClass("twiddle-open")}),t.click(function(t){t.target==this&&(e(this).toggleClass("twiddle-open"),e(this).children("ul").slideToggle())})}}(jQuery),function(){(function(){(function(){var e=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},createConsumer:function(t){var e;return null==t&&(t=null!=(e=this.getConfig("url"))?e:this.INTERNAL.default_mount_path),new l.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t;if(t=1<=arguments.length?e.call(arguments,0):[],this.debugging)return t.push(Date.now()),console.log.apply(console,["[ActionCable]"].concat(e.call(t)))}}}).call(this)}).call(this);var l=this.ActionCable;(function(){(function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};l.ConnectionMonitor=function(){function t(t){this.connection=t,this.visibilityDidChange=i(this.visibilityDidChange,this),this.reconnectAttempts=0}var o,e,n;return t.pollInterval={min:3,max:30},t.staleThreshold=6,t.prototype.start=function(){if(!this.isRunning())return this.startedAt=e(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),l.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},t.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=e(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),l.log("ConnectionMonitor stopped")},t.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},t.prototype.recordPing=function(){return this.pingedAt=e()},t.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,l.log("ConnectionMonitor recorded connect")},t.prototype.recordDisconnect=function(){return this.disconnectedAt=e(),l.log("ConnectionMonitor recorded disconnect")},t.prototype.startPolling=function(){return this.stopPolling(),this.poll()},t.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},t.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},t.prototype.getPollInterval=function(){var t,e,n,i;return n=(i=this.constructor.pollInterval).min,e=i.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*o(t,n,e))},t.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return l.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+n(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?l.log("ConnectionMonitor skipping reopening recent disconnect"):(l.log("ConnectionMonitor reopening"),this.connection.reopen())},t.prototype.connectionIsStale=function(){var t;return n(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},t.prototype.disconnectedRecently=function(){return this.disconnectedAt&&n(this.disconnectedAt)<this.constructor.staleThreshold},t.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return l.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},e=function(){return(new Date).getTime()},n=function(t){return(e()-t)/1e3},o=function(t,e,n){return Math.max(e,Math.min(n,t))},t}()}).call(this),function(){var t,o,e,n,i,r=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n=l.INTERNAL,o=n.message_types,e=n.protocols,i=2<=e.length?r.call(e,0,t=e.length-1):(t=0,[]),e[t++],l.Connection=function(){function t(t){this.consumer=t,this.open=s(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new l.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){if(this.isActive())throw l.log("Attempted to open WebSocket, but existing socket is "+this.getState()),new Error("Existing connection must be closed before opening");return l.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+e),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new WebSocket(this.consumer.url,e),this.installEventHandlers(),this.monitor.start(),!0},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(l.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){return t=e,l.log("Failed to reopen WebSocket",t)}finally{l.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),0<=a.call(i,t)},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?r.call(arguments,0):[],t=this.getState(),0<=a.call(e,t)},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,n,i;if(this.isProtocolSupported())switch(e=(i=JSON.parse(t.data)).identifier,n=i.message,i.type){case o.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case o.ping:return this.monitor.recordPing();case o.confirmation:return this.subscriptions.notify(e,"connected");case o.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",n)}},open:function(){if(l.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return l.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(l.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return l.log("WebSocket onerror event")}},t}()}.call(this),function(){var c=[].slice;l.Subscriptions=function(){function t(t){this.consumer=t,this.subscriptions=[]}return t.prototype.create=function(t,e){var n,i,o;return i="object"==typeof(n=t)?n:{channel:n},o=new l.Subscription(this.consumer,i,e),this.add(o)},t.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},t.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},t.prototype.reject=function(t){var e,n,i,o,r;for(o=[],e=0,n=(i=this.findAll(t)).length;e<n;e++)r=i[e],this.forget(r),this.notify(r,"rejected"),o.push(r);return o},t.prototype.forget=function(o){var r;return this.subscriptions=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)(r=n[t])!==o&&i.push(r);return i}.call(this),o},t.prototype.findAll=function(t){var e,n,i,o,r;for(o=[],e=0,n=(i=this.subscriptions).length;e<n;e++)(r=i[e]).identifier===t&&o.push(r);return o},t.prototype.reload=function(){var t,e,n,i,o;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)o=n[t],i.push(this.sendCommand(o,"subscribe"));return i},t.prototype.notifyAll=function(t){var e,n,i,o,r,s,a;for(n=t,e=2<=arguments.length?c.call(arguments,1):[],s=[],i=0,o=(r=this.subscriptions).length;i<o;i++)a=r[i],s.push(this.notify.apply(this,[a,n].concat(c.call(e))));return s},t.prototype.notify=function(t,e){var n,i,o,r,s,a,l;for(a=t,i=e,n=3<=arguments.length?c.call(arguments,2):[],s=[],o=0,r=(l="string"==typeof a?this.findAll(a):[a]).length;o<r;o++)a=l[o],s.push("function"==typeof a[i]?a[i].apply(a,n):void 0);return s},t.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},t}()}.call(this),function(){l.Subscription=function(){function t(t,e,n){this.consumer=t,null==e&&(e={}),this.identifier=JSON.stringify(e),i(this,n)}var i;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},i=function(t,e){var n,i;if(null!=e)for(n in e)i=e[n],t[n]=i;return t},t}()}.call(this),function(){l.Consumer=function(){function t(t){this.url=t,this.subscriptions=new l.Subscriptions(this),this.connection=new l.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=l:"function"==typeof define&&define.amd&&define(l)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),$(document).ready(function(){function i(t){return t.replace(/(:|\.|\[|\]|,|=|@|\/|\&|\$|\%|\+)/g,"\\$1")}function e(t){var e="https://requests.library.duke.edu/circstatus/",n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(this.responseText);$.each(t,function(t,e){var n=$("#item-"+i(t)+" dl dd span");if(""==n.text())return!0;switch(n.text().trim()!==e.label.trim()&&n.velocity("fadeOut",{duration:500,complete:function(){n.text(e.label)}}).velocity("fadeIn",{delay:250,duration:500}),e.available){case"yes":"item-available"!=n.attr("class").trim()&&n.attr("class","item-available");break;case"no":"item-not-available"!=n.attr("class").trim()&&n.attr("class","item-not-available");break;case"other":"item-availability-misc"!=n.attr("class").trim()&&n.attr("class","item-availability-misc")}})}},n.open("GET",e+t,!0),n.send()}if($("a#full-menu-toggle").on("click",function(){$(this).toggleClass("menu-active"),$("#dul-masthead-region-megamenu").slideToggle()}),$(".barcode-content").each(function(){var t=$(this).parents(".item").data("item-barcode");t?$(this).text(t):$(this).text("no barcode")}),$(".barcode-toggle").on("click",function(t){t.preventDefault(),$(this).toggleClass("shown"),$(".barcode-wrapper").toggle()}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(document).on("click",".request-from-trln",function(){var t=$(this).data("illiad-params");$("#choose-your-illiad a").each(function(){new_href=$(this).data("base-url")+"?"+t,$(this).attr("href",new_href)})}),$("body").hasClass("blacklight-catalog-show")){var t=$("#document div:first-child").attr("id").replace(/\D/g,"");0<$(".status-label").length&&e(t)}$("body").hasClass("blacklight-catalog-index")&&$(".document").each(function(){var t=$(this).find("h3.index_title a").attr("href").replace(/\D/g,"");0<$(this).find(".status-label").length&&e(t)})}),Blacklight.onLoad(function(){$(window).load(function(){$(".document").each(function(){var t=$(this).has("div.index-document-functions").length,e=$(this).children("div").find("img").get(0).naturalWidth;t&&2<e&&$(this).children(".documentHeader").addClass("has-request-and-thumbnail"),t&&e<2&&$(this).children(".documentHeader").addClass("has-request"),!t&&2<e&&$(this).children(".documentHeader").addClass("has-thumbnail")})})}),$(document).ready(function(){$(".color-swatch").each(function(){var t=$(this).find(".color-block").css("background-color"),e=t.split(" ").join(""),n=/^rgb\((\d+),(\d+),(\d+)\)$/g.exec(e),i=n[1],o=n[2],r=n[3],s=contrast([255,255,255],[i,o,r]),a=contrast([i,o,r],[0,0,0]),l=Math.round(10*s)/10,c=Math.round(10*a)/10;$(this).find(".color-block").text(rgb2hex(t)),$(this).find(".contrast-score-black").text(c),$(this).find(".contrast-score-white").text(l),c<l&&$(this).find(".color-block").css("color","white"),4.5<=l?$(this).find(".contrast-score-white").addClass("contrast-score-pass"):3<=l&&l<4.5?$(this).find(".contrast-score-white").addClass("contrast-score-warn"):$(this).find(".contrast-score-white").addClass("contrast-score-fail"),4.5<=c?$(this).find(".contrast-score-black").addClass("contrast-score-pass"):3<=c&&c<4.5?$(this).find(".contrast-score-black").addClass("contrast-score-warn"):$(this).find(".contrast-score-black").addClass("contrast-score-fail")}),$("#styleguide-body-font").text($("body").css("font-family")),$("#styleguide-body-size").text($("body").css("font-size")),$("#styleguide-body-color").text(rgb2hex($("body").css("color"))),$("#styleguide-body-lineheight").text($("body").css("line-height"))});var eventTracking=function(){function t(){$("#search-navbar .navbar-dul a").on("click contextmenu",function(){$(this);var t={category:"masthead",action:"branding",label:"DUL logo",custom_dimensions:{}};o(t)}),$("#search-navbar .navbar-product-name a").on("click contextmenu",function(){$(this);var t={category:"masthead",action:"branding",label:"catalog home",custom_dimensions:{}};o(t)}),$("#search-navbar form.search-query-form").on("submit",function(){$(this);var t={category:"search box",action:"submit search box"};t.label=$("input#q").val(),t.custom_dimensions={},o(t)}),$(document).on("click contextmenu","#search-navbar .tt-menu p.tt-suggestion",function(){$(this);var t={category:"search box",action:"typeahead suggestion"};t.label="suggested "+$(this).find(".tt-category").text()+" click",t.custom_dimensions={},o(t)}),$(document).on("click contextmenu","#search-navbar form.search-query-form button.search-select",function(){$(this);var t={category:"search box",action:"search scope selector",label:"search scope dropdown click",custom_dimensions:{}};o(t)}),$(document).on("click contextmenu","#search-navbar form.search-query-form ul.dropdown-menu a",function(){var t=$(this),e={category:"search box",action:"search scope selector"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#search-navbar form.search-query-form input#q").on("click contextmenu",function(){$(this);var t={category:"search box",action:"basic search",label:"keyword search field click",custom_dimensions:{}};o(t)}),$("#search-navbar form.search-query-form .search-extra-controls a").on("click contextmenu",function(){var t=$(this),e={category:"search box",action:"extra controls"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#search-navbar #primary-menu a").on("click contextmenu",function(){var t=$(this),e={category:"masthead",action:"primary menu"};e.label=i(t),e.custom_dimensions={},o(e)}),$(document).on("click contextmenu","#dul-masthead-row a",function(){var t=$(this),e={category:"masthead",action:"shared DUL menu"};e.label=i(t),e.custom_dimensions={},o(e)}),$("footer a").on("click contextmenu",function(){var t=$(this),e={category:"footer",action:"footer links"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#appliedParams a").on("click contextmenu",function(){var t=$(this),e={category:"search results",action:"search revision"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#toggle-local-btn-top").on("click contextmenu",function(){$(this);var t={category:"search results",action:"toggle Duke or TRLN",label:"toggle to Duke (top)",custom_dimensions:{}};o(t)}),$("#toggle-trln-btn-top").on("click contextmenu",function(){$(this);var t={category:"search results",action:"toggle Duke or TRLN",label:"toggle to TRLN (top)",custom_dimensions:{}};o(t)}),$("#toggle-local-btn-bottom").on("click contextmenu",function(){$(this);var t={category:"search results",action:"toggle Duke or TRLN",label:"toggle to Duke (bottom)",custom_dimensions:{}};o(t)}),$("#toggle-trln-btn-bottom").on("click contextmenu",function(){$(this);var t={category:"search results",action:"toggle Duke or TRLN",label:"toggle to TRLN (bottom)",custom_dimensions:{}};o(t)}),$("#documents.documents-list .document .index_title a").on("click contextmenu",function(){$(this);var t={category:"search results",action:"search result title"};t.label=$(this).attr("href"),t.custom_dimensions={},o(t)}),$("#documents.documents-list .document .primary-url a").on("click contextmenu",function(){$(this);var t={category:"search results",action:"view online"};t.label=$(this).data("original-title")||$(this).text(),t.custom_dimensions={},o(t)}),$("#documents.documents-list .document .map-info a").on("click contextmenu",function(){$(this);var t={category:"search results",action:"map/info link"};t.label=$(this).parent().prev(".call-number").text(),t.custom_dimensions={},o(t)}),$("#documents.documents-list .document .items-toggle a.expander").on("click contextmenu",function(){var t=$(this),e={category:"search results",action:"show/hide more items"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#documents.documents-list .document .index-document-functions a.request-from-duke").on("click contextmenu",function(){$(this);var t={category:"search results",action:"item tools",label:"Request (Duke)",custom_dimensions:{}};o(t)}),$("#documents.documents-list .document .index-document-functions a.request-from-trln").on("click contextmenu",function(){$(this);var t={category:"search results",action:"item tools",label:"Request (TRLN)",custom_dimensions:{}};o(t)}),$("#trln-request-modal a").on("click contextmenu",function(){var t=$(this),e={category:"TRLN request",action:"choose home library"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#sortAndPerPage #sort-dropdown a, #sortAndPerPage #sort-dropdown button").on("click contextmenu",function(){var t=$(this),e={category:"search results",action:"sort by"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#sortAndPerPage #per_page-dropdown a, #sortAndPerPage #per_page-dropdown button").on("click contextmenu",function(){var t=$(this),e={category:"search results",action:"per page"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#sortAndPerPage .page_links a").on("click contextmenu",function(){var t=$(this),e={category:"search results",action:"pagination top"};e.label=i(t),e.custom_dimensions={},o(e)}),$("body.blacklight-catalog-index .pagination ul.pagination a, body.blacklight-trln-index .pagination ul.pagination a").on("click contextmenu",function(){var t=$(this),e={category:"search results",action:"pagination bottom"};e.label=i(t),e.custom_dimensions={},o(e)}),$(".no-results .view_trln_results a").on("click contextmenu",function(){var t=$(this),e={category:"no results",action:"trln results button"};e.label=i(t),e.custom_dimensions={},o(e)}),$(".no-results a:not(.view_trln_results a)").on("click contextmenu",function(){var t=$(this),e={category:"no results",action:"other links"};e.label=i(t),e.custom_dimensions={},o(e)}),$("body.blacklight-advanced-index form.advanced").on("submit",function(){$(this);var t={category:"advanced search form",action:"submit advanced search"};t.label=$("form.advanced :input").serialize(),t.custom_dimensions={},o(t)}),$("body.blacklight-advanced-index form.advanced .advanced-search-start-over").on("click contextmenu",function(){var t=$(this),e={category:"advanced search form",action:"advanced search options"};e.label=i(t),e.custom_dimensions={},o(e)}),$("body.blacklight-advanced-index form.advanced select#op").on("click contextmenu",function(){$(this);var t={category:"advanced search form",action:"advanced search options",label:"all/any toggle",custom_dimensions:{}};o(t)}),$("body.blacklight-advanced-index form.advanced select#sort").on("click contextmenu",function(){$(this);var t={category:"advanced search form",action:"advanced search options",label:"sort results by...",custom_dimensions:{}};o(t)}),$("div.facet_limit div.panel-heading").on("click contextmenu",function(){var t=$(this).find("a").first(),e={category:"facets"};e.action=$(this).attr("data-target").substring(1),e.label=i(t)+($(this).hasClass("collapsed")?" [expand]":" [collapse]"),e.custom_dimensions={},o(e)}),$("div.facet_limit ul.facet-values a").on("click contextmenu",function(){var t=$(this),e={category:"facets"};e.action=n(t),e.label=i(t),e.custom_dimensions={},o(e)}),$(document).on("click contextmenu","#ajax-modal.facet-browse a",function(){var t=$(this),e={category:"facets"};e.action=n(t),e.label=i(t),e.custom_dimensions={},o(e)}),$(document).on("click contextmenu","#facets .facet-hierarchy a.facet_select",function(){var t=$(this),e={category:"facets"};e.action=n(t),e.label=i(t),e.custom_dimensions={},o(e)}),$(document).on("click contextmenu","#facet-access_type_f #checkbox_access_type_f",function(){$(this);var t={category:"facets",action:"facet-access_type_f"};t.label="Available Online"+($(this).is(":checked")?" [check]":" [uncheck]"),t.custom_dimensions={},o(t)}),$(document).on("click contextmenu","#facet-publication_year_isort input#range_publication_year_isort_begin",function(){$(this);var t={category:"facets",action:"facet-publication_year_isort",label:"year range begin",custom_dimensions:{}};o(t)}),$(document).on("click contextmenu","#facet-publication_year_isort input#range_publication_year_isort_end",function(){$(this);var t={category:"facets",action:"facet-publication_year_isort",label:"year range end",custom_dimensions:{}};o(t)}),$(document).on("click contextmenu","#facet-publication_year_isort div.slider-track",function(){$(this);var t={category:"facets",action:"facet-publication_year_isort",label:"year range slider",custom_dimensions:{}};o(t)}),$(document).on("click contextmenu","#facet-publication_year_isort div.chart_js",function(){$(this);var t={category:"facets",action:"facet-publication_year_isort",label:"year range histogram",custom_dimensions:{}};o(t)}),$(document).on("submit","#facet-publication_year_isort form",function(){$(this);var t={category:"facets",action:"facet-publication_year_isort",label:"year range submit limit",custom_dimensions:{}};o(t)}),$("#previousNextDocument a").on("click contextmenu",function(){var t=$(this),e={category:"item page",action:"item to results nav"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#document-tools a").on("click contextmenu",function(){var t=$(this),e={category:"item page",action:"item tools"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#document .map-info a").on("click contextmenu",function(){$(this);var t={category:"item page",action:"map/info link"};t.label=$(this).parent().prev(".call-number").text(),t.custom_dimensions={},o(t)}),$("#document .primary-url a").on("click contextmenu",function(){$(this);var t={category:"item page",action:"view online"};t.label=$(this).data("original-title")||$(this).text(),t.custom_dimensions={},o(t)}),$("#document .items-toggle a.expander").on("click contextmenu",function(){var t=$(this),e={category:"item page",action:"show/hide more items"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#document a.barcode-toggle").on("click contextmenu",function(){var t=$(this),e={category:"item page",action:"staff view link"};e.label="staff view"+(t.is(".shown")?" [show]":" [hide]"),e.custom_dimensions={},o(e)}),$("#document #authors a").on("click contextmenu",function(){var t=$(this),e={category:"item page",action:"author link"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#document #enhanced-data a").on("click contextmenu",function(){var t=$(this),e={category:"item page",action:"enhanced data link"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#document #subjects a").on("click contextmenu",function(){var t=$(this),e={category:"item page",action:"subject link"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#document #other-details a").on("click contextmenu",function(){var t=$(this),e={category:"item page",action:"other details link"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#document #included-works a").on("click contextmenu",function(){var t=$(this),e={category:"item page",action:"included works link"};e.label=i(t),e.custom_dimensions={},o(e)}),$("#document #related-works a").on("click contextmenu",function(){var t=$(this),e={category:"item page",action:"related works link"};e.label=i(t),e.custom_dimensions={},o(e)}),$(".home-welcome-links a").on("click contextmenu",function(){var t=$(this),e={category:"homepage",action:"welcome help link"};e.label=i(t),e.custom_dimensions={},o(e)}),$(".home-other-resources a").on("click contextmenu",function(){var t=$(this),e={category:"homepage",action:"other resource link"};e.label=i(t),e.custom_dimensions={},o(e)}),$(".error-recovery-links a").on("click contextmenu",function(){var t=$(this),e={category:"error page",action:"welcome help link"};e.label=i(t),e.custom_dimensions={},o(e)})}function n(t){return t.data(r.actionDataAttribute)?t.data(r.actionDataAttribute):t.closest("[id]").attr("id")?t.closest("[id]").attr("id"):"top-level"}function i(t){var e;return t.data(r.labelDataAttribute)?e=t.data(r.labelDataAttribute):t.is("[data-toggle=dropdown]")?e="dropdown"+("true"==t.attr("aria-expanded")?" [collapse]":" [expand]"):t.is("a")?e=$.trim(t.text())||t.children("img:first").attr("alt")||t.attr("title"):t.is("button")?(e=t.attr("aria-label")||t.attr("title")||$.trim(t.text()),t.is("[data-toggle=collapse]")&&(e+="true"==t.attr("aria-expanded")?" [collapse]":" [expand]")):e=t.is("input")?t.attr("name")||t.attr("value")||t.attr("placeholder"):"no label",e}function o(t){e(t),console.log("GA Event Track",[t.category,t.action,t.label])}function e(t){gtag("event",t.action,{event_category:t.category,event_label:t.label})}var r={categoryDataAttribute:"ga-category",actionDataAttribute:"ga-action",labelDataAttribute:"ga-label"};return{listenForClicks:t}}();$(document).ready(function(){eventTracking.listenForClicks(),$(document).on("click","ul.facet-values a, .facet_pagination a.more_facets_link",function(){var t=$(this);$("#ajax-modal").addClass("facet-browse"),$("#ajax-modal .modal-dialog").first().attr("id",t.closest("[id]").attr("id"))})}),function(r){r.color={},r.color.make=function(t,e,n,i){var o={};return o.r=t||0,o.g=e||0,o.b=n||0,o.a=null!=i?i:1,o.add=function(t,e){for(var n=0;n<t.length;++n)o[t.charAt(n)]+=e
;return o.normalize()},o.scale=function(t,e){for(var n=0;n<t.length;++n)o[t.charAt(n)]*=e;return o.normalize()},o.toString=function(){return 1<=o.a?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function t(t,e,n){return e<t?t:n<e?n:e}return o.r=t(0,parseInt(o.r),255),o.g=t(0,parseInt(o.g),255),o.b=t(0,parseInt(o.b),255),o.a=t(0,o.a,1),o},o.clone=function(){return r.color.make(o.r,o.b,o.g,o.a)},o.normalize()},r.color.extract=function(t,e){var n;do{if(""!=(n=t.css(e).toLowerCase())&&"transparent"!=n)break;t=t.parent()}while(t.length&&!r.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),r.color.parse(n)},r.color.parse=function(t){var e,n=r.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return n(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10));if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return n(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]));if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return n(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]));if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return n(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4]));if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return n(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16));if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return n(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16));var i=r.trim(t).toLowerCase();return"transparent"==i?n(255,255,255,0):n((e=o[i]||[0,0,0])[0],e[1],e[2])};var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(gt){function vt(t,e){var n=e.children("."+t)[0];if(null==n&&((n=document.createElement("canvas")).className=t,gt(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(e),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var i=this.context=n.getContext("2d"),o=window.devicePixelRatio||1,r=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;this.pixelRatio=o/r,this.resize(e.width(),e.height()),this.textContainer=null,this.text={},this._textCache={}}function i(g,t,e,i){function $(t,e){e=[ft].concat(e);for(var n=0;n<t.length;++n)t[n].apply(this,e)}function n(){for(var t={Canvas:vt},e=0;e<i.length;++e){var n=i[e];n.init(ft,t),n.options&&gt.extend(!0,et,n.options)}}function o(t){gt.extend(!0,et,t),t&&t.colors&&(et.colors=t.colors),null==et.xaxis.color&&(et.xaxis.color=gt.color.parse(et.grid.color).scale("a",.22).toString()),null==et.yaxis.color&&(et.yaxis.color=gt.color.parse(et.grid.color).scale("a",.22).toString()),null==et.xaxis.tickColor&&(et.xaxis.tickColor=et.grid.tickColor||et.xaxis.color),null==et.yaxis.tickColor&&(et.yaxis.tickColor=et.grid.tickColor||et.yaxis.color),null==et.grid.borderColor&&(et.grid.borderColor=et.grid.color),null==et.grid.tickColor&&(et.grid.tickColor=gt.color.parse(et.grid.color).scale("a",.22).toString());var e,n,i,o=g.css("font-size"),r=o?+o.replace("px",""):13,s={style:g.css("font-style"),size:Math.round(.8*r),variant:g.css("font-variant"),weight:g.css("font-weight"),family:g.css("font-family")};for(i=et.xaxes.length||1,e=0;e<i;++e)(n=et.xaxes[e])&&!n.tickColor&&(n.tickColor=n.color),n=gt.extend(!0,{},et.xaxis,n),(et.xaxes[e]=n).font&&(n.font=gt.extend({},s,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(i=et.yaxes.length||1,e=0;e<i;++e)(n=et.yaxes[e])&&!n.tickColor&&(n.tickColor=n.color),n=gt.extend(!0,{},et.yaxis,n),(et.yaxes[e]=n).font&&(n.font=gt.extend({},s,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(et.xaxis.noTicks&&null==et.xaxis.ticks&&(et.xaxis.ticks=et.xaxis.noTicks),et.yaxis.noTicks&&null==et.yaxis.ticks&&(et.yaxis.ticks=et.yaxis.noTicks),et.x2axis&&(et.xaxes[1]=gt.extend(!0,{},et.xaxis,et.x2axis),et.xaxes[1].position="top"),et.y2axis&&(et.yaxes[1]=gt.extend(!0,{},et.yaxis,et.y2axis),et.yaxes[1].position="right"),et.grid.coloredAreas&&(et.grid.markings=et.grid.coloredAreas),et.grid.coloredAreasColor&&(et.grid.markingsColor=et.grid.coloredAreasColor),et.lines&&gt.extend(!0,et.series.lines,et.lines),et.points&&gt.extend(!0,et.series.points,et.points),et.bars&&gt.extend(!0,et.series.bars,et.bars),null!=et.shadowSize&&(et.series.shadowSize=et.shadowSize),null!=et.highlightColor&&(et.series.highlightColor=et.highlightColor),e=0;e<et.xaxes.length;++e)p(at,e+1).options=et.xaxes[e];for(e=0;e<et.yaxes.length;++e)p(lt,e+1).options=et.yaxes[e];for(var a in dt)et.hooks[a]&&et.hooks[a].length&&(dt[a]=dt[a].concat(et.hooks[a]));$(dt.processOptions,[et])}function r(t){tt=s(t),l(),c()}function s(t){for(var e=[],n=0;n<t.length;++n){var i=gt.extend(!0,{},et.series);null!=t[n].data?(i.data=t[n].data,delete t[n].data,gt.extend(!0,i,t[n]),t[n].data=i.data):i.data=t[n],e.push(i)}return e}function f(t,e){var n=t[e+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function C(){return gt.grep(at.concat(lt),function(t){return t})}function u(t){var e,n,i={};for(e=0;e<at.length;++e)(n=at[e])&&n.used&&(i["x"+n.n]=n.c2p(t.left));for(e=0;e<lt.length;++e)(n=lt[e])&&n.used&&(i["y"+n.n]=n.c2p(t.top));return i.x1!==undefined&&(i.x=i.x1),i.y1!==undefined&&(i.y=i.y1),i}function a(t){var e,n,i,o={};for(e=0;e<at.length;++e)if((n=at[e])&&n.used&&(null==t[i="x"+n.n]&&1==n.n&&(i="x"),null!=t[i])){o.left=n.p2c(t[i]);break}for(e=0;e<lt.length;++e)if((n=lt[e])&&n.used&&(null==t[i="y"+n.n]&&1==n.n&&(i="y"),null!=t[i])){o.top=n.p2c(t[i]);break}return o}function p(t,e){return t[e-1]||(t[e-1]={n:e,direction:t==at?"x":"y",options:gt.extend(!0,{},t==at?et.xaxis:et.yaxis)}),t[e-1]}function l(){var t,e=tt.length,n=-1;for(t=0;t<tt.length;++t){var i=tt[t].color;null!=i&&(e--,"number"==typeof i&&n<i&&(n=i))}e<=n&&(e=n+1);var o,r=[],s=et.colors,a=s.length,l=0;for(t=0;t<e;t++)o=gt.color.parse(s[t%a]||"#666"),t%a==0&&t&&(l=0<=l?l<.5?-l-.2:0:-l),r[t]=o.scale("rgb",1+l);var c,u=0;for(t=0;t<tt.length;++t){if(null==(c=tt[t]).color?(c.color=r[u].toString(),++u):"number"==typeof c.color&&(c.color=r[c.color].toString()),null==c.lines.show){var h,d=!0;for(h in c)if(c[h]&&c[h].show){d=!1;break}d&&(c.lines.show=!0)}null==c.lines.zero&&(c.lines.zero=!!c.lines.fill),c.xaxis=p(at,f(c,"x")),c.yaxis=p(lt,f(c,"y"))}}function c(){function t(t,e,n){e<t.datamin&&e!=-m&&(t.datamin=e),n>t.datamax&&n!=m&&(t.datamax=n)}var e,n,i,o,r,s,a,l,c,u,h,d,f=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,m=Number.MAX_VALUE;for(gt.each(C(),function(t,e){e.datamin=f,e.datamax=p,e.used=!1}),e=0;e<tt.length;++e)(r=tt[e]).datapoints={points:[]},$(dt.processRawData,[r,r.data,r.datapoints]);for(e=0;e<tt.length;++e){if(h=(r=tt[e]).data,!(d=r.datapoints.format)){if((d=[]).push({x:!0,number:!0,required:!0}),d.push({y:!0,number:!0,required:!0}),r.bars.show||r.lines.show&&r.lines.fill){var g=!!(r.bars.show&&r.bars.zero||r.lines.show&&r.lines.zero);d.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:g}),r.bars.horizontal&&(delete d[d.length-1].y,d[d.length-1].x=!0)}r.datapoints.format=d}if(null==r.datapoints.pointsize){r.datapoints.pointsize=d.length,a=r.datapoints.pointsize,s=r.datapoints.points;var v=r.lines.show&&r.lines.steps;for(r.xaxis.used=r.yaxis.used=!0,n=i=0;n<h.length;++n,i+=a){var y=null==(u=h[n]);if(!y)for(o=0;o<a;++o)l=u[o],(c=d[o])&&(c.number&&null!=l&&(l=+l,isNaN(l)?l=null:l==Infinity?l=m:l==-Infinity&&(l=-m)),null==l&&(c.required&&(y=!0),null!=c.defaultValue&&(l=c.defaultValue))),s[i+o]=l;if(y)for(o=0;o<a;++o)null!=(l=s[i+o])&&!1!==(c=d[o]).autoscale&&(c.x&&t(r.xaxis,l,l),c.y&&t(r.yaxis,l,l)),s[i+o]=null;else if(v&&0<i&&null!=s[i-a]&&s[i-a]!=s[i]&&s[i-a+1]!=s[i+1]){for(o=0;o<a;++o)s[i+a+o]=s[i+o];s[i+1]=s[i-a+1],i+=a}}}}for(e=0;e<tt.length;++e)r=tt[e],$(dt.processDatapoints,[r,r.datapoints]);for(e=0;e<tt.length;++e){s=(r=tt[e]).datapoints.points,a=r.datapoints.pointsize,d=r.datapoints.format;var b=f,x=f,_=p,w=p;for(n=0;n<s.length;n+=a)if(null!=s[n])for(o=0;o<a;++o)l=s[n+o],(c=d[o])&&!1!==c.autoscale&&l!=m&&l!=-m&&(c.x&&(l<b&&(b=l),_<l&&(_=l)),c.y&&(l<x&&(x=l),w<l&&(w=l)));if(r.bars.show){var k;switch(r.bars.align){case"left":k=0;break;case"right":k=-r.bars.barWidth;break;default:k=-r.bars.barWidth/2}r.bars.horizontal?(x+=k,w+=k+r.bars.barWidth):(b+=k,_+=k+r.bars.barWidth)}t(r.xaxis,b,_),t(r.yaxis,x,w)}gt.each(C(),function(t,e){e.datamin==f&&(e.datamin=null),e.datamax==p&&(e.datamax=null)})}function h(){g.css("padding",0).children().filter(function(){return!gt(this).hasClass("flot-overlay")&&!gt(this).hasClass("flot-base")}).remove(),"static"==g.css("position")&&g.css("position","relative"),nt=new vt("flot-base",g),it=new vt("flot-overlay",g),rt=nt.context,st=it.context,ot=gt(it.element).unbind();var t=g.data("plot");t&&(t.shutdown(),it.clear()),g.data("plot",ft)}function d(){et.grid.hoverable&&(ot.mousemove(q),ot.bind("mouseleave",F)),et.grid.clickable&&ot.click(W),$(dt.bindEvents,[ot])}function m(){mt&&clearTimeout(mt),ot.unbind("mousemove",q),ot.unbind("mouseleave",F),ot.unbind("click",W),$(dt.shutdown,[ot])}function v(t){function e(t){return t}var n,i,o=t.options.transform||e,r=t.options.inverseTransform;i="x"==t.direction?(n=t.scale=ut/Math.abs(o(t.max)-o(t.min)),Math.min(o(t.max),o(t.min))):(n=-(n=t.scale=ht/Math.abs(o(t.max)-o(t.min))),Math.max(o(t.max),o(t.min))),t.p2c=o==e?function(t){return(t-i)*n}:function(t){return(o(t)-i)*n},t.c2p=r?function(t){return r(i+t/n)}:function(t){return i+t/n}}function y(t){for(var e=t.options,n=t.ticks||[],i=e.labelWidth||0,o=e.labelHeight||0,r=i||("x"==t.direction?Math.floor(nt.width/(n.length||1)):null),s=t.direction+"Axis "+t.direction+t.n+"Axis",a="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+s,l=e.font||"flot-tick-label tickLabel",c=0;c<n.length;++c){var u=n[c];if(u.label){var h=nt.getTextInfo(a,u.label,l,null,r);i=Math.max(i,h.width),o=Math.max(o,h.height)}}t.labelWidth=e.labelWidth||i,t.labelHeight=e.labelHeight||o}function b(n){var t=n.labelWidth,e=n.labelHeight,i=n.options.position,o="x"===n.direction,r=n.options.tickLength,s=et.grid.axisMargin,a=et.grid.labelMargin,l=!0,c=!0,u=!0,h=!1;gt.each(o?at:lt,function(t,e){e&&e.reserveSpace&&(e===n?h=!0:e.options.position===i&&(h?c=!1:l=!1),h||(u=!1))}),c&&(s=0),null==r&&(r=u?"full":5),isNaN(+r)||(a+=+r),o?(e+=a,"bottom"==i?(ct.bottom+=e+s,n.box={top:nt.height-ct.bottom,height:e}):(n.box={top:ct.top+s,height:e},ct.top+=e+s)):(t+=a,"left"==i?(n.box={left:ct.left+s,width:t},ct.left+=t+s):(ct.right+=t+s,n.box={left:nt.width-ct.right,width:t})),n.position=i,n.tickLength=r,n.box.padding=a,n.innermost=l}function x(t){"x"==t.direction?(t.box.left=ct.left-t.labelWidth/2,t.box.width=nt.width-ct.left-ct.right+t.labelWidth):(t.box.top=ct.top-t.labelHeight/2,t.box.height=nt.height-ct.bottom-ct.top+t.labelHeight)}function _(){var t,e=et.grid.minBorderMargin;if(null==e)for(t=e=0;t<tt.length;++t)e=Math.max(e,2*(tt[t].points.radius+tt[t].points.lineWidth/2));var i={left:e,right:e,top:e,bottom:e};gt.each(C(),function(t,e){if(e.reserveSpace&&e.ticks&&e.ticks.length){var n=e.ticks[e.ticks.length-1];"x"===e.direction?(i.left=Math.max(i.left,e.labelWidth/2),n.v<=e.max&&(i.right=Math.max(i.right,e.labelWidth/2))):(i.bottom=Math.max(i.bottom,e.labelHeight/2),n.v<=e.max&&(i.top=Math.max(i.top,e.labelHeight/2)))}}),ct.left=Math.ceil(Math.max(i.left,ct.left)),ct.right=Math.ceil(Math.max(i.right,ct.right)),ct.top=Math.ceil(Math.max(i.top,ct.top)),ct.bottom=Math.ceil(Math.max(i.bottom,ct.bottom))}function w(){var t,e=C(),n=et.grid.show;for(var i in ct){var o=et.grid.margin||0;ct[i]="number"==typeof o?o:o[i]||0}for(var i in $(dt.processOffset,[ct]),ct)"object"==typeof et.grid.borderWidth?ct[i]+=n?et.grid.borderWidth[i]:0:ct[i]+=n?et.grid.borderWidth:0;if(gt.each(e,function(t,e){e.show=e.options.show,null==e.show&&(e.show=e.used),e.reserveSpace=e.show||e.options.reserveSpace,k(e)}),n){var r=gt.grep(e,function(t){return t.reserveSpace});for(gt.each(r,function(t,e){S(e),T(e),E(e,e.ticks),y(e)}),t=r.length-1;0<=t;--t)b(r[t]);_(),gt.each(r,function(t,e){x(e)})}ut=nt.width-ct.left-ct.right,ht=nt.height-ct.bottom-ct.top,gt.each(e,function(t,e){v(e)}),n&&P(),z()}function k(t){var e=t.options,n=+(null!=e.min?e.min:t.datamin),i=+(null!=e.max?e.max:t.datamax),o=i-n;if(0==o){var r=0==i?1:.01;null==e.min&&(n-=r),null!=e.max&&null==e.min||(i+=r)}else{var s=e.autoscaleMargin;null!=s&&(null==e.min&&(n-=o*s)<0&&null!=t.datamin&&0<=t.datamin&&(n=0),null==e.max&&0<(i+=o*s)&&null!=t.datamax&&t.datamax<=0&&(i=0))}t.min=n,t.max=i}function S(t){var e,n=t.options;e="number"==typeof n.ticks&&0<n.ticks?n.ticks:.3*Math.sqrt("x"==t.direction?nt.width:nt.height);var i=(t.max-t.min)/e,o=-Math.floor(Math.log(i)/Math.LN10),r=n.tickDecimals;null!=r&&r<o&&(o=r);var s,a=Math.pow(10,-o),l=i/a;if(l<1.5?s=1:l<3?(s=2,2.25<l&&(null==r||o+1<=r)&&(s=2.5,++o)):s=l<7.5?5:10,s*=a,null!=n.minTickSize&&s<n.minTickSize&&(s=n.minTickSize),t.delta=i,t.tickDecimals=Math.max(0,null!=r?r:o),t.tickSize=n.tickSize||s,"time"==n.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(t){for(var e,n=[],i=yt(t.min,t.tickSize),o=0,r=Number.NaN;e=r,r=i+o*t.tickSize,n.push(r),++o,r<t.max&&r!=e;);return n},t.tickFormatter=function(t,e){var n=e.tickDecimals?Math.pow(10,e.tickDecimals):1,i=""+Math.round(t*n)/n;if(null!=e.tickDecimals){var o=i.indexOf("."),r=-1==o?0:i.length-o-1;if(r<e.tickDecimals)return(r?i:i+".")+(""+n).substr(1,e.tickDecimals-r)}return i}),gt.isFunction(n.tickFormatter)&&(t.tickFormatter=function(t,e){return""+n.tickFormatter(t,e)}),null!=n.alignTicksWithAxis){var c=("x"==t.direction?at:lt)[n.alignTicksWithAxis-1];if(c&&c.used&&c!=t){var u=t.tickGenerator(t);if(0<u.length&&(null==n.min&&(t.min=Math.min(t.min,u[0])),null==n.max&&1<u.length&&(t.max=Math.max(t.max,u[u.length-1]))),t.tickGenerator=function(t){var e,n,i=[];for(n=0;n<c.ticks.length;++n)e=(c.ticks[n].v-c.min)/(c.max-c.min),e=t.min+e*(t.max-t.min),i.push(e);return i},!t.mode&&null==n.tickDecimals){var h=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),d=t.tickGenerator(t);1<d.length&&/\..*0$/.test((d[1]-d[0]).toFixed(h))||(t.tickDecimals=h)}}}}function T(t){var e,n,i=t.options.ticks,o=[];for(null==i||"number"==typeof i&&0<i?o=t.tickGenerator(t):i&&(o=gt.isFunction(i)?i(t):i),t.ticks=[],e=0;e<o.length;++e){var r=null,s=o[e];"object"==typeof s?(n=+s[0],1<s.length&&(r=s[1])):n=+s,null==r&&(r=t.tickFormatter(n,t)),isNaN(n)||t.ticks.push({v:n,label:r})}}function E(t,e){t.options.autoscaleMargin&&0<e.length&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&1<e.length&&(t.max=Math.max(t.max,e[e.length-1].v)))}function A(){nt.clear(),$(dt.drawBackground,[rt]);var t=et.grid;t.show&&t.backgroundColor&&j(),t.show&&!t.aboveData&&D();for(var e=0;e<tt.length;++e)$(dt.drawSeries,[rt,tt[e]]),L(tt[e]);$(dt.draw,[rt]),t.show&&t.aboveData&&D(),nt.render(),U()}function N(t,e){for(var n,i,o,r,s=C(),a=0;a<s.length;++a)if((n=s[a]).direction==e&&(t[r=e+n.n+"axis"]||1!=n.n||(r=e+"axis"),t[r])){i=t[r].from,o=t[r].to;break}if(t[r]||(n="x"==e?at[0]:lt[0],i=t[e+"1"],o=t[e+"2"]),null!=i&&null!=o&&o<i){var l=i;i=o,o=l}return{from:i,to:o,axis:n}}function j(){rt.save(),rt.translate(ct.left,ct.top),rt.fillStyle=Z(et.grid.backgroundColor,ht,0,"rgba(255, 255, 255, 0)"),rt.fillRect(0,0,ut,ht),rt.restore()}function D(){var t,e,n,i;rt.save(),rt.translate(ct.left,ct.top);var o=et.grid.markings;if(o)for(gt.isFunction(o)&&((e=ft.getAxes()).xmin=e.xaxis.min,e.xmax=e.xaxis.max,e.ymin=e.yaxis.min,e.ymax=e.yaxis.max,o=o(e)),t=0;t<o.length;++t){var r=o[t],s=N(r,"x"),a=N(r,"y");null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),s.to<s.axis.min||s.from>s.axis.max||a.to<a.axis.min||a.from>a.axis.max||(s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),s.from==s.to&&a.from==a.to||(s.from=s.axis.p2c(s.from),s.to=s.axis.p2c(s.to),a.from=a.axis.p2c(a.from),a.to=a.axis.p2c(a.to),s.from==s.to||a.from==a.to?(rt.beginPath(),rt.strokeStyle=r.color||et.grid.markingsColor,rt.lineWidth=r.lineWidth||et.grid.markingsLineWidth,rt.moveTo(s.from,a.from),rt.lineTo(s.to,a.to),rt.stroke()):(rt.fillStyle=r.color||et.grid.markingsColor,rt.fillRect(s.from,a.to,s.to-s.from,a.from-a.to))))}e=C(),n=et.grid.borderWidth;for(var l=0;l<e.length;++l){var c,u,h,d,f=e[l],p=f.box,m=f.tickLength;if(f.show&&0!=f.ticks.length){for(rt.lineWidth=1,"x"==f.direction?(c=0,u="full"==m?"top"==f.position?0:ht:p.top-ct.top+("top"==f.position?p.height:0)):(u=0,c="full"==m?"left"==f.position?0:ut:p.left-ct.left+("left"==f.position?p.width:0)),f.innermost||(rt.strokeStyle=f.options.color,rt.beginPath(),h=d=0,"x"==f.direction?h=ut+1:d=ht+1,1==rt.lineWidth&&("x"==f.direction?u=Math.floor(u)+.5:c=Math.floor(c)+.5),rt.moveTo(c,u),rt.lineTo(c+h,u+d),rt.stroke()),rt.strokeStyle=f.options.tickColor,rt.beginPath(),t=0;t<f.ticks.length;++t){var g=f.ticks[t].v;h=d=0,isNaN(g)||g<f.min||g>f.max||"full"==m&&("object"==typeof n&&0<n[f.position]||0<n)&&(g==f.min||g==f.max)||("x"==f.direction?(c=f.p2c(g),d="full"==m?-ht:m,"top"==f.position&&(d=-d)):(u=f.p2c(g),h="full"==m?-ut:m,"left"==f.position&&(h=-h)),1==rt.lineWidth&&("x"==f.direction?c=Math.floor(c)+.5:u=Math.floor(u)+.5),rt.moveTo(c,u),rt.lineTo(c+h,u+d))}rt.stroke()}}n&&(i=et.grid.borderColor,"object"==typeof n||"object"==typeof i?("object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),0<n.top&&(rt.strokeStyle=i.top,rt.lineWidth=n.top,rt.beginPath(),rt.moveTo(0-n.left,0-n.top/2),rt.lineTo(ut,0-n.top/2),rt.stroke()),0<n.right&&(rt.strokeStyle=i.right,rt.lineWidth=n.right,rt.beginPath(),rt.moveTo(ut+n.right/2,0-n.top),rt.lineTo(ut+n.right/2,ht),rt.stroke()),0<n.bottom&&(rt.strokeStyle=i.bottom,rt.lineWidth=n.bottom,rt.beginPath(),rt.moveTo(ut+n.right,ht+n.bottom/2),rt.lineTo(0,ht+n.bottom/2),rt.stroke()),0<n.left&&(rt.strokeStyle=i.left,rt.lineWidth=n.left,rt.beginPath(),rt.moveTo(0-n.left/2,ht+n.bottom),rt.lineTo(0-n.left/2,0),rt.stroke())):(rt.lineWidth=n,rt.strokeStyle=et.grid.borderColor,rt.strokeRect(-n/2,-n/2,ut+n,ht+n))),rt.restore()}function P(){gt.each(C(),function(t,e){var n,i,o,r,s,a=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",c="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,u=e.options.font||"flot-tick-label tickLabel";if(nt.removeText(c),e.show&&0!=e.ticks.length)for(var h=0;h<e.ticks.length;++h)!(n=e.ticks[h]).label||n.v<e.min||n.v>e.max||("x"==e.direction?(r="center",i=ct.left+e.p2c(n.v),"bottom"==e.position?o=a.top+a.padding:(o=a.top+a.height-a.padding,s="bottom")):(s="middle",o=ct.top+e.p2c(n.v),"left"==e.position?(i=a.left+a.width-a.padding,r="right"):i=a.left+a.padding),nt.addText(c,i,o,n.label,u,null,null,r,s))})}function L(t){t.lines.show&&I(t),t.bars.show&&B(t),t.points.show&&M(t)}function I(t){function e(t,e,n,i,o){var r=t.points,s=t.pointsize,a=null,l=null;rt.beginPath();for(var c=s;c<r.length;c+=s){var u=r[c-s],h=r[c-s+1],d=r[c],f=r[c+1];if(null!=u&&null!=d){if(h<=f&&h<o.min){if(f<o.min)continue;u=(o.min-h)/(f-h)*(d-u)+u,h=o.min}else if(f<=h&&f<o.min){if(h<o.min)continue;d=(o.min-h)/(f-h)*(d-u)+u,f=o.min}if(f<=h&&h>o.max){if(f>o.max)continue;u=(o.max-h)/(f-h)*(d-u)+u,h=o.max}else if(h<=f&&f>o.max){if(h>o.max)continue;d=(o.max-h)/(f-h)*(d-u)+u,f=o.max}if(u<=d&&u<i.min){if(d<i.min)continue;h=(i.min-u)/(d-u)*(f-h)+h,u=i.min}else if(d<=u&&d<i.min){if(u<i.min)continue;f=(i.min-u)/(d-u)*(f-h)+h,d=i.min}if(d<=u&&u>i.max){if(d>i.max)continue;h=(i.max-u)/(d-u)*(f-h)+h,u=i.max}else if(u<=d&&d>i.max){if(u>i.max)continue;f=(i.max-u)/(d-u)*(f-h)+h,d=i.max}u==a&&h==l||rt.moveTo(i.p2c(u)+e,o.p2c(h)+n),a=d,l=f,rt.lineTo(i.p2c(d)+e,o.p2c(f)+n)}}rt.stroke()}function n(t,e,n){for(var i=t.points,o=t.pointsize,r=Math.min(Math.max(0,n.min),n.max),s=0,a=!1,l=1,c=0,u=0;!(0<o&&s>i.length+o);){var h=i[(s+=o)-o],d=i[s-o+l],f=i[s],p=i[s+l];if(a){if(0<o&&null!=h&&null==f){u=s,o=-o,l=2;continue}if(o<0&&s==c+o){rt.fill(),a=!1,l=1,s=c=u+(o=-o);continue}}if(null!=h&&null!=f){if(h<=f&&h<e.min){if(f<e.min)continue;d=(e.min-h)/(f-h)*(p-d)+d,h=e.min}else if(f<=h&&f<e.min){if(h<e.min)continue;p=(e.min-h)/(f-h)*(p-d)+d,f=e.min}if(f<=h&&h>e.max){if(f>e.max)continue;d=(e.max-h)/(f-h)*(p-d)+d,h=e.max}else if(h<=f&&f>e.max){if(h>e.max)continue;p=(e.max-h)/(f-h)*(p-d)+d,f=e.max}if(a||(rt.beginPath(),rt.moveTo(e.p2c(h),n.p2c(r)),a=!0),d>=n.max&&p>=n.max)rt.lineTo(e.p2c(h),n.p2c(n.max)),rt.lineTo(e.p2c(f),n.p2c(n.max));else if(d<=n.min&&p<=n.min)rt.lineTo(e.p2c(h),n.p2c(n.min)),rt.lineTo(e.p2c(f),n.p2c(n.min));else{var m=h,g=f;d<=p&&d<n.min&&p>=n.min?(h=(n.min-d)/(p-d)*(f-h)+h,d=n.min):p<=d&&p<n.min&&d>=n.min&&(f=(n.min-d)/(p-d)*(f-h)+h,p=n.min),p<=d&&d>n.max&&p<=n.max?(h=(n.max-d)/(p-d)*(f-h)+h,d=n.max):d<=p&&p>n.max&&d<=n.max&&(f=(n.max-d)/(p-d)*(f-h)+h,p=n.max),h!=m&&rt.lineTo(e.p2c(m),n.p2c(d)),rt.lineTo(e.p2c(h),n.p2c(d)),rt.lineTo(e.p2c(f),n.p2c(p)),f!=g&&(rt.lineTo(e.p2c(f),n.p2c(p)),rt.lineTo(e.p2c(g),n.p2c(p)))}}}}rt.save(),rt.translate(ct.left,ct.top),rt.lineJoin="round";var i=t.lines.lineWidth,o=t.shadowSize;if(0<i&&0<o){rt.lineWidth=o,rt.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;e(t.datapoints,Math.sin(r)*(i/2+o/2),Math.cos(r)*(i/2+o/2),t.xaxis,t.yaxis),rt.lineWidth=o/2,e(t.datapoints,Math.sin(r)*(i/2+o/4),Math.cos(r)*(i/2+o/4),t.xaxis,t.yaxis)}rt.lineWidth=i,rt.strokeStyle=t.color;var s=H(t.lines,t.color,0,ht);s&&(rt.fillStyle=s,n(t.datapoints,t.xaxis,t.yaxis)),0<i&&e(t.datapoints,0,0,t.xaxis,t.yaxis),rt.restore()}function M(t){function e(t,e,n,i,o,r,s,a){for(var l=t.points,c=t.pointsize,u=0;u<l.length;u+=c){var h=l[u],d=l[u+1];null==h||h<r.min||h>r.max||d<s.min||d>s.max||(rt.beginPath(),h=r.p2c(h),d=s.p2c(d)+i,"circle"==a?rt.arc(h,d,e,0,o?Math.PI:2*Math.PI,!1):a(rt,h,d,e,o),rt.closePath(),n&&(rt.fillStyle=n,rt.fill()),rt.stroke())}}rt.save(),rt.translate(ct.left,ct.top);var n=t.points.lineWidth,i=t.shadowSize,o=t.points.radius,r=t.points.symbol;if(0==n&&(n=1e-4),0<n&&0<i){var s=i/2;rt.lineWidth=s,rt.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,o,null,s+s/2,!0,t.xaxis,t.yaxis,r),rt.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,o,null,s/2,!0,t.xaxis,t.yaxis,r)}rt.lineWidth=n,rt.strokeStyle=t.color,e(t.datapoints,o,H(t.points,t.color),0,!1,t.xaxis,t.yaxis,r),rt.restore()}function R(t,e,n,i,o,r,s,a,l,c,u){var h,d,f,p,m,g,v,y,b;c?(y=g=v=!0,m=!1,p=e+i,f=e+o,(d=t)<(h=n)&&(b=d,d=h,h=b,g=!(m=!0))):(m=g=v=!0,y=!1,h=t+i,d=t+o,(p=e)<(f=n)&&(b=p,p=f,f=b,v=!(y=!0))),d<s.min||h>s.max||p<a.min||f>a.max||(h<s.min&&(h=s.min,m=!1),d>s.max&&(d=s.max,g=!1),f<a.min&&(f=a.min,y=!1),p>a.max&&(p=a.max,v=!1),h=s.p2c(h),f=a.p2c(f),d=s.p2c(d),p=a.p2c(p),r&&(l.fillStyle=r(f,p),l.fillRect(h,p,d-h,f-p)),0<u&&(m||g||v||y)&&(l.beginPath(),l.moveTo(h,f),m?l.lineTo(h,p):l.moveTo(h,p),v?l.lineTo(d,p):l.moveTo(d,p),g?l.lineTo(d,f):l.moveTo(d,f),y?l.lineTo(h,f):l.moveTo(h,f),l.stroke()))}function B(c){function t(t,e,n,i,o,r){for(var s=t.points,a=t.pointsize,l=0;l<s.length;l+=a)null!=s[l]&&R(s[l],s[l+1],s[l+2],e,n,i,o,r,rt,c.bars.horizontal,c.bars.lineWidth)}var e;switch(rt.save(),rt.translate(ct.left,ct.top),rt.lineWidth=c.bars.lineWidth,rt.strokeStyle=c.color,c.bars.align){case"left":e=0;break;case"right":e=-c.bars.barWidth;break;default:e=-c.bars.barWidth/2}var n=c.bars.fill?function(t,e){return H(c.bars,c.color,t,e)}:null;t(c.datapoints,e,e+c.bars.barWidth,n,c.xaxis,c.yaxis),rt.restore()}function H(t,e,n,i){var o=t.fill;if(!o)return null;if(t.fillColor)return Z(t.fillColor,n,i,e);var r=gt.color.parse(e);return r.a="number"==typeof o?o:.4,r.normalize(),r.toString()}function z(){if(null!=et.legend.container?gt(et.legend.container).html(""):g.find(".legend").remove(),et.legend.show){for(var t,e,n=[],i=[],o=!1,r=et.legend.labelFormatter,s=0;s<tt.length;++s)(t=tt[s]).label&&(e=r?r(t.label,t):t.label)&&i.push({label:e,color:t.color});if(et.legend.sorted)if(gt.isFunction(et.legend.sorted))i.sort(et.legend.sorted);else if("reverse"==et.legend.sorted)i.reverse();else{var a="descending"!=et.legend.sorted;i.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=a?1:-1})}for(s=0;s<i.length;++s){var l=i[s];s%et.legend.noColumns==0&&(o&&n.push("</tr>"),n.push("<tr>"),o=!0),n.push('<td class="legendColorBox"><div style="border:1px solid '+et.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+l.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+l.label+"</td>")}if(o&&n.push("</tr>"),0!=n.length){var c='<table style="font-size:smaller;color:'+et.grid.color+'">'+n.join("")+"</table>";if(null!=et.legend.container)gt(et.legend.container).html(c);else{var u="",h=et.legend.position,d=et.legend.margin;null==d[0]&&(d=[d,d]),"n"==h.charAt(0)?u+="top:"+(d[1]+ct.top)+"px;":"s"==h.charAt(0)&&(u+="bottom:"+(d[1]+ct.bottom)+"px;"),"e"==h.charAt(1)?u+="right:"+(d[0]+ct.right)+"px;":"w"==h.charAt(1)&&(u+="left:"+(d[0]+ct.left)+"px;");var f=gt('<div class="legend">'+c.replace('style="','style="position:absolute;'+u+";")+"</div>").appendTo(g);if(0!=et.legend.backgroundOpacity){var p=et.legend.backgroundColor;null==p&&((p=(p=et.grid.backgroundColor)&&"string"==typeof p?gt.color.parse(p):gt.color.extract(f,"background-color")).a=1,p=p.toString());var m=f.children();gt('<div style="position:absolute;width:'+m.width()+"px;height:"+m.height()+"px;"+u+"background-color:"+p+';"> </div>').prependTo(f).css("opacity",et.legend.backgroundOpacity)}}}}}function O(t,e,n){var i,o,r,s=et.grid.mouseActiveRadius,a=s*s+1,l=null;for(i=tt.length-1;0<=i;--i)if(n(tt[i])){var c=tt[i],u=c.xaxis,h=c.yaxis,d=c.datapoints.points,f=u.c2p(t),p=h.c2p(e),m=s/u.scale,g=s/h.scale;if(r=c.datapoints.pointsize,u.options.inverseTransform&&(m=Number.MAX_VALUE),h.options.inverseTransform&&(g=Number.MAX_VALUE),c.lines.show||c.points.show)for(o=0;o<d.length;o+=r){var v=d[o],y=d[o+1];if(null!=v&&!(m<v-f||v-f<-m||g<y-p||y-p<-g)){var b=Math.abs(u.p2c(v)-t),x=Math.abs(h.p2c(y)-e),_=b*b+x*x;_<a&&(a=_,l=[i,o/r])}}if(c.bars.show&&!l){var w,k;switch(c.bars.align){case"left":w=0;break;case"right":w=-c.bars.barWidth;break;default:w=-c.bars.barWidth/2}for(k=w+c.bars.barWidth,o=0;o<d.length;o+=r){v=d[o],y=d[o+1];var $=d[o+2];null!=v&&((tt[i].bars.horizontal?f<=Math.max($,v)&&f>=Math.min($,v)&&y+w<=p&&p<=y+k:v+w<=f&&f<=v+k&&p>=Math.min($,y)&&p<=Math.max($,y))&&(l=[i,o/r]))}}}return l?(i=l[0],o=l[1],r=tt[i].datapoints.pointsize,{datapoint:tt[i].datapoints.points.slice(o*r,(o+1)*r),dataIndex:o,series:tt[i],seriesIndex:i}):null}function q(t){et.grid.hoverable&&V("plothover",t,function(t){return 0!=t.hoverable})}function F(t){et.grid.hoverable&&V("plothover",t,function(){return!1})}function W(t){V("plotclick",t,function(t){return 0!=t.clickable})}function V(t,e,n){var i=ot.offset(),o=e.pageX-i.left-ct.left,r=e.pageY-i.top-ct.top,s=u({left:o,top:r});s.pageX=e.pageX,s.pageY=e.pageY;var a=O(o,r,n);if(a&&(a.pageX=parseInt(a.series.xaxis.p2c(a.datapoint[0])+i.left+ct.left,10),a.pageY=parseInt(a.series.yaxis.p2c(a.datapoint[1])+i.top+ct.top,10)),et.grid.autoHighlight){for(var l=0;l<pt.length;++l){var c=pt[l];c.auto!=t||a&&c.series==a.series&&c.point[0]==a.datapoint[0]&&c.point[1]==a.datapoint[1]||G(c.series,c.point)}a&&X(a.series,a.datapoint,t)}g.trigger(t,[s,a])}function U(){var t=et.interaction.redrawOverlayInterval;-1!=t?mt||(mt=setTimeout(Q,t)):Q()}function Q(){var t,e;for(mt=null,st.save(),it.clear(),st.translate(ct.left,ct.top),t=0;t<pt.length;++t)(e=pt[t]).series.bars.show?J(e.series,e.point):Y(e.series,e.point);st.restore(),$(dt.drawOverlay,[st])}function X(t,e,n){if("number"==typeof t&&(t=tt[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var o=K(t,e);-1==o?(pt.push({series:t,point:e,auto:n}),U()):n||(pt[o].auto=!1)}function G(t,e){if(null==t&&null==e)return pt=[],void U();if("number"==typeof t&&(t=tt[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var i=K(t,e);-1!=i&&(pt.splice(i,1),U())}function K(t,e){for(var n=0;n<pt.length;++n){var i=pt[n];if(i.series==t&&i.point[0]==e[0]&&i.point[1]==e[1])return n}return-1}function Y(t,e){var n=e[0],i=e[1],o=t.xaxis,r=t.yaxis,s="string"==typeof t.highlightColor?t.highlightColor:gt.color.parse(t.color).scale("a",.5).toString();if(!(n<o.min||n>o.max||i<r.min||i>r.max)){var a=t.points.radius+t.points.lineWidth/2;st.lineWidth=a,st.strokeStyle=s;var l=1.5*a;n=o.p2c(n),i=r.p2c(i),st.beginPath(),"circle"==t.points.symbol?st.arc(n,i,l,0,2*Math.PI,!1):t.points.symbol(st,n,i,l,!1),st.closePath(),st.stroke()}}function J(t,e){var n,i="string"==typeof t.highlightColor?t.highlightColor:gt.color.parse(t.color).scale("a",.5).toString(),o=i;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}st.lineWidth=t.bars.lineWidth,st.strokeStyle=i,R(e[0],e[1],e[2]||0,n,n+t.bars.barWidth,function(){return o},t.xaxis,t.yaxis,st,t.bars.horizontal,t.bars.lineWidth)}function Z(t,e,n,i){if("string"==typeof t)return t;for(var o=rt.createLinearGradient(0,n,0,e),r=0,s=t.colors.length;r<s;++r){var a=t.colors[r];if("string"!=typeof a){var l=gt.color.parse(i);null!=a.brightness&&(l=l.scale("rgb",a.brightness)),null!=a.opacity&&(l.a*=a.opacity),a=l.toString()}o.addColorStop(r/(s-1),a)}return o}var tt=[],et={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},nt=null,it=null,ot=null,rt=null,st=null,at=[],lt=[],ct={left:0,right:0,top:0,bottom:0},ut=0,ht=0,dt={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},ft=this;ft.setData=r,ft.setupGrid=w,ft.draw=A,ft.getPlaceholder=function(){return g},ft.getCanvas=function(){return nt.element},ft.getPlotOffset=function(){return ct},ft.width=function(){return ut},ft.height=function(){return ht},ft.offset=function(){var t=ot.offset();return t.left+=ct.left,t.top+=ct.top,t},ft.getData=function(){return tt},ft.getAxes=function(){var n={};return gt.each(at.concat(lt),function(t,e){e&&(n[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),n},ft.getXAxes=function(){return at},ft.getYAxes=function(){return lt},
ft.c2p=u,ft.p2c=a,ft.getOptions=function(){return et},ft.highlight=X,ft.unhighlight=G,ft.triggerRedrawOverlay=U,ft.pointOffset=function(t){return{left:parseInt(at[f(t,"x")-1].p2c(+t.x)+ct.left,10),top:parseInt(lt[f(t,"y")-1].p2c(+t.y)+ct.top,10)}},ft.shutdown=m,ft.destroy=function(){m(),g.removeData("plot").empty(),tt=[],at=[],lt=[],pt=[],ft=dt=st=rt=ot=it=nt=et=null},ft.resize=function(){var t=g.width(),e=g.height();nt.resize(t,e),it.resize(t,e)},ft.hooks=dt,n(ft),o(e),h(),r(t),w(),A(),d();var pt=[],mt=null}function yt(t,e){return e*Math.floor(t/e)}var f=Object.prototype.hasOwnProperty;vt.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var n=this.element,i=this.context,o=this.pixelRatio;this.width!=t&&(n.width=t*o,n.style.width=t+"px",this.width=t),this.height!=e&&(n.height=e*o,n.style.height=e+"px",this.height=e),i.restore(),i.save(),i.scale(o,o)},vt.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},vt.prototype.render=function(){var t=this._textCache;for(var e in t)if(f.call(t,e)){var n=this.getTextLayer(e),i=t[e];for(var o in n.hide(),i)if(f.call(i,o)){var r=i[o];for(var s in r)if(f.call(r,s)){for(var a,l=r[s].positions,c=0;a=l[c];c++)a.active?a.rendered||(n.append(a.element),a.rendered=!0):(l.splice(c--,1),a.rendered&&a.element.detach());0==l.length&&delete r[s]}}n.show()}},vt.prototype.getTextLayer=function(t){var e=this.text[t];return null==e&&(null==this.textContainer&&(this.textContainer=gt("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),e=this.text[t]=gt("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),e},vt.prototype.getTextInfo=function(t,e,n,i,o){var r,s,a,l;if(e=""+e,r="object"==typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,null==(s=this._textCache[t])&&(s=this._textCache[t]={}),null==(a=s[r])&&(a=s[r]={}),null==(l=a[e])){var c=gt("<div></div>").html(e).css({position:"absolute","max-width":o,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof n?c.css({font:r,color:n.color}):"string"==typeof n&&c.addClass(n),l=a[e]={width:c.outerWidth(!0),height:c.outerHeight(!0),element:c,positions:[]},c.detach()}return l},vt.prototype.addText=function(t,e,n,i,o,r,s,a,l){var c=this.getTextInfo(t,i,o,r,s),u=c.positions;"center"==a?e-=c.width/2:"right"==a&&(e-=c.width),"middle"==l?n-=c.height/2:"bottom"==l&&(n-=c.height);for(var h,d=0;h=u[d];d++)if(h.x==e&&h.y==n)return void(h.active=!0);h={active:!0,rendered:!1,element:u.length?c.element.clone():c.element,x:e,y:n},u.push(h),h.element.css({top:Math.round(n),left:Math.round(e),"text-align":a})},vt.prototype.removeText=function(t,e,n,i,o,r){if(null==i){var s=this._textCache[t];if(null!=s)for(var a in s)if(f.call(s,a)){var l=s[a];for(var c in l)if(f.call(l,c))for(var u=l[c].positions,h=0;d=u[h];h++)d.active=!1}}else{var d;for(u=this.getTextInfo(t,i,o,r).positions,h=0;d=u[h];h++)d.x==e&&d.y==n&&(d.active=!1)}},gt.plot=function(t,e,n){return new i(gt(t),e,n,gt.plot.plugins)},gt.plot.version="0.8.2",gt.plot.plugins=[],gt.fn.plot=function(t,e){return this.each(function(){gt.plot(this,t,e)})}}(jQuery),function(g){function t(c){function n(t){f.active&&(l(t),c.getPlaceholder().trigger("plotselecting",[o()]))}function i(t){1==t.which&&(document.body.focus(),document.onselectstart!==undefined&&null==p.onselectstart&&(p.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),document.ondrag!==undefined&&null==p.ondrag&&(p.ondrag=document.ondrag,document.ondrag=function(){return!1}),a(f.first,t),f.active=!0,m=function(t){e(t)},g(document).one("mouseup",m))}function e(t){return m=null,document.onselectstart!==undefined&&(document.onselectstart=p.onselectstart),document.ondrag!==undefined&&(document.ondrag=p.ondrag),f.active=!1,l(t),d()?r():(c.getPlaceholder().trigger("plotunselected",[]),c.getPlaceholder().trigger("plotselecting",[null])),!1}function o(){if(!d())return null;if(!f.show)return null;var o={},r=f.first,s=f.second;return g.each(c.getAxes(),function(t,e){if(e.used){var n=e.c2p(r[e.direction]),i=e.c2p(s[e.direction]);o[t]={from:Math.min(n,i),to:Math.max(n,i)}}}),o}function r(){var t=o();c.getPlaceholder().trigger("plotselected",[t]),t.xaxis&&t.yaxis&&c.getPlaceholder().trigger("selected",[{x1:t.xaxis.from,y1:t.yaxis.from,x2:t.xaxis.to,y2:t.yaxis.to}])}function s(t,e,n){return e<t?t:n<e?n:e}function a(t,e){var n=c.getOptions(),i=c.getPlaceholder().offset(),o=c.getPlotOffset();t.x=s(0,e.pageX-i.left-o.left,c.width()),t.y=s(0,e.pageY-i.top-o.top,c.height()),"y"==n.selection.mode&&(t.x=t==f.first?0:c.width()),"x"==n.selection.mode&&(t.y=t==f.first?0:c.height())}function l(t){null!=t.pageX&&(a(f.second,t),d()?(f.show=!0,c.triggerRedrawOverlay()):u(!0))}function u(t){f.show&&(f.show=!1,c.triggerRedrawOverlay(),t||c.getPlaceholder().trigger("plotunselected",[]))}function h(t,e){var n,i,o,r,s=c.getAxes();for(var a in s)if((n=s[a]).direction==e&&(t[r=e+n.n+"axis"]||1!=n.n||(r=e+"axis"),t[r])){i=t[r].from,o=t[r].to;break}if(t[r]||(n="x"==e?c.getXAxes()[0]:c.getYAxes()[0],i=t[e+"1"],o=t[e+"2"]),null!=i&&null!=o&&o<i){var l=i;i=o,o=l}return{from:i,to:o,axis:n}}function t(t,e){var n,i=c.getOptions();"y"==i.selection.mode?(f.first.x=0,f.second.x=c.width()):(n=h(t,"x"),f.first.x=n.axis.p2c(n.from),f.second.x=n.axis.p2c(n.to)),"x"==i.selection.mode?(f.first.y=0,f.second.y=c.height()):(n=h(t,"y"),f.first.y=n.axis.p2c(n.from),f.second.y=n.axis.p2c(n.to)),f.show=!0,c.triggerRedrawOverlay(),!e&&d()&&r()}function d(){var t=c.getOptions().selection.minSize;return Math.abs(f.second.x-f.first.x)>=t&&Math.abs(f.second.y-f.first.y)>=t}var f={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},p={},m=null;c.clearSelection=u,c.setSelection=t,c.getSelection=o,c.hooks.bindEvents.push(function(t,e){null!=t.getOptions().selection.mode&&(e.mousemove(n),e.mousedown(i))}),c.hooks.drawOverlay.push(function(t,e){if(f.show&&d()){var n=t.getPlotOffset(),i=t.getOptions();e.save(),e.translate(n.left,n.top);var o=g.color.parse(i.selection.color);e.strokeStyle=o.scale("a",.8).toString(),e.lineWidth=1,e.lineJoin=i.selection.shape,e.fillStyle=o.scale("a",.4).toString();var r=Math.min(f.first.x,f.second.x)+.5,s=Math.min(f.first.y,f.second.y)+.5,a=Math.abs(f.second.x-f.first.x)-1,l=Math.abs(f.second.y-f.first.y)-1;e.fillRect(r,s,a,l),e.strokeRect(r,s,a,l),e.restore()}}),c.hooks.shutdown.push(function(t,e){e.unbind("mousemove",n),e.unbind("mousedown",i),m&&g(document).unbind("mouseup",m)})}g.plot.plugins.push({init:t,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),function(r){var s=function(t,e){this.element=r(t),this.picker=r('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element),this.id=this.element.data("slider-id")||e.id,this.id&&(this.picker[0].id=this.id),"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);var n=this.element.data("slider-tooltip")||e.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||e.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth()),this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}switch(this.min=this.element.data("slider-min")||e.min,this.max=this.element.data("slider-max")||e.max,this.step=this.element.data("slider-step")||e.step,this.value=this.element.data("slider-value")||e.value,this.value[1]&&(this.range=!0),this.selection=this.element.data("slider-selection")||e.selection,this.selectionEl=this.picker.find(".slider-selection"),"none"===this.selection&&this.selectionEl.addClass("hide"),this.selectionElStyle=this.selectionEl[0].style,this.handle1=this.picker.find(".slider-handle:first"),this.handle1Stype=this.handle1[0].style,this.handle2=this.picker.find(".slider-handle:last"),this.handle2Stype=this.handle2[0].style,this.element.data("slider-handle")||e.handle){case"round":this.handle1.addClass("round"),this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),"after"==this.selection?this.value[1]=this.max:this.value[1]=this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=e.formater,this.layout(),this.touchCapable?this.picker.on({touchstart:r.proxy(this.mousedown,this)}):this.picker.on({mousedown:r.proxy(this.mousedown,this)}),"show"===n?this.picker.on({mouseenter:r.proxy(this.showTooltip,this),mouseleave:r.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};s.prototype={constructor:s,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in"),this.over=!0},hideTooltip:function(){!1===this.inDrag&&this.tooltip.removeClass("in"),this.over=!1},layout:function(){this.handle1Stype[this.stylePos]=this.percentage[0]+"%",this.handle2Stype[this.stylePos]=this.percentage[1]+"%","vertical"==this.orientation?(this.selectionElStyle.top=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.height=Math.abs(this.percentage[0]-this.percentage[1])+"%"):(this.selectionElStyle.left=Math.min(this.percentage[0],this.percentage[1])+"%",this.selectionElStyle.width=Math.abs(this.percentage[0]-this.percentage[1])+"%"),this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(this.percentage[0]+(this.percentage[1]-this.percentage[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*this.percentage[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(t){this.touchCapable&&"touchstart"===t.type&&(t=t.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos];var e=this.getPercentage(t);if(this.range){var n=Math.abs(this.percentage[0]-e),i=Math.abs(this.percentage[1]-e);this.dragged=n<i?0:1}else this.dragged=0;this.percentage[this.dragged]=e,this.layout(),this.touchCapable?r(document).on({touchmove:r.proxy(this.mousemove,this),touchend:r.proxy(this.mouseup,this)}):r(document).on({mousemove:r.proxy(this.mousemove,this),mouseup:r.proxy(this.mouseup,this)}),this.inDrag=!0;var o=this.calculateValue();return this.element.trigger({type:"slideStart",value:o}).trigger({type:"slide",value:o}),!1},mousemove:function(t){this.touchCapable&&"touchmove"===t.type&&(t=t.originalEvent);var e=this.getPercentage(t);this.range&&(0===this.dragged&&this.percentage[1]<e?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>e&&(this.percentage[1]=this.percentage[0],this.dragged=0)),this.percentage[this.dragged]=e,this.layout();var n=this.calculateValue();return this.element.trigger({type:"slide",value:n}).data("value",n).prop("value",n),!1},mouseup:function(){this.touchCapable?r(document).off({touchmove:this.mousemove,touchend:this.mouseup}):r(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),this.inDrag=!1,0==this.over&&this.hideTooltip(),this.element;var t=this.calculateValue();return this.element.trigger({type:"slideStop",value:t}).data("value",t).prop("value",t),!1},calculateValue:function(){var t;return this.range?(t=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=t):(t=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[t,this.value[1]]),t},getPercentage:function(t){this.touchCapable&&(t=t.touches[0]);var e=100*(t[this.mousePos]-this.offset[this.stylePos])/this.size;return e=Math.round(e/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,e))},getValue:function(){return this.range?this.value:this.value[0]},setValue:function(t){this.value=t,this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),"after"==this.selection?this.value[1]=this.max:this.value[1]=this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.layout()}},r.fn.slider=function(i,o){return this.each(function(){var t=r(this),e=t.data("slider"),n="object"==typeof i&&i;e||t.data("slider",e=new s(this,r.extend({},r.fn.slider.defaults,n))),"string"==typeof i&&e[i](o)})},r.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",formater:function(t){return t}},r.fn.slider.Constructor=s}(window.jQuery),function(m){"use strict";function t(i){return this.each(function(){var t=m(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new g(this,n)),"string"==typeof i&&e[i]())})}var g=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};g.VERSION="3.3.7",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=m(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&m(m.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",a="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(t){return(t=m.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},g.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&m.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},g.prototype.enter=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},g.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},g.prototype.leave=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},g.prototype.show=function(){var t=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,a=s.test(r);a&&(r=r.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(a){var h=r,d=this.getPosition(this.$viewport);r="bottom"==r&&l.bottom+u>d.bottom?"top":"top"==r&&l.top-u<d.top?"bottom":"right"==r&&l.right+c>d.width?"left":"left"==r&&l.left-c<d.left?"right":r,i.removeClass(h).addClass(r)}var f=this.getCalculatedOffset(r,l,c,u);this.applyPlacement(f,r);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};m.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",p).emulateTransitionEnd(g.TRANSITION_DURATION):p()}},g.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top+=r,t.left+=s,m.offset.setOffset(n[0],m.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var a=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var c=this.getViewportAdjustedDelta(e,t,a,l);c.left?t.left+=c.left:t.top+=c.top;var u=/top|bottom/.test(e),h=u?2*c.left-i+a:2*c.top-o+l,d=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(h,n[0][d],u)},g.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},g.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},g.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=m(this.$tip),o=m.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),m.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(g.TRANSITION_DURATION):e(),this.hoverState=null,this},g.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=m.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&e instanceof window.SVGElement,r=n?{top:0,left:0}:o?null:t.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=n?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},i,s,a,r)},g.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},g.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+i;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var c=e.left-r,u=e.left+r+n;c<s.left?o.left=s.left-c:u>s.right&&(o.left=s.left+s.width-u)}return o},g.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},g.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=m(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(t){var e=this;t&&((e=m(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},g.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var e=m.fn.tooltip;m.fn.tooltip=t,m.fn.tooltip.Constructor=g,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=e,this}}(jQuery),Blacklight.onLoad(function(){function n(t){if(t&&0<t.width()){t.height(t.width()*r);var e=t.data("plot");if(e)e.resize(),e.setupGrid(),e.draw(),$(t).closest(".limit_content").find("form.range_limit").find("input.range_begin").trigger("change"),$(t).trigger(s)}}function i(t,e){if(0<t.width()){var n=t.width()*r;t.height(n),o($(t)),$(t).trigger(s)}else 0<e&&setTimeout(function(){i(t,e-50)},50)}function o(s){if(m()){var o=new Array,r=new Array,a=new Array,t=BlacklightRangeLimit.parseNum($(s).find("ul li:first-child span.from").text()),e=BlacklightRangeLimit.parseNum($(s).find("ul li:last-child span.to").text());$(s).find("ul li").each(function(){var t=BlacklightRangeLimit.parseNum($(this).find("span.from").text()),e=BlacklightRangeLimit.parseNum($(this).find("span.to").text()),n=BlacklightRangeLimit.parseNum($(this).find("span.count").text()),i=n/(e-t+1);o.push([t,i]),o.push([e+1,i]),a.push(t),r.push({from:t,to:e,count:n,label:$(this).find(".facet_select").text()})});var n,i=BlacklightRangeLimit.parseNum($(s).find("ul li:last-child span.to").text())+1;a.push(i);var l=$(s).closest(".facet_limit").data("plot-config")||{};try{n=$.plot($(s),[o],$.extend(!0,l,{yaxis:{ticks:[],min:0,autoscaleMargin:.1},xaxis:{tickDecimals:0},series:{lines:{fill:!0,steps:!0}},grid:{clickable:!0,hoverable:!0,autoHighlight:!1},selection:{mode:"x"}}))}catch(h){alert(h)}find_segment_for=p(r);var c=null;$(".distribution").tooltip({placement:"bottom",trigger:"manual",delay:{show:0,hide:100}}),$(s).bind("plothover",function(t,e){if(segment=find_segment_for(e.x),segment!=c){var n=find_segment_for(e.x).label+" ("+BlacklightRangeLimit.parseNum(segment.count)+")";$(".distribution").attr("title",n).tooltip("fixTitle").tooltip("show"),c=segment}}),$(s).bind("mouseout",function(){c=null,$(".distribution").tooltip("hide")}),$(s).bind("plotclick",function(t,e){null==n.getSelection()&&(segment=find_segment_for(e.x),n.setSelection(d(segment.from,segment.to)))}),$(s).bind("plotselected plotselecting",function(t,e){if(null!=e){var n=Math.floor(e.xaxis.from),i=Math.floor(e.xaxis.to),o=$(s).closest(".limit_content").find("form.range_limit");o.find("input.range_begin").val(n),o.find("input.range_end").val(i);var r=$(s).closest(".limit_content").find("[data-slider-placeholder]");r&&r.slider("setValue",[n,i+1])}});var u=$(s).closest(".limit_content").find("form.range_limit");u.find("input.range_begin, input.range_end").change(function(){n.setSelection(f(u,t,e),!0)}),$(s).closest(".limit_content").find(".profile .range").on("slide",function(t){var e=$(t.target).data("slider").getValue();u.find("input.range_begin").val(e[0]),u.find("input.range_end").val(e[1]),n.setSelection(d(e[0],Math.max(e[0],e[1]-1)),!0)}),n.setSelection({xaxis:{from:t,to:e+.9999}})}}function d(t,e){return{xaxis:{from:t,to:e+=.99999}}}function f(t,e,n){var i=BlacklightRangeLimit.parseNum($(t).find("input.range_begin").val());(isNaN(i)||i<e)&&(i=e);var o=BlacklightRangeLimit.parseNum($(t).find("input.range_end").val());return(isNaN(o)||n<o)&&(o=n),d(i,o)}function p(i){return function(t){for(var e=i.length-1;0<=e;e--){var n=i[e];if(t>=n.from)return n}return i[0]}}function m(){var t="undefined"!=typeof $.plot,e="undefined"!=typeof document.createElement("canvas").getContext||"undefined"!=typeof window.CanvasRenderingContext2D||"undefined"!=typeof G_vmlCanvasManager;return t&&e}var r=1/3.236,s="plotDrawn.blacklight.rangeLimit";$(".range_limit .profile .distribution.chart_js ul").each(function(){i($(this).parent())}),$(".range_limit .profile .distribution a.load_distribution").each(function(){var n=$(this).parent("div.distribution");$(n).load($(this).attr("href"),function(t,e){$(n).hasClass("chart_js")&&"success"==e&&i(n)})}),$("body").on("show.bs.collapse",function(t){var e=$(t.target).filter(".facet-content").find(".chart_js");e&&0==e.find("canvas").length&&i(e,1100)}),$("body").on("shown.bs.collapse",function(t){n($(t.target).filter(".facet-content").find(".chart_js"))}),debounce=function(o,r,s){var a;return function(){var t=this,e=arguments,n=function(){a=null,s||o.apply(t,e)},i=s&&!a;clearTimeout(a),a=setTimeout(n,r),i&&o.apply(t,e)}},$(window).on("resize",debounce(function(){$(".chart_js").each(function(t,e){n($(e))})},350))}),function(t){"use strict";function e(t){this.options=t||{}}var n=t.BlacklightRangeLimit;e.noConflict=function i(){return t.BlacklightRangeLimit=n,e},e.parseNum=function o(t){return t=String(t).replace(/[^0-9]/g,""),parseInt(t,10)},t.BlacklightRangeLimit=e}(this),Blacklight.onLoad(function(){function d(t){var e=$(t).closest(".limit_content.range_limit").find(".current"),n=max=BlacklightRangeLimit.parseNum(e.find(".single").text());return isNaN(n)&&(n=BlacklightRangeLimit.parseNum(e.find(".from").first().text()),max=BlacklightRangeLimit.parseNum(e.find(".to").first().text())),(isNaN(n)||isNaN(max))&&(n=BlacklightRangeLimit.parseNum($(t).find(".min").first().text()),max=BlacklightRangeLimit.parseNum($(t).find(".max").first().text())),[n,max]}function f(t){return t%1==0}$(".range_limit .profile .range.slider_js").each(function(){var t=$(this),e=d(this),n=e[0],i=e[1];if(f(n)&&f(i)){$(this).contents().wrapAll('<div style="display:none" />');t=$(this);var o=(h=$(t).closest(".range_limit").find("form.range_limit")).find("input.range_begin"),r=h.find("input.range_end"),s=$('<input type="text" data-slider-placeholder="true" style="width:100%;">').appendTo(t);if(s.slider!==undefined){s.slider({min:n,max:i+1,value:[n,i+1],tooltip:"hide"});var a=t.closest(".range_limit"),l=a.find(".chart_js").data("plot"),c=a.find(".slider");l&&c?(c.width(l.width()),c.css("display","block"),c.css("margin-right","auto"),c.css("margin-left","auto")):c&&c.css("width","100%")}var u=$(this).parent(),h=$(u).closest(".limit_content").find("form.range_limit");$(u).closest(".limit_content").find(".profile .range").on("slide",function(t){var e=$(t.target).data("slider").getValue();h.find("input.range_begin").val(e[0]),h.find("input.range_end").val(e[1])})}o.val(n),r.val(i),o.change(function(){var t=BlacklightRangeLimit.parseNum($(this).val());(isNaN(t)||t<n)&&(t=n);var e=s.data("slider").getValue();e[0]=t,s.slider("setValue",e)}),r.change(function(){var t=BlacklightRangeLimit.parseNum($(this).val());(isNaN(t)||i<t)&&(t=i);var e=s.data("slider").getValue();e[1]=t,s.slider("setValue",e)})}),$("body").on("plotDrawn.blacklight.rangeLimit",function(t){var e=$(t.target).closest(".limit_content.range_limit"),n=e.find(".chart_js").data("plot"),i=e.find(".slider");n&&i&&(i.width(n.width()),i.css("display","block"),i.css("margin-right","auto"),i.css("margin-left","auto"))})});
